前  言
根据国家教委高等学校地理教学指导委员会审定的我国高校地理系有关
专业的培养规格和教学的基本要求，已将地理信息系统列为必修课程，并建
议编写适合于综合性大学和高等师范院校地理系使用的《地理信息系统》教
材。为此，由华东师范大学、南京大学和北京大学组织有关同志联合编写了
本教材。
地理信息系统（G
eographi cal  I nf orm
at i on Syst em
，简称G
I S）是一门
介于地球科学与信息科学之间的交叉学科，它是近年来迅速发展起来的一门
新兴技术学科。它将地学空间数据与计算机技术相结合，通过系统建立、操
作与模型分析，产生对资源、环境、区域规划、管理决策、灾害防治等方面
的有用信息。我国许多大学、科研机构和应用部门，正在从事G
I S 方面的教
学、研究和应用开发工作，使G
I S 成为现代地学发展的强有力技术工具和定
量化的重要途径之一。作为一门新兴的高技术，地理信息系统已引起我国科
技界，特别是地理学界的广泛重视。陈述彭教授在《地理系统与地理信息系
统》一文中，充分阐明了地理信息系统在地理学中的重要作用，指出它是地
理学发展的一个重要方向。
地理信息系统的出现是近20 年来地理学的一个革命性事件。它发展之
快、应用之广、影响之深刻是其它地理学科无可比拟的。H
.  D
.  Parker 认为，
地理信息系统的时代已经到来。在西方发达国家，G
I S 已在众多管理、生产
部门得以广泛普及，高等学校的地学类学科大都已开设G
I S 方面的课程，而
且具有应用和开发G
I S 能力的毕业生，一直受到用人单位的广泛欢迎。我国
的环境、地质、农业、林业、国土、规划等部门，对G
I S 也给予越来越多的
重视，编写G
I S 教材，培养熟悉和应用G
I S 方面的人才是当前地理教学改革
的重要方面。
本教材以地球科学和环境科学为基础，应用系统科学和信息科学的理论
和方法，论述自然环境、生态环境和经济环境等方面的数据采集、处理及分
析模型的应用、图像编辑、系统的管理、成果的输出等。教材以地理信息系
统的基本概念、基础理论、基本技术和应用方法为主线，并以应用为重点组
织教材，形成具有中国特色的地理信息系统教材体系。
为配合本教材的教学，还编写了《地理信息系统实习教材》，并研制了
G
I S—TP 软件系统，该系统可在286 以上规格I BM兼容微机上操作，该系统
包括数据采集、图像入库、D
EM生成、数据格式转换、双向查询、数据分析
模型、图形输出、微机G
I S 应用等功能，操作方便，可全汉化面向用户。该
系统是实习教材的一部分，既与教材紧密配合，又可直接应用于地理学的科
研实践。
地理信息系统总课时为72 学时，实习时数为20 学时左右，约占总课时
三分之一为宜。
本书编写分工是第一、三、四章张超、邬伦，第二章余国培，第五章李
满春、高文，第六章陈丙咸、赵荣、第八章高文，第七、九章邬伦、张超、
任伏虎、程承旗编写，初稿完成后，由张超、邬伦、陈丙咸进行统稿。在修
改过程中华东师范大学梅安新教授、南京大学黄杏元教授、北京师范大学彭
望琭副教授提出了许多宝贵意见，对本教材修改给予了很大帮助，在此表示
衷心地感谢。
本书插图由华东师范大学地理系朱一平绘制，研究生邓青书、应伟勇、
姚文杰、梁梅、刘素霞协助整理图件，打印书稿，在此一并致谢。
书中错误和不足之处，希望有关高校和读者，在使用本教材过程中，给
予批评指正。
编者
1995 年3 月于上海
地理信息系统
第一章  绪论
§ 1. 地理信息系统的产生
地理学的发展与人类生产活动中的技术进步有密切的关系，如果说世界
范围的地理大发现和地理制图技术的革新，促进了近代地理学的诞生，那么，
现代科学方法——系统论、信息论、控制论的形成与现代高新技术——计算
机技术、空间技术和自动化技术的应用，为面临信息时代地理学的发展，展
示出更加广阔的前景。
信息时代以信息资源的科学管理和充分利用为特征。它必将要求地理学
的高度现代化，既要求为国土整治、流域开发、区域规划等提供宏观的辅助
决策信息，又要为地学工程提供微观辅助设计的具体数据，因此，对地理信
息的采集、管理和分析，提出了更高的要求，可以说，地理决策的科学性，
取决于对地理信息获取和分析的技术水平。
这就是地理信息系统
（G
eographi c
I nf orm
at i on Syst em
，简称G
I S）必然产生的历史背景。
一、地图和空间信息
地理信息系统脱胎于地图，它们都是地理信息的载体，具有存储、分析
与显示地理信息的功能。
20 世纪以来，人们对地形图和各种专题地图（例如自然资源专题地图）
的需求量迅速增加。立体航空摄影和遥感成像技术的发展，使摄影测量工作
者能以很高的精度、快速地进行大面积测量，同时也为地学专家们如地理学
家、土壤学家、生态学家、地质学家和土地利用专家等提供了优越的条件，
进行一定精度的制图工作，所产生的专题地图已是资源调查和管理的有用的
信息资源。
岩石、土壤、植物群落及人地关系的空间分析，都是从定性研究开始的。
然而，测量或调查得到的大量数据，仅用分类与制图的方法，不可能得到充
分地利用。定量描述存在两个方面的障碍：一是数据容量大和数据测量不足
的矛盾；二是还缺乏合适的数学工具来描述与分析空间数量关系。30 年代和
40 年代期间，与统计法、时间序列法的发展并行，首次发展了描述空间变化
的一些适用的数学方法，但这些方法的发展终因运算工具缺乏而被迫停止。
60 年代数字计算机投入使用以来，空间信息的概念模式、专题地图数量化及
空间分析才得到真正的发展，其实际应用成为可能。
计算机应用于制图与信息管理以前，各类地图都被看成空间数据库，空
间信息则以点、线、面的形式记录，这些基本实体（点、线、面）再用各种
显示技巧（符号、颜色和文字编码）加以表示并用图例说明，更为详细的信
息则记载于附件中。由此产生如下的一些问题：①原始数据必须大大压缩或
分类，才能使地图易于理解和表示，因而损失掉许多细部特征；②比例尺一
定时，一个大面积制图区域，需用多幅地图描绘，经验证明，人们感兴趣的
部分有时恰恰落在多幅地图的接边地带；③一旦数据表示于地图后，要从中
恢复某些数据以便与其它空间数据组合分析时显得很困难；④印刷地图是静
态定性资料，如要为特殊目的进行定量空间分析时，难以凭借新收集的信息。
特别是一幅地图印刷出版后，不可能不修改，目前科研、生产与管理工作都
要求及时得到有关地表变化的信息，这种情况下传统制图方法就完全不适应
了，例如天气图等，因数据每天甚至每小时都在变化，要及时更新数据库的
数据并立即绘出新的地图，传统的手工制图是绝对办不到的。
近年来，人们能用航空摄影特别是卫星遥感，监测地表资源、环境变化，
或了解沙漠化、土壤侵蚀等缓慢变化过程，或监视森林火灾、洪水、蝗灾和
天气迅速变化状况等。然而航空和遥感产品是图像和记录在磁带上的数据
流，而不是地图。数字数据是二维阵列中的像元编码，而不是人们熟悉的表
示地表点线面特征的图示符号，像元编码仅仅是用来表示一定波段中电磁辐
射反射强度的数字，需要新的设备将这些数据流转换成图像，再从图像中识
别有意义的物体。最初，是物理学家、数学家、计算机科学家在军事部门的
大力支持下发展起了新兴的遥感技术、图像分析技术和模式识别技术等，传
统的制图工作者反而没有从事这方面的研究工作。制作遥感图像的新实践者
们采用了与测量学家、地图制图学家及其它传统空间分析领域中的科学家完
全不同的方法。起初，他们有点夸大其词地宣称：不需要费用过高的外业测
量就有能力用遥感和图像分析技术进行地表特征的识别与制图。后来他们才
认识到只有与实地数据结合，遥感数据分析中产生的结果才具有真正价值，
就是说要使判别结果与实地一致，就必须进行适当的外业调查与地学相关分
析。并且，还应按适当的大地测量网对图像进行定位纠正，否则获取的信息
不能有确切的相关位置，因此，遥感、地面测量与调查分析和制图技术必须
紧密结合起来。
地理信息系统使地理信息（包括遥感）综合管理、充分利用、定量分析、
动态更新与快速成图成为可能。
二、计算机地图制图
六七十年代期间，空间数据应用的主要领域是资源调查、土地评价和规
划等领域，各学科领域的科学家们认识到地表各特征之间的相互联系、相互
影响这一事实后，开始寻找一种综合的多学科、多目标的调查分析方法来评
价地表特征。实践中，规划师、土地利用工作者已从原理上认识到各种单项
资源测量数据的组合和综合，可以简单地在透光桌上将绘在透明薄膜上的单
项图进行多图叠置处理来完成组合工作，并找出各叠置层上多边形边界一致
的部分。与此同时，一些建筑师和城市规划师用计算机在格网纸上打印统计
数值并绘出简单地图。在他们设计的绘图软件中包括一系列数据分析和数据
处理模块，用这些模块可以产生等值区域或等值线内插值，而且能用多种方
法显示分析结果。在这些软件中还包括著名的栅格制图程序和自动进行地图
叠置的程序。
到70 年代后期，由于计算机硬件的持续发展，计算机地图制图的历程向
前迈进了一大步。地图制图领域使用计算机必要性在于：①能更快更便宜地
生产现有地图；②能生产特殊用户需要的地图；③能在缺少技术人员的情况
下生产地图；④允许用同样的数据进行不同图形表示的实验；⑤易于进行统
计分析；⑥改变了仅以印刷地图当作空间数据存储介质的现状，增大了信息
载负量，因而减少了数据压缩分类和数据综合对质量的影响；⑦能生产手工
方法难以生产的地图，如三维地图、立体地图等；⑧能生产那些已确定地图
内容取舍原则而连续生产的地图；⑨自动化的引入能导致整个地图生产过程
的工艺革新、工时节省和技术改进。
引入机助制图后，在地图生产部门，自动化的机助制图技术，通常仅用
于精确的底图绘制、等高线扫描、印刷图的制版胶片图准备等。看来，许多
制图工作者还没有意识到这项新技术的潜力，即有了数字形式的制图数据并
存储于大型数据库中之后就可以用来进行许多非常重要的空间问题分析。因
而当时有人对“ 计算机地图制图” 的评论是：“ 计算机制图就象一个具有青
年运动员的体格和儿童思维能力的人一样” 。事实上计算机制图方法的应用
已形成两种主要趋势，一种是现有制图任务的自动化，重点放在制图精度和
质量，另一种则侧重于空间分析，而忽视精细图形输出。计算机制图技术的
发展对地理信息系统的产生起了有力地促进作用。
三、地理信息系统
计算机用于制图和空间分析的历史表明，在一些较为相关的学科领域
中，数据自动获取、数据分析和数据表示等得到了同步发展。这些领域包括
地形制图、专题制图、市政工程、土壤科学、测量与航测、城乡规划、公用
事业网、遥感与图像分析等。军事领域也占重要地位。这样在各个领域的应
用中做了许多重复的工作，在当前克服了技术和有关概念上的问题之后，有
可能将多种空间数据处理学科连接在一起，
组成目的广泛的地理信息系统
（图
1- 1）。
实际上所有这些独立发展的学科都试图找出一种相同的程式，即为多种
目的发展一套强有力的工具来收集、存储、随意检索、变换和显示从自然界
获取的数据，这一套工具构成了
“ 地理信息系统”（有时称为土地信息系统）
。
地理数据从以下几方面描述自然界的物体：①一定坐标系中的位置；②与位
置无关的属性
（如岩性、地价、
pH值等）；③相互间的空间关系
（拓扑关系），
这种关系描述物体间是如何连接在一起的，或一物体如何在其它物体间移
动。
地理信息系统不同于计算机地图制图，后者主要考虑可视材料的显示和
处理，不太注重可视实体具有或不具有的非图形属性，而这种属性数据在分
析中可能非常有用。现代G
I S 必须具有良好的计算机图形软件，但图形软件
包本身不足以完成用户希望完成的任务。
地理信息系统与计算机辅助设计（CAD
）确有许多共同之处，CAD主要用
于绘制范围广泛的技术图形，大至飞机小至微芯片等。G
I S 和CAD 共同点是
二者都要有坐标参考系统，但前者处理非图形属性数据、描述与分析图形单
元间拓扑关系的功能明显强于后者。它们之间的主要区别还在于G
I S 的容量
大得多，数据输入方式不同，所用的数据分析方法具有专业化特征等。这种
差别有时可能相当大，即便是一个很有效的CAD系统，也可能完全不适合于
地理信息分析处理。
地理信息系统的含义远远超过对地表形状的编码、存储和检索，其实际
内涵是：地理信息系统中的数据，无论是可见的
（记于纸上）或是不可见
（记
于磁介质上），都被认为是自然环境的一种表现模式。因为这些数据可以被
访问、变换、交互式处理，还可以作为研究环境过程、分析发展趋势、预估
规划决策可能结果的基础。G
I S 能为规划者、决策者披露可能的变化情况，
提供行动方针的重要指导思想，使他们不至犯下不可能挽回的错误。
§ 2. 地理信息系统的基本概念
一、信息与数据
信息（I nf orm
at i on）是近代科学的一个专门术语，已广泛地应用于社会
各个领域。关于信息有各种不同的定义，狭义信息论将信息定义为人们获得
信息前后对事物认识的差别；广义信息论认为，信息是指主体（人、生物和
机器）与外部客体（环境、其它人、生物和机器）之间相互联系的一种形式，
是主体和客体之间一切有用的消息和知识，是表征事物特征的一种普遍形
式。
本书采用如下的定义：信息是向人们或机器提供关于现实世界各种事实
的知识，是数据、消息中所包含的意义，它不随载体的物理形式的各种改变
而改变。信息具有如下的特点：①信息的客观性。任何信息都是与客观事物
紧密相联系的；②信息的适用性。信息对决策是十分重要的，建立地理信息
系统的目的就是为生产、管理和决策服务的，因而信息具有适用性；③信息
的传输性。信息可以在信息发送者和接受者之间传输，既包括系统把有用信
息送至终端设备（包括远程终端），和以一定形式提供给有关用户，也包括
信息在系统内各子系统之间的传输和交换。④信息的共享性。信息与实物不
同，它可以传输给多个用户，为多个用户共享，而其本身并无损失。信息的
这些特点，使信息成为当代社会发展的一项重要资源。
数据（D
at a）是通过数字化或直接记录下来的可以被鉴别的符号，不仅
数字是数据，而且文字、符号和图像也是数据。数据是用以载荷信息的物理
符号，在计算机化的地理信息系统中，数据的格式往往和具体的计算机系统
有关，随载荷它的物理设备的形式而改变。数据只有对实体行为产生影响时
才成为信息。例如同样的数据“ 1” 和“ 0” ，当用来表示某一种实体在某个
地域内存在与否时，它就提供了有（1 表示）无（0 表示）的信息。在绘图矩
阵中表示绘线或不绘线时，它就提供抬笔落笔的信息等等。地理信息系统的
建立，首先是收集数据，然后对数据进行处理，即对数据进行运算、排序、
转换、分类、增强等，其目的就是为了得到数据中包含的信息。对同一数据
每个人的解释可能不同，因而获得信息量的多少与人的知识水平和经验有
关。
信息与数据虽然有词义上的差别，但信息与数据是不可分离的，即信息
是数据的内涵，而数据是信息的表达。也就是说数据是信息的载体，只有理
解了数据的含义，对数据作解释才能得到数据中所包含的信息。地理信息系
统的建立和进行，就是信息（或数据）按一定方式流动的过程，在通常情况
下，并不严格区分地使用“ 信息” 和“ 数据” 两个术语。
二、地理信息与地理信息系统
地理信息是指表征地理系统诸要素的数量、质量、分布特征、相互联系
和变化规律的数字、文字、图像和图形等的总称。从地理数据到地理信息的
发展，是人类认识地理事物的一次飞跃。地球表面的岩石圈、水圈、大气圈
和人类活动等是最大的地理信息源。地理科学的一个重要任务就是迅速地采
集到地理空间的几何信息、物理信息和人为信息，并适时地识别、转换、存
储、传输、再生成、显示、控制和应用这些信息。
地理信息属于空间信息，其位置的识别是与数据联系在一起的，这是地
理信息区别于其它类型信息的最显著的标志。地理信息的这种定位特征，是
通过经纬网或公路网建立的地理坐标来实现空间位置的识别；地理信息还具
有多维结构的特征，即在二维空间的基础上实现多专题的第三维结构，而各
个专题型实体型之间的联系是通过属性码进行的，这就为地理系统各圈层之
间的综合研究提供了可能，也为地理系统多层次的分析和信息的传输与筛选
提供了方便。地理信息的时序特征十分明显，因此可以按照时间尺度将地理
信息划分为超短期的（如台风、地震）、短期的（如江河洪水、秋季低温）、
中期的（如土地利用、作物估产）、长期的（如城市化、水土流失）、超长
期的（如地壳变动、气候变化）等。地理信息的这种动态变化的特征，一方
面要求地理信息的获取要及时，并定期更新；另一方面要从其自然的变化过
程中研究其变化规律，从而做出地理事物的预测与预报，为科学决策提供依
据。认识地理信息的这种区域性、多层次性和动态变化的特征对建立地理信
息系统，实现人口、资源、环境等的综合分析、管理、规划和决策具有重要
意义。
地理信息系统是以地理空间数据库为基础，在计算机软硬件的支持下，
对空间相关数据进行采集、管理、操作、分析、模拟和显示，并采用地理模
型分析方法，适时提供多种空间和动态的地理信息，为地理研究和地理决策
服务而建立起来的计算机技术系统。因此，地理信息系统具有以下三个方面
的特征：
1. 具有采集、管理、分析和输出多种地理空间信息的能力；
2. 以地理研究和地理决策为目的，以地理模型方法为手段，具有空间分
析、多要素综合分析和动态预测的能力；并能产生高层次的地理信息；
3. 由计算机系统支持进行空间地理数据管理，并由计算机程序模拟常规
的或专门的地理分析方法，作用于空间数据，产生有用信息，完成人类难以
完成的任务；计算机系统的支持是G
I S 的重要的特征，使G
I S 得到快速、精
确、综合地对复杂的地理系统进行空间定位和动态分析。
地理信息系统从外部来看，它表现为计算机软硬件系统；而其内涵确是
由计算机程序和地理数据组织而成的地理空间信息模型，是一个逻辑缩小
的、高度信息化的地理系统。信息的流动及信息流动的结果，完全由计算机
程序的运行和数据的交换来仿真，地理学家可以在G
I S 支持下提取地理系统
不同侧面、不同层次的空间和时间特征信息，也可以快速地模拟自然过程的
演变和思维过程，取得地理预测和实验的结果，选择优化方案，避免错误的
决策。
当具有一定地学知识的用户使用地理信息系统时，他面对的就不再是毫
无意义的数据，而是空间数据组成的客观世界的一个抽象模型，它比地图所
表达的自然世界模型更为丰富和灵活，用户可以按应用的目的观测这个现实
世界模型的各方面的内容，也可以提取这个模型所表达现象的各种空间尺度
指标，更为重要的是，它可以将自然发生或人为规划的过程加在这个数据模
型上，取得自然过程的分析和预测的信息，用于管理和决策，这就是地理信
息系统的深刻的内涵。
地理信息系统按其内容可以分为三大类：
1. 专题地理信息系统：是具有有限目标和专业特点的地理信息系统。为
特定的专门的目的服务，如水资源管理信息系统、矿产资源信息系统、农作
物估产信息系统、草场资源管理信息系统、水土流失信息系统、环境管理信
息系统等。
2. 区域地理信息系统：主要以区域综合研究和全面信息服务为目标。可
以有不同规模，如国家级的、地区或省级的、市级或县级等为各不同级别行
政区服务的区域信息系统，也可以按自然分区或流域为单位的区域信息系
统。区域信息系统如加拿大国家信息系统、美国橡树岭（O
akRi dge）地区信
息系统、圣地亚哥县信息系统、我国黄河流域信息系统等。
许多实际的地理信息系统是介于上述二者之间的区域性专题信息系统，
如北京市水土流失信息系统、上海市环境管理信息系统、海南岛土地评价信
息系统、河南省冬小麦估产信息系统等。
3. 地理信息系统工具：它是一组具有图形图像数字化、存储管理、查询
检索、分析运算和多种输出等地理信息系统基本功能的软件包。它们或者是
专门研究的，或者在完成实用地理信息系统后抽去具体的区域或专题的地理
空间数据后得到的，这些软件适于用来作为地理信息系统支撑软件以建立专
题或区域性的实用性地理信息系统，也可用作教学软件。由于地理信息系统
软件设计技术较高，而且重复编制比较复杂的基础软件也造成人力的极大浪
费，因此采用地理信息系统工具，无疑是建立实用地理信息系统的一条捷径。
目前地理信息系统工具的研究还不十分成熟，在功能覆盖、应用程序接口、
硬件适应面和使用灵活性上还不能满足不同领域不同层次的需要，但随着人
们对它的重视和研究工作的开展，水平会大大提高，成为类似商用的数据库
管理系统（如dBASEI I I 等）的软件工具。
国内外已在不同档次的计算机设备上研制了一批地理信息系统工具，如
美国环境系统研究所研制的ARC/I N
FO系统，
美国耶鲁大学森林与环境研究学
院的M
AP（M
ap Anal ysi s Package）系统，以及北京大学研制的微机地理信
息系统工具Spacem
an 等。
在通用的地理信息系统工具支持下建立区域或专题地理信息系统，不仅
可以节省软件开发的人力、物力、财力，缩短系统建立周期，提高系统技术
水平，而且使地理信息系统技术易于推广，并使广大地学工作者可以将更多
的精力投入高层次的应用模型开发上。
§ 3. 地理信息系统的组成
地理信息系统主要由四个部分组成，即计算机硬件系统、计算机软件系
统、地理空间数据库和系统管理人员。地理信息系统的组成，可综合表示为
图1- 2。
一、计算机硬件系统
图1- 3 表示地理信息系统的一般硬件组成。中央处理机
（CPU
）与磁盘驱
动器连接在一起提供存储数据和程序的空间；数字化仪或其它数字化设备将
地图或航片等被数字化材料转换成数字形式送入计算机；绘图仪或其它类型
的显示设备用于表示数据处理结果；磁带（盘）机主要用来存储数据和程序
或与其它系统进行通讯。用户通过可视显示器
（VD
U
）或终端控制计算机和外
围设备（绘图仪、打印机、数字化仪等）。
二、计算机软件系统
计算机软件系统是指地理信息系统运行所必须的各种程序。通常包括：
1. 计算机系统软件：由计算机厂家提供的为用户开发和使用计算机提供
方便的程序系统。通常包括操作系统、汇编程序、编译程序、诊断程序、库
程序以及各种维护使用手册。
2. 地理信息系统软件：地理信息系统软件应包括五类基本模块（图1-
4），即下述诸子系统：数据输入和检验、数据存储和管理、数据变换、数据
输出和表示、用户接口等。
（1）数据输入和校验：包括能将现有地图、外业观测数据、传感器获取
的数据转换成计算机兼容的数字形式的各种转换软件（图1- 5）。许多计算
机工具都可用于输入，例如人机交互终端（键盘与显示器）、数字化仪、扫
描仪
（卫星或飞机上直接记录数据或用于地图或航片的扫描仪）以及从磁带、
磁盘、磁鼓上读取数字或数据的装置等。数据检验是通过观测、统计分析和
逻辑分析检查数据中存在的错误，并通过适当的编辑方式加以改正。事实上
数据输入和检验都是建立地理数据库必须的过程。
（2）数据存储和管理：是地理信息系统的关键组成部分之一。数据存储
和数据库管理（图1- 6）涉及地理元素（表示地表物体的点、线、面）的位
置、连接关系及属性数据如何构造和组织，使其便于计算机处理和系统用户
理解等。用于组织数据库的计算机程序，称为数据库管理系统（D
BM
S）。地
理数据库包括数据格式的选择和转换、数据的联结、查询、提取等。
（3）数据变换（图1- 7）：包括两类操作：①变换的目的是从数据中消
除错误，数据更新，与其它数据库匹配；②为回答G
I S 提出的问题而采用的
大量数据分析方法。空间数据和非空间数据可单独或联合进行变换运算。比
例尺变换、数据与投影匹配（投影变换）、数据的逻辑检索、面积和边长计
算等，都是G
I S 中一般的变换特征。其它一些变换处理可能极其偏重于专业
应用，也可能是将数据合并到一个只满足特定用户需要的专门化G
I S 系统。
这里特别要指出的空间分析函数变换，它是指对单幅或多幅图件及其属
性数据进行分析运算和指标量测。在这种操作中，以一幅或多幅图作为输入，
而分析运算结果则以一幅或多幅新生成的图件表示，在空间定位上仍与输入
的图件一致，故可称为函数转换。空间函数转换可分为基于点或像元的空间
函数，如基于像元的算术运算、逻辑运算或聚类分析等；基于区域的空间函
数如叠加分类、区域形状量测等；基于邻域的空间函数如像元连通性、扩散、
最短路径搜索等。量测包括对面积、长度、体积、空间方位、空间变化等指
标的计算。
对空间数据的处理和分析，是地理信息系统功能的主要体现，也是系统
应用数学方法的重要前提，其目的是为了取得系统应用所需要的信息，或对
原有信息结构形式的转换。由上面的分析可知，这些转换、分析和应用类型
是极其广泛的，它既包括比例尺和投影的数字变换、数据处理和分析，还包
括地理或空间模型的建立。
（4）数据显示与输出（图1- 8）：是指地理信息系统内的原始数据或经
系统分析和处理的结果传输给用户，它以报表、统计图、查询应答、地图形
式在屏幕上显示，或通过打印机、绘图仪输出，也可通过通讯网络传输到其
它计算机系统供用户使用。
（5）用户接口模块：该模块用于接收用户的指令和程序或数据，是用户
和系统交互的工具，主要包括用户界面，程序接口与数据接口。由于地理信
息系统功能复杂，且用户又往往为非计算机专业人员，用户界面（或人机界
面）是地理信息系统应用的重要组成部分，它通过菜单技术、用户询问语言
的设置，还可采用人工智能的自然语言处理技术与图形界面（G
U
I ）等技术，
提供多窗口和光标或鼠标选择菜单等控制功能，为用户发出操作指令提供方
便。该模块还随时向用户提供系统运行信息和系统操作帮助信息，这就使地
理信息系统成为人机交互的开放式系统。而程序接口和数据接口可分别为用
户联接各自特定的应用程序模块和使用非系统标准的数据文件提供方便。
3. 应用分析软件：是指系统开发人员或用户根据地理专题或区域分析的
模型编制的用于某种特定应用任务的程序，是系统功能的扩充和延伸。应用
程序作用于地理专题数据或区域数据，构成G
I S 的具体内容，这是用户最为
关心的真正用于地理分析的部分，也是从空间数据中提取地理信息的关键。
用户进行系统开发的大部分工作是开发应用程序，而应用程序的水平在很大
程度上决定系统的实用性优劣和成败。
三、地理空间数据
地理空间数据是指以地球表面空间位置为参照，描述自然、社会和人文
经济景观的数据，这些数据可以是图形、图像、文字、表格和数字等，由系
统建立者通过数字化仪、扫描仪、键盘、磁带机或其它系统通讯输入G
I S，
是G
I S 所表达的现实世界经过模型抽象的实质性内容，地理信息系统的数据
模型包括三个互相联系的方面：
1. 在某个已知坐标系中的位置：即用几何坐标标识地理实体的空间位
置，如经纬度、平面直角坐标、极坐标等，采用数字化仪输入时，常采用数
字化仪直角坐标或屏幕直角坐标。
2. 实体间的空间相关性：地理事物点、线、面实体间的空间联系，用拓
扑关系（Topol ogy）来表示，如网络结点与网络之间的枢纽关系（图1－9
（a））、边界线与面实体间的构成关系（如图1- 9（b））、面实体与内部
点包含关系（图1- 9（c））。空间拓扑关系对于地理空间数据的编码、格式
转换、存储管理、查询检索和模型分析都有重要意义，是地理信息系统特色
之一。
3. 与几何位置无关的属性：地理数据模型中，将地理事物或现象的性质
描述为属性（At - t ri but e）的数据，它是与地理实体相联系的地理变量。属
性分为定性和定量的两种，定性的包括名称、类型、特性等，它描述的属性
有气候类型、土地利用、行政区划等；定量的包括数量和等级，它描述的属
性如面积、长度、土地等级、人口数量、降水量、积温等。属性一般是经过
抽象的概念，通过分类、命名、量测、统计得到。任何地理实体至少有一个
属性，而地理信息系统的分析、检索和表示主要是通过属性的操作运算实现
的。因此属性的分类系统、量测指标对系统的建设有较大的影响。
地理信息系统特殊的空间数据模型决定了地理信息系统独有的空间数据
结构和数据编码，也决定了它独具的空间数据管理方法和系统空间数据分析
能力，成为地理学研究与资源环境管理的重要工具。
四、系统开发、管理和使用人员
人是地理信息系统中重要构成因素，G
I S 不同于一幅地图，而是一个动
态的地理模型，仅有系统软硬件和数据还构不成完整的地理信息系统，需要
人进行系统组织、管理、维护和数据更新、系统扩充完善、应用程序开发，
并采用地理分析模型提取多种信息，为地理学研究和地理决策服务。
地理信息系统合理的组织状况如图1- 10 所示。
如同生产复杂产品的企业
一样，组织者要尽量使整个生产过程形成一个整体。要真正做到这些，不仅
要在硬件和软件方面投资，还要在适当的组织机构中重新培训工作人员和管
理人员方面投资，使他们能够应用新技术。近年来，硬件设备连年降价而性
能则日趋完善与增强，但有技能的工作人员及优质廉价的软件仍然不足。只
有在对G
I S 合理投资与综合配置的情况下，才能建立有效的地理信息系统。
§ 4. 地理信息系统的应用
地理信息系统的应用即人应用G
I S 对地球表层人文经济和自然资源及环
境等多种信息进行管理和分析，以掌握城乡和区域的自然环境和经济地理要
素的空间分布、空间结构、空间联系和空间过程的演变规律，使它成为国家
宏观决策和区域多目标开发的依据，从而为区域经济发展服务。
地理信息通过数值化录入，压缩存贮与系统管理，便于维护和提取，而
且成本低、
速度快，
可以对地理学理论模式进行快速的和重复的分析测试
（例
如土地适宜性分析），便于在短期内对大范围地区进行科学和政策标准的评
价；可以有效地对多时期的变化进行动态监测和分析比较；可以将数据收集、
空间分析和决策过程综合为一个共同的信息流，这在工作效率和经济效益上
都明显地占有优势。因而，地理信息系统在国内外都有成功的应用实例。如
美国三里岛核电站事故中就是应用地理信息系统及时作出判断与决策；又如
利用地理信息系统进行世界小麦大面积估产、全球大气环流形势和海况预
报、环境管理；加拿大应用CG
I S 完成全国土地资源潜力估算；中国西南地区
国土资源信息系统用于资源分析、评价、预测和合理开发利用等。
一、管理和决策对地理信息系统的要求
城市与区域研究要求地理信息系统在信息表示、管理和分析方面满足其
空间、动态、定量和综合性要求。
1. 区域地理信息的表示与管理：区域地理实体或景观表现为多种空间类
型，可大致抽象为点、线、面三种类型。点，具有几何确定位置，在空间分
析中将某些具有一定空间的地理实体（如城市）抽象为点：线具有一定的走
向和长度，表示线状地物或点之间的地理联系，最重要的线状地物为交通线；
面具有确定的范围和形态，表示空间连续分布的地理景观或作用范围。点线
结合组成网络；线面结合成为地带；面点结合成为地域类型；点线面结合组
成区域。
用于城市和区域研究的地理信息系统必须有效地表示地理空间上点线面
实体。其数据拓扑结构由点（Poi nt ）、弧（Arc）、多边形（Pol ygon）、数
据平面（Pl ane）等四个级别组成。弧可以用来表示地理线，多边形用来表示
地理面，数据平面用来表示空间区域内某一方面地理要素的内容。
城市与区域研究具有高度综合性，涉及自然、社会、人文经济等多方面
的要素，因此G
I S 不仅要采用几何图形表示空间位置，还必须以属性方式表
示图形的地理意义。前已述及属性可以是定性的名称、类型和特征，也可以
是定量表示的数量和等级。图形和属性是地理模型抽象的产物，图形是几何
的抽象，属性是概念和度量的抽象，二者之间存在有机的联系。在G
I S 中要
求既可以在属性意义上进行空间查询和分析，又可以空间定位地进行属性列
表、统计运算和属性信息处理，并支持图形- 属性空间分析模型。属性的图形
基础可以是地理景观单元，也可以是空间坐标像元，视研究者要求而定。
目前正在发展一种面向对象的数据库（O
bj ect  O
ri ent ed D
at abase），
根据地理景观的结构特点，设计空间数据结构，实现属性和图形在数据结构
上的统一。
城市和区域的信息管理，要求数据项的选择应符合区域模型，要素过多
会拖长系统建立和数据更新周期，失去动态性特点；要素不足，不利于全面
的综合分析。此外，区域地理要素既相互关联，在形态和类型上又很不一致，
既有具体的，又有抽象的，G
I S 数据结构要适合于各种形态，要素之间的地
理关系也力求在数据结构中得到正确的反映，数据库要具有开放性。
地理区域具有层次性，因此对于区域信息管理也必须按照区域等级系统
划分为不同的层次，具有不同的精度。对于较大尺度的地理区域，信息量较
大，在G
I S 中要求采用适用的编码方法进行数据压缩，减少冗余。为满足区
域综合空间分析的要求，区域要素要按照共同的地理空间配准。
2. 区域空间指标和空间关系量测：空间指标在区域定量分析、区内差异
分析、区域对比、区域间联系研究等方面具有重要意义。定量量测区域空间
指标和区域地理景观间的空间关系是G
I S 特有的能力。计算机高速运算能力
和有效的地理数据空间结构，使得这种量测得以高效准确地实现。区域空间
指标包括：
（1）几何指标：如位置、长度（距离）、面积、体积、形状、方位等；
（2）自然地理参数：如坡度、坡向、河网密度、切割程度、年降水量、
积温等；
（3）经济地理指标：如集中化指数、区位商、差异指数、地理关联系数、
吸引范围、交通便利程度等；
（4）人文社会指标：如人口密度、人均收入、社会福利等。
城市与区域地理要素之间的空间区位关系可抽象为点、弧、线、多边形
之间的空间几何关系，对它们的量测包括点—点、点—线、点—区域、线—
线、区域—区域关系的量测。
3. 区域综合分析：区域综合分析是一个复杂的系统问题，区域分析的复
杂性决定了所采取的分析手段的多样性。它们包括：
（1）常规数理统计分析方法：在地理信息系统中应用常规数理统计方法
关键在于如何与空间位置相联系。数理统计通常是针对属性进行的，要具有
空间分析的意义必须将分析结果与图形相联系。通常采用逐点分析、景观单
元分析、行政单元分析等方法；
（2）G
I S 空间分析函数：空间分析函数是对地理空间数据按一定规则进
行转换的图像函数，基于一定的空间分析算法，以一个或多个数据平面作为
输入，函数运算结果产生新的数据平面。许多区域分析模型要求首先由空间
分析函数将原始数据进行变换，以获取符合模型要求形式的地理空间信息，
例如在经济地理综合评价中，要求将诸如中心城市、商业网点、重要居民点、
大工厂、公路、铁路等点状和线状地理实体的影响扩展到整个空间区域，通
常要由空间分析函数运算来完成，如①以两点或线段的中分线划分控制范
围；②按邻近距离划分控制范围的圈层结构；③空间插值或拟合；④空间计
数，即采用一定区域内的数据点数或线段长度作为区域指标，如城市密度、
交通密度等；⑤由理论公式决定影响范围。
采用距离计算函数可以将交通网络图转换为各空间点距交通线最小范
围，作为交通便利程度指标参加评价；采用空间计数函数可以计算各地理分
区内点状地物个数，作为区域聚集程度指标参加评价，也可作为灾害评价依
据，采用该函数可以得到诸如城市密度等空间分布指标，对区域分析有很大
帮助。在区域地貌研究中可以计算单位面积内水系与沟谷长度，得到切割密
度图参加构造稳定性评价；在环境污染评价中，可根据区域内各污染源的位
置、源强、密度、风向、风速等指标，采用点源扩散公式确定污染物浓度场
等。
空间分析函数包括点函数（仅仅涉及各空间点的各地理要素的属性内
容），区域函数（涉及某个区域内空间点的共同性质）和邻近检测函数（涉
及空间与其邻近点的相应空间关系）等三种类型。
（3）地理模型分析：地理模型分析是地理信息系统区别于其它计算机系
统的重要标志，地理信息系统通过地理模型分析从空间数据中提取有用信
息，达到地理分析和辅助决策的目的，没有强有力的地理模型分析，只能停
留在地理数据库的水平，称不上地理信息系统。
模型就是将系统的各个要素，通过适当的筛选，用一定的表现规则所描
述出来的简明映像。通常表达了某个系统的发展过程或发展结果。例如经济
地理模型是用来描述经济地理各要素之间的相互关系，通常反映经济地理过
程及其发展趋势或结果，比如空间相互作用模型、距离衰减模型、中心地理
论等。由于地理模型通常涉及同一区域的各种自然、经济、人文要素的空间
数据，因此在G
I S 中要求数据质量和精度、坐标系统与设计方式、获取数据
的时间与量测方法、地图比例尺、分类系统等的一致性；以保证分析结果的
科学性。
城市与区域是一个动态系统，处于不断演化发展过程中。城市与区域研
究的目的，正是在于探索其动态演化规律，预测自然和人为过程的发展趋势，
指导人类选择最佳的对策，这是地理信息系统最高层次的应用。G
I S 用于模
拟和预测时，需要G
I S 数据结构中具有时间轴的标识，能支持快速的数据更
新，并具有系统模拟和动态分析的功能。
地理信息系统利用地理模型，进行城市与区域系统的动态模拟，不仅可
以提取系统各时期不同的多种空间指标，还可以将自然发生或人为规划的动
态过程施行于这个数据模型组，使人类在地理事件发生之前取得未来的精确
预测信息，以避免决策失误带来的损失。
二、地理信息系统的应用功能
1. 资源清查：资源清查是地理信息系统最基本的职能，这时系统的主要
任务是将各种来源的数据汇集在一起，并通过系统的统计和覆盖分析功能，
按多种边界和属性条件，提供区域多种条件组合形式的资源统计和进行原始
数据的快速再现。以土地利用类型为例，可以输出不同土地利用类型的分布
和面积，按不同高程带划分的土地利用类型，不同坡度区内的土地利用现状，
以及不同时期的土地利用变化等，为资源的合理利用、开发和科学管理提供
依据。又如中国西南地区国土资源信息系统，设置了三个功能子系统，即数
据库系统、
辅助决策系统、
图形系统。
资源数据存储了1500 多项300 多万个。
该系统提供了一系列资源分析与评价模型、资源预测预报及西南地区资源合
理开发配置模型。该系统可绘制草场资源分布图、矿产资源分布图、各地县
产值统计图、农作物产量统计图、交通规划图、重大项目规划图等不同内容
的专业图。
2. 城乡规划：城市与区域规划中要处理许多不同性质和不同特点的问
题，它涉及资源、环境、人口、交通、经济、教育、文化和金融等多个地理
变量和大量数据。地理信息系统的数据库管理有利于将这些数据信息归并到
统一系统中，最后进行城市与区域多目标的开发和规划，包括城镇总体规划、
城市建设用地适宜性评价、环境质量评价、道路交通规划、公共设施配置，
以及城市环境的动态监测等。这些规划功能的实现，是以地理信息系统的空
间搜索方法、多种信息的叠加处理和一系列分析软件（回归分析、投入产出
计算、模糊加权评价、0- 1 规划模型、系统动力学模型等）加以保证的。我
国大城市数量居于世界前列，根据加快中心城市的规划建设，加强城市建设
决策科学化的要求，利用地理信息系统作为城市规划、管理和分析的工具，
具有十分重要的意义。
3. 灾害监测：借助遥感遥测数据的搜集，利用地理信息系统，可以有效
地用于森林火灾的预测预报、洪水灾情监测和洪水淹没损失的估算，为救灾
抢险和防洪决策提供及时准确的信息，例如据我国大兴安岭地区的研究，通
过普查分析森林火灾实况，统计分析十几万个气象数据，从中筛选出气温、
风速、降水、温度等气象要素、春秋两季植被生长情况和积雪覆盖程度等14
个因子，用模糊数学方法建立数学模型，建立微机信息系统的多因子的综合
指标森林火险预报方法，对预报火险等级的准确率可达73％以上。又如黄河
三角洲地区防洪减灾信息系统，在ARC/I N
FO地理信息系统软件支持下，借助
于大比例尺数字高程模型加上各种专题地图如土地利用、水系、居民点、油
井、工厂和工程设施以及社会经济统计信息等，通过各种图形叠加、操作、
分析等功能，可以计算出若干个泻洪区域及其面积，比较不同泻洪区域内的
土地利用、房屋、财产损失等，最后得出最佳的泻洪区域，并制定整个泻洪
区域内的人员撤退、财产转移和救灾物资供应等的最佳运输线路。
4. 环境管理：环境管理涉及人类社会活动和经济活动的一切领域，一个
大中型城市每年搜集和监测的环境数据可能多达100 万个，对如此大量的数
据，应使其有效地为环境管理决策及其它用途服务。一个地方的环境管理信
息系统的功能有：
（1）为环境管理部门提供数据和信息存储方法——基础数据库系统；
（2）提供环境管理的数据统计、报表和图形编制方法；
（3）建立环境污染的若干模型，为环境管理决策提供支持；
（4）提供环保部门办公软件；
（5）提供信息传输的方法和手段。
例如上海市环境管理信息系统具有如下主要特征：
（1）建立了动态数据库，可以存储环境监测数据
（包括污染源和环境质
量）和其它有关数据（如环境标准、水文、气象等），对大多数环境管理功
能来说，实现了数据共享；
（2）面向环境质量管理，可以对环境质量状况的统计、评价、预测、规
划以及其它管理提供支持；
（3）为实现面向污染源的污染控制管理提供支持，可以实现排污收费、
排污许可证制度的管理；
（4）为便于用户使用，系统设计一个界面友好的窗口菜单系统，使用方
便，可以提供不同形式的输出，包括屏幕显示，表格打印，图形绘制，磁盘
传输等，还预留了远程通讯接口。
5. 宏观决策：地理信息系统利用拥有的数据库，通过一系列决策模型的
构建和比较分析，为国家宏观决策提供依据。例如系统支持下的土地承载力
的研究，可以解决土地资源与人口容量的规划。我国在三峡地区研究中，通
过利用地理信息系统和机助制图的方法，建立环境监测系统，为三峡宏观决
策提供了建库前后环境变化的数量、速度和演变趋势等可靠的数据。
§ 5. 地理信息系统的研究内容
一、研究内容
地理信息系统研究内容主要有以下三个方面（图1- 11）：
1. 地理信息系统基本理论研究：包括研究地理信息系统的概念、定义和
内涵；地理信息系统的信息论研究；建立地理信息系统的理论体系；研究地
理信息系统的构成、功能、特点和任务；总结地理信息系统的发展历史，探
讨地理信息系统发展方向等理论问题。
地理信息系统
——基本理论
概念、定义、内涵
信息论分析
理论体系
构成、特点、功能、任务
发展历史
发展方向
——技术系统
硬件配置
数据结构
输入、输出系统
空间数据管理
用户界面
地理信息系统工具
微机地理信息系统
——应用方法
应用系统设计
数据采集与校验
专题分析模型
与遥感结合
地学专家系统



























































GIS
图1- 11 地理信息系统内容体系
2. 地理信息系统技术系统设计：包括地理信息系统硬件设计与配置；地
理空间数据结构及表示；输入与输出系统；空间数据库管理系统；用户界面
与用户工具设计；地理信息系统工具软件研制；微机地理信息系统的开发等。
3. 地理信息系统应用方法论研究：包括应用系统设计和实现方法；数据
采集与校验；空间分析函数与专题分析模型；地理信息系统与遥感技术结合
方法；地学专家系统研究等。
地理信息系统是在地理学研究和生产实践的需求中产生，地理信息系统
的应用使技术系统不断完善，并逐渐发展了地理信息系统的理论；理论研究
又指导开发新一代高效地理信息系统，并不断拓宽其应用领域，加深应用的
深度；地理信息系统的应用，又对理论研究和技术方法提出了更高的要求。
因此上述三个方面的研究内容是相互联系相互促进的。从目前状况看，对技
术系统的研制和实现进行的工作较多，应用方法研究不足，而理论研究工作
则很薄弱。
二、相关学科
地理信息系统的发展，明显地体现出多学科交叉的特点，这些交叉的学
科包括地理学、地图学、摄影测量学、遥感技术、数学和统计科学、计算机
科学，
以及一切与处理和分析空间数据有关的学科。
目前数据库技术
（D
BM
S）
、
计算机辅助设计、计算机辅助制图（CAM
）和计算机图形学（Com
put er
G
raphi cs）软件包已被许多G
I S 研究者所采用，但这些系统不是为地理意义
而设计的，无法取代G
I S 的作用。G
I S 正是这些相关学科与地理学相结合的
基础上发展起来的（图1- 12）。
§ 6. 地理信息系统的发展趋势
一、GI S 的发展阶段
地理信息系统的创立和发展是与地理空间信息的表示、处理、分析和应
用手段的不断发展分不开的。考察地理信息系统的发展，可分为60 年代的起
始发展阶段、70 年代的巩固阶段和80 年代的大发展阶段。
地理信息系统起源于北美。加拿大国家土地调查局为了处理大量的土地
调查资料，于60 年代开始建立地理信息系统，经过十多年的试验与研究，于
70 年代初投入产品生产，成为世界上第一个运行性地理信息系统。同一时期
的美国哈佛大学的计算机图形与空间分析实验室，建立通用的制图软件包，
竭力发展空间分析模型和软件。国际地理联合会（I G
U
）在1968 年成立了地
理数据收集和处理委员会，对组织地理信息系统的国际讨论，促进这一领域
的发展起了重要作用。
70 年代，不同专题、不同规模、不同类型的各具特色的地理信息系统在
世界各地纷纷研制，美国、加拿大、英国、西德、瑞典和日本等国对地理信
息系统的研究均投入了大量的人力、物力、财力。在这一阶段，国际地理联
合会召开了几次地理信息系统会议，
并于1972 年出版了地理信息系统方面的
第一本专著《地理数据处理》。人员培训受到重视，许多大学培养G
I S 人才，
创建了地理信息系统实验室。
美国地质调查局发展了50 多个地理信息系统，用于获取和处理地质、地
理、地形和水资源信息，较典型的有G
I RAS，主要用于输入处理、分析和输
出全国范围土地利用和土地覆盖制图的空间数据；日本国土地理院从1974
年开始建立数字国土信息系统，存储、处理和检索测量数据、航空像片信息、
行政区划、土地利用、地形地质等信息，为国家和地区土地规划服务；瑞典
在中央、区域和城市三级建立了许多信息系统，如土地测量信息系统、斯德
哥尔摩地理信息系统、城市规划信息系统等。
在这期间，世界上发展了许多功能较强的地理信息系统，出现了大量的
数据库，但这些系统的分析功能和60 年代相比，并没有得到很大的扩充，而
且数据库的容量一般都比较小，因此说70 年代为巩固阶段。
80 年代为地理信息系统的大发展阶段。随着计算机的迅速发展和普及，
地理信息系统也逐步走向成熟，并在全世界范围内全面地推向应用阶段。如
加拿大、日本、英国、荷兰、瑞典等国将地理信息系统用于国土规划、支持
资源与环境管理决策，同时发展中的第三世界国家，在高技术的冲击下，也
迈开了信息时代的步伐，开始引进、应用和发展自己的地理信息系统。
在此期间，地理信息系统已进入多学科领域，由比较简单的、单一功能
的、分散的系统发展成为多功能的、用户共享的综合性信息系统，并向智能
化发展，应用专家系统知识，进行分析、预报和决策。如已开始用地理信息
系统来研究全球厄尔尼诺现象和全球沙漠化问题。此外，还发展了操作地理
信息系统，如美国地质调查局应用地理信息系统，对美国三里岛核泄漏事件
在24 小时内就做出反应，并迅速地对核扩散进行影响评价。
高性能的微型计算机的问世，使得微机地理信息系统蓬勃发展，并得到
广泛的应用。这一发展，使得地理信息系统工具具有更高的效率、更强的独
立性和通用性，更少依赖于应用领域和硬件环境，为地理信息系统的建立和
应用开辟了新的途径。
此外，在此期间出现了一些性能较好的软件，如美国环境系统研究所
（ESRI ）开发的ARC/I N
FO地理信息系统。
二、GI S 在我国的发展
地理信息系统的研制与应用在我国起步较晚，从70 年代末开始。虽然历
史较短，但是发展还是很快。地理信息系统在中国，亦称为资源与环境信息
系统，它们的研究对象和研究内容是一致的。中国地理信息系统发展的技术
基础是计算机地图制图、计算机技术、计量地理和遥感技术。中国地理信息
系统的发展也可分为三个阶段。第一阶段从1978 年到1980 年为准备阶段，
主要进行舆论准备，正式提出倡议，开始组建队伍、组织个别实验研究。第
二阶段从1981 年到1985 年为起步阶段。这一阶段主要是对地理信息系统进
行理论探索和区域性实验研究。并在此基础上制定国家地理信息系统规范。
1981 年在四川渡口二滩进行试验，以航空遥感资料为基础，进行信息采集和
数据库模型设计。从1984 年开始，国家测绘局测绘科学研究所着手组建中国
国土基础信息系统。1985 年国家资源与环境信息系统实验室成立，这是一个
新型的开放性研究实验室。第三阶段从1986 年到现在为初步发展阶段。地理
信息系统的研究被列入我国“ 七五” 攻关课题，并且作为一个全国性的研究
领域，已逐步和国民经济建设相结合，并取得了重要进展和实际应用效益。
这个阶段全国形成了一个比较系统的研究计划：一方面，以研究资源与环境
信息系统的国家规范和标准、省、市、县级的规范和区域性的规范为主体，
解决信息共享和系统兼容的问题；另一方面开展全国性的自然资源与环境、
国土和水土保持信息系统的建立和应用模式研究，开展结合水土保持、洪水
预警和救灾对策、防护林生态和城市环境等方面区域信息系统研究；第三方
面是研制和发展软件系统和专家系统，从技术上支撑上述研究领域的开拓与
发展。在这个阶段，全国建成了一批数据库，如林业部研制的全国森林资源
数据库；开发了一系列空间信息处理和制图软件，如南京大学的微机制图系
统及地图绘制软件包、中国科学院地理研究所的地理网络法软件系统；建立
了一些具有分析和应用深度的地理模型和基础性的专家系统，如北京大学的
地理专家系统、中国科学院综考会的资源开发模型工具库系统、武汉测绘学
院的基于G
I S 的专题地图设计专家系统、华东师范大学的地理应用程序软件
包等；完成了一批综合性、区域性和专题性的信息系统，如中国科学院的中
国国土基础信息系统、黄土高原水土流失信息系统、黄河下游洪水险情预警
信息系统、黄河三角洲区域信息系统、洞庭湖堤境区域信息系统、三北、京
津唐地区生态信息系统，高校遥感联合中心的三川河流域区域治理与开发信
息系统，北京师范大学的区域土地适宜性评价信息系统、小流域地理信息系
统，国家地震局的地震预测预报信息系统，北京大学的遥感地理信息系统，
华东师范大学的县级地理信息系统，南京大学的省、市、县区域规划与管理
信息系统等；开始出版有关地理信息系统理论、技术和应用等方面的著作，
并积极开展国际合作，参与全球性地理信息系统的讨论和实验。现已在全国
范围内形成了地理信息系统的科研队伍，逐步建立了不同层次、不同规模的
研究中心和实验室。
三、发展趋势
目前地理信息系统的主要发展趋势集中在以下几个方面：
1. 空间数据结构与数据管理：传统的栅格和矢量结构各有特点，目前倾
向于两种结构并存。需要设计高效的栅格—矢量相互转换算法来支持栅格和
矢量统一的系统。特别是适用于微机地理信息系统更具有特殊意义。为满足
建立大规模实用系统的需要，图形空间数据压缩技术也在发展。空间数据库
系统的研制，包括逻辑结构的设计和适合于地理实体表示的物理存储结构的
研究正在从理论走向实用；一种面向对象的数据模型由于更适合定义复杂的
地理实体和对复杂事物的直接操作而被接受，实用的语言界面正在开发。新
的空间数据结构，如“ 真三维” 、“ 时空四维” 等结构也正在探索中。
2. 数据自动输入技术：
图形和属性数据的输入历来是G
I S 建立的一个
“ 瓶
颈” ，自动输入的发展将最终解决这个问题。G
I S 自动输入包括对属性表格
的扫描和识别、图形扫描和追踪、拓扑关系自动生成、图例符号的自动标识
等。
3. G
I S 的微机化：微机化是地理信息系统普及的关键。由于微机在速度、
容量和功能等方面的限制，微机G
I S 软件技术的发展难度较大。目前国外许
多著名的系统作了微机化，国内的许多系统大多也是针对微机开发的，至今
尚未有商品化的成果。
4. G
I S 与遥感的进一步结合：
G
I S 与遥感结合主要采用两种方式，一种是
通过软件接口完成数据结构的相互转换，将图像处理的结果输入G
I S，或将
G
I S 专题信息传入遥感图像处理系统进行信息复合及辅助信息分类；另一种
是将G
I S 与遥感处理系统组成一个统一的软件系统，以完成信息复合、交互
查询、自动分类、更新等G
I S 功能。这是G
I S 与遥感图像结合的高级形式。
国外在中小型机上开发的一些G
I S，已具有G
I S 与遥感叠加交互查询等功能。
5. G
I S 的智能化：以专家经验式知识为基础的G
I S，具有更强的分析和表
达复杂地学问题的能力，引起了普遍重视。美国加州大学巴巴拉分校研制的
以专家知识为基础的KBG
I S- Ⅱ就是其中之一。这些系统并不十分完善，主要
是由于G
I S 所面临问题的复杂性，以及地理专家知识还没有计算机化，智能
化的G
I S 代表着一个令人鼓舞的重要发展方向。
6. G
I S 应用模型开发：应用模型不足，是阻碍G
I S 实用化的原因之一，
目前应用模型的开发已受到较大的重视，比较引人注目的是：①引进空间化
的数理统计和系统分析方法；②通过实例研究，建立专业模型，如水土流失、
森林火灾预报、土地评价、地貌分析、旅游资源评价、环境污染评价等，作
为模型工具提供用户使用。在G
I S 应用中，应用模型是联系G
I S 应用系统与
常规专业研究的纽带，模型的建立绝不是纯数学或技术性的问题，它必须以
广泛深入的专业知识为基础。专业研究深入程度决定了所建模型的质量与效
果。事实上正是地理模型把G
I S 应用系统和常规专业研究紧密地结合在一起
了。因此，应用模型是今后研究的重点和发展的主要方向之一。
7. 具有统一标准的分布式系统：由于G
I S 的迅速发展，建立具有统一规
范标准的多级、分布式系统，已成为地理信息系统发展的必然趋势，国外的
一些重要的G
I S 软件系统如ARC/I N
FO
、M
I PS 等都发展了网络通讯功能。
8. 宏观应用和微观应用进一步加强，并形成新的产业：G
I S 从早期主要
为地理、环境、资源、测量等宏观项目决策服务，开始进入城市和大企业等
微观管理领域。G
I S 与经济和社会发展的结合更加紧密，而且从企业应用走
向政府应用，出现了综合性系统与专业性系统共存共荣的局面。同时，G
I S
正在形成一门产业，1991 年世界范围内与G
I S 软、硬件有关的总收入为70
亿美元。在美国当前经济衰退中，G
I S 的收入仍呈上升趋势。
9. 加强G
I S 教育：为了发展和推广G
I S 应用系统，必须采取多种形式，
加强G
I S 的宣传教育，在一些高等学校开设G
I S 课程，系统讲授G
I S 的内容，
对在职技术人员、领导干部可以办短训班或举办讲座，专门介绍某个软件工
具或应用系统，从而提高广大管理人员的素质，使G
I S 真正转化为实际生产
力，有效地推动区域经济的发展和社会的进步。
第二章  空间数据采集
地理信息系统的价值很大程度上取决于系统内所包含数据内容的数量与
质量。地理信息系统具有为回答各种询问而转换原始空间数据的能力。虽然
有些转换能力如数据的清除和追加，比例尺与投影的变化等对地理信息系统
与机助地图制图系统来说是共有的，然而地理信息系统在对空间数据、非空
间数据以及空间数据与非空间数据结合方面的大量操作与分析并由此所产生
新的信息方面是其特有的。要达到这一目的，一个良好的地理信息系统必需
要能接受各种类型与各种格式的数据。地理信息系统数据采集，是指将非数
字化形式的各种信息通过某种方法数字化，并经过编辑处理，变为系统可以
存储管理和分析的形式。
§ 1. 地理信息系统的数据
一、数据的种类与形式
地理信息系统建立数据库的第一步是要确定该系统的数据源。地理信息
系统的数据源是多种多样的，从总体上可分为图形图像数据与文字数据二大
类。
图形图像数据包括现有的地图、工程图、规划图、照片、航空与遥感影
像等。目前各种类型的地图是重要的信息源。这不仅是因为地图的内容直观
与丰富，而且是由于在地理信息系统诞生以前，地图是表示空间与非空间信
息强有力的手段，从某种意义上说，一册完备的专题地图集是一个很好的人
工操作地理信息系统。遥感影像是地理信息系统中一个极其重要的数据源，
它至少具有下列一些特点：①能取得大面积、综合的信息；②速度快；③降
低数据储存冗余和不连续性；④能提供各类专题所需要的信息。各种文字数
据包括各类调查报告、文件、统计数据、实验数据与野外调查的原始记录等，
如人口数据、经济数据、土壤成份、环境数据。确定应用哪些类型的数据是
由系统的功能所确定的，例如要建立一个土地的适宜性和承载力的信息系
统，所需要的数据有地形、土壤类型、降雨、地下水位、运输条件等。
按照数据的储存形式，可将数据源分为图形、图表与数字化形式。图形、
图表数据包括现有的地图、照片、记录及各类文件。而计算机的磁盘、磁带
等是以数字化的形式来保存数据的。目前许多空间数据以及人口统计、地形
等数据均是以数字化形式向用户提供，数字化形式的数据可以方便地输入地
理信息系统内，便于用户使用。
二、数据的精度与误差来源
数据获取是空间信息自动化项目经费中最昂贵的部分。据统计，在地理
信息系统中数据获取的代价是整个G
I S 代价的50％—80％。初学者往往认
为，因为我们采用了现代化的计算机技术，因此所获取的数据是高精度甚至
于是无误差的。其实不然，即使是最优秀的地理信息系统操作人员，在数据
搜集并将其输入到系统内时，均会产生这样那样的误差。
G
I S 使用数字化数据，因而便关系到数字制图数据的标准。美国数字比
制图数据标准全国委员会（N
CD
CD
S，1988）确定了六个基本的数字化制图数
据，如线状、位置精度、属性精度、逻辑的连贯性、完整性和时间精度，对
每种元素均确定了检验其精度的标准。
对于误差的来源，有不同的分类方法。P.  A.  Burrough 在土地资源评价
地理信息系统原理（Pri nci pl es of  G
eographi cal  I nf orm
at i on Syst em
 f or
Land Resources Assessm
ent ）一书中，认为误差一词的概念是广义的，它不
仅包含错误，也具有误差，平均“ 方差” 的统计概念。他将误差分为三组共
14 类。
第一组为明显的误差，是最明显和最容易觉察到的，它包括：
1. 数据的年代：出于经费与时间的限制，在同一研究项目中往往采用了
不同年代的数据，如在使用现有的地图和数据的同时，又使用了最新的遥感
影像和现场调查的数据，其实有时候某些原有数据已不适合现有的标准或现
有状况已有所变化。
2. 区域误差：在所研究的区域所要提取的某种数据，如土壤类型，已在
部分地域内有现存的数据，对缺乏数据的另一部分地区重新获取数据时，由
于标准与人员的不同，而产生了区域间数据的误差。
3. 地图比例尺：由于同一研究中采用不同比例尺底图所造成的误差。
4. 观察的密度不同而产生的误差。
5. 相关：由于经费太昂贵或其它原因对所需要的数据难以获取时，采用
相关数据而造成的误差。
6. 格式：有两类重要的数据格式。第一类是指安排数据方式，也就是指
数据的结构，数据是以矢量还是以栅格形式来安排的，如是以栅格形式，便
与其像元的大小有关。第二类是指数据的本身，它们的比例尺、投影和分类
方式。在一种格式向另一种格式转换，或一个系统向另一个系统转换时，往
往不是绝对无误的。
7. 可接近性：由于部门与部门之间，或地区与地区之间数据的保密，一
些用户往往不能直接获取所需要的数据，如环境数据等。
8. 代价：出于经济方面的原因，项目主持人有时要在可取到数据的精度
与代价之间作出选择。
第二组为原始测量的误差。这组误差往往在工作人员使用这些数据的过
程中才会发觉。它包括：位置误差、内容误差和获取数据时不同环境差异所
造成的误差。
第三组是由数据处理过程所引起的误差。这类误差也许是最重要的，因
为它包含了错误、误差和在数据处理过程中所引起的误差。这类误差也最难
以弄清，因为它不仅要求用户具有对数据的直接了解，而且也要熟悉数据的
结构和计算方法。这一组误差包括：计算机原数含误差；拓扑分析所造成的
误差：分类及生成各类问题（如方法学，内插）时所引起的误差等。
也有将G
I S 的数据接获取方式分为二大类的，第一类是指数据直接来源
于野外（地面调查）、相片（包括遥感影像）等，第二类数据来源于现有的
文件，如地图、图表等。这两类方法所获取的数据质量和质量精度是不相同
的。
三、对现有数据的获取
为建立一个地理信息系统所需要的全部数据，均由系统的设计人员按一
定的格式，统一的标准而获取。这是最理想的方法，但一般说来是难以达到
的。因此便要利用许多已有数据。国家资源与环境信息系统规范在“ 专业数
据分类和数据项目建议总表” 中，将数据分为社会环境、自然环境和资源与
能源三大类共14 小项，
并规定了每项数据的内容及基本数据来源
（表2－1）
。
表2－1 专业数据分类和数据项目建议总表
项目
内容
基本数据来源
（Ⅰ）社会环境
（1 ）城市与人口
1. 城镇人口，分县人口总数。
2. 自然村密度
（大小，
数目，
按第Ⅲ级格网）
3. 人口分布（按第Ⅲ级格网）
人口普查办公室
1 ∶1 万— 1 ∶10 万地形图
人口普查办公室
（2 ）交通网
1. 铁路（双轨，单轨，
车站，专用线，
长度，
运输能力与省界、公路等的交叉点）
2. 公路（省级，县级，公社简易公路，桥梁
与省界、铁路和主要河流和交叉点）
3. 航运
（港口，
泊位，
船舶吨位，
通航路线，
水深，季节变化）
4. 航空（航线，航班，航空港，运输能力）
铁道部
交通部
交通部
民航总局
（3 ）行政区划
1. 国界、
省、
市、
县级界线与面积
（多边形）
2. 省、市、县级管辖区（按第Ⅴ级格网点）
3. 城市规划区（按Ⅴ级格网点）
4. 自然保护区管辖范围
5. 工矿区（油田，禁区，饲养场，旅游点，
名胜文物保护区）
外交部、
民政部、
国家测绘局等
城乡建设与环保部等
林业部等
城乡建设与环保部、林业部等
（4 ）地名
1. 城市名称及其中心坐标
2. 各县名称及县城中心坐标
3. 主要河流、湖泊、山峰、港湾名称及坐标
4. 自然地理单元及其区域坐标
（山脉、
流域、
盆地、高原）
地名委员会
地名委员*'
地名委员会
地名委员会
（5 ）文化和通信
设施
1. 学校，医院等
2. 科学试验站网点（气象，水文，地震台站
等）
3. 邮电通信网点
文化部、教育部、卫生部等
邮电部
续表
项目
内容
基本数据来源
（Ⅱ）自然环境
（6 ）地形
1. 海拔高程（按Ⅴ级格式网点）
2. 山峰高程，水库、湖面高程
3. 湖泊，水库，水深，大陆架以及海深
4. 地形图与遥感资料检索
国家测绘局
（同上）
（同上）
（7 ）海岸及海域
1. 分县海岸长度，线段坐标
2. 分县岛屿岸线、面积、长度、坐标
3. 基本海况：滩涂面积，潮汐，台风，常年
风向，底质，温度，海浪等
海洋局
海洋局
海洋局
（8 ）水系及流域
1. 流域划分界线及面积（100km
2 以上与省
界交点，控制站点，水库坝址及坐标，分段
节点）
2. 流域辖区（按第Ⅲ级格网）
3. 水系交汇点（坐标，面积）及干、支流等
级，长度（交叉点坐标）
水电部
水电部
水电部
（9 ）基础地质
1. 地表岩类或沉积层及其时代
2. 断层性质（特别是活动性质）
3. 地球物理观测点（重力、地磁、地震等）
4. 人工地震
（浅层、
中层和深部，
包括海上）
5. 地球化学观测点及其特性
6. 环境地质（地盘沉降，土壤承压力，滑坡
泥石流，崩塌等）
7. 地震烈度区划
地矿部
地矿部、地震局
地矿部、石油部
地震局、中科院
石油部、地矿部、
地震
局、煤炭部中科院等
地矿部，中科院
地震局
（Ⅲ）资源与能源
（10 ）土地资源
1. 地貌类型（包括海岸和浅海）
2. 土壤类型（包括土壤肥力等）
3. 土地利用类型
4. 灾害（风沙，盐碱，台风，雪害，水土流
失，旱涝，霜冻，寒潮）
中科院、农牧渔业部
中科院等
国家测绘局、
农牧渔业
部、林业部等
气象局、水电部、
农牧
渔业部、中科院等
续表ˆ
项目
内容
基本数据来源
（11 ）气候和水热资源
1. 辐射量，日照量和云量
（按第Ⅲ极格
网）
2. 热量资源（年最高温、最低温，年均
温，月均温，积温等）
3. 降水（年最高，
年最低，
年、
月平均，
积雪量等）
4. 风能
5. 陆地水文（最高，最低流量，年、月
平均流量，含沙量，洪峰，污染等）
6. 冰川，雪被，冻土
7. 湖泊，水库，港湾
8. 地下水
国家气象局
国家气象局
国家气象局
国家气象局
水电部
中科院、交通部、水电部，
中科院
水电部等
（12 ）生物资源
1. 主要作物，分年的耕作面积，亩产，
灌溉面积等
2. 森林类型、面积，树种，蓄积量，采
伐、更新面积
3. 草场类型、面积、产草量、载畜量
4. 淡水养殖与渔业（种类、面积、产量
等）
5. 病虫害，减产频率和程度
6. 野生植物，野生动物资源
农牧渔业部
林业部
农牧渔业部
农牧渔业部
农牧渔业部
农牧渔业部，林业部
（13 ）矿产资源
1. 煤炭，
泥炭
（类型、
储量、矿区矿点，
生产能力）
2. 石油，
天燃气，
油页岩
（类型、
储量、
油田、生产能力）
3. 黑色金属（分类、储量、矿山、生产
能力）
4. 有色金属（分类、储量、矿山、生产
能力）
5. 稀土元素（分类、储量、矿山、生产
能力）
6. 非金属（分类、储量、矿山、生产能
力）
地矿部、煤炭部、石油部、
冶金部、有色金属总公司等
（14 ）海洋资源
1. 海洋能源
2. 海洋养殖与水产
3. 海底矿产资源
4. 海涂资源
国家海洋局等
世界上许多国家也提供数字化形式的数据。美国政府部门向用户提供数
据项目及数据源单位为：
数据项目
数据源单位
数字高程模型
U
SG
S/N
M
D
（
U
.  
S.  
G
eol ogi cal
Survery/N
at i onal  M
appi ng D
i vi si on）
数字地形模型（D
TM
）
D
M
A（D
ef ence M
appi ng Agency）
土地利用和土地覆盖
U
SG
S/N
M
D
所有权和理论边界运输
U
SG
S/N
M
D
，D
O
E（D
epart m
ent  of  Energy）
水文
U
SG
S/N
M
D
社会经济和人口数据
U
SCB（U
.  S.  Census Bureau）
土壤
U
SD
A/SCS （U
.  
S.  
D
epart m
ent  
of
Agri cul t ure/Soi l  Consevat i on Servi ce）
湿地
U
SFW
S （U
.  S.  Fi sh and W
i l dl i f e
Servi ce）
遥感数据
N
ASA，N
O
AA（N
at i onal  Aeronaut i c and
Space 
Adm
i ni st rat i on
，
N
at i onal  
O
ceani c 
and 
At m
ospheri c
Adm
i ni st rat i on）
§ 2. 信息输入方法
地理信息系统信息输入包括空间数据输入与属性数据输入，以及空间数
据与属性数据的连接。
空间数据是指这类数据所处的空间位置；
属性数据
（或
非空间数据）是指这类数据定义空间数据或制图特征所表示的内容。地理信
息系统中属性数据可能记录土地利用、土壤特征、所有权关系、植被类型、
病虫害等等许多属性。
空间信息输入基本方法有两种，第一种方法是将地理实体以x，
y 坐标的
形式，以顺时针或逆时针方法依次输入。第二种方法是用点、线、多边形和
格网邻接的方法来表示地理实体（图2—1）。
特征数码
位置
点
11
x ，y （点）
线
21
x1 ，y1 ，x2 ，y2 ，⋯，xn，yn（线）
多边形
31
x1 ，y1 ，x2 ，y2 ，⋯，x1 ，y1 （多边形）
空间数据输入则是图形的数字化处理过程。需要注意的是没有统一而简
单的方法来输入图形数据，只有一些普遍适用的方法供G
I S 用户选择使用。
用户可以用单一方法或几种方法结合起来输入他们需要的图形数据。选择输
入方法的依据是如何应用图形数据、图形数据类型、现有设备状况、现有人
力财力状况等。
一、手工数据输入方法
虽然手工数据输入方法是早期使用的地理信息系统定位的方法，但其基
本原理是明确的，手工输入矢量图形数据实际就是将表示点、线、面实体的
地理位置数据（各种坐标系中的坐标）通过键盘输入数据文件或输入到程序
中去。实体坐标可以用地图上的坐标网或其它格网覆盖在地图上量取，这是
最简单又不用任何特殊设备的图形数据输入法。手工输入栅格数据是将已知
格子内所观测到的优势特征值予以编码，
随后将代码输入自动化文件。
图2- 2
表示了一个文件的编码过程。图中表示二种主要的G
I S 数据模型输入形式的
特征。图2- 2（a）为原图，以及将已确定大小的透明方格纸覆盖在底图上，
然后将各方格内的特征值以编码的形式记录，结果便是图2- 2（b）的编码栅
格形式。
0
0
0
0
0
0
0
1
0
1
1
0
0
0
0
0
0
0
0
1
0
1
1
0
0
0
0
0
0
0
0
1
0
1
0
0
0
1
1
0
0
0
2
2
0
0
0
0
0
1
1
2
2
2
0
0
0
0
0
0
0
0
0
2
0
0
0
0
0
0
0
0
（b）栅格编码
0=没有水体
1=水体
2=河流
图2－2 栅格编码方法
二、手扶跟踪数字化仪
人工数字化技术包括利用称为数字化器的电码静电装置。数字化器将点
定位器的信号转换为电子识别位置，用以直接读入计算机。数字化器能够记
录每个点、线和多边形的位置，形成数据文件。应用数字化仪输入速度快，
精度高，各种商业化的G
I S 软件均能用数字化仪来输入数据。
数字化仪主要由二部分所组成：绘图板和定点装置。绘图板的工作区是
一个垂直的区域，在该区域内能接受由定点装置所传送的信息。按工作区的
大小一般可以分为二类6 种尺寸，格式如表2- 2 所示。
表2- 2 数字化仪类型
类别
工作区范围
A4
12 ″ × 12 ″ （305m
m× 305m
m）
小型
A3
A2
12 ″ × 18 ″ （305m
m× 407m
m）
18 ″ × 24 ″ （457m
m× 610m
m）
24 ″ × 36 ″ （610m
m× 914m
m）
36 ″ × 48 ″ （914m
m× 1219m
m
）
大型
A1
A0
A00
44 ″ × 60 ″ （1118m
m
× 1524m
m）
需要指出的是，在数字化过程中，虽然在工作区内均是有效的，但其边
缘部分的精度会有所降低，除非在必不可少的情况，应尽量避免用“ 足” 工
作区，以提高精度和避免图幅拼接时的修订工作量。
定点装置主要有笔式和光标式二种类型。常用的光标式定点装置是带有
聚焦和十字丝的鼠标器，十字丝的定点指示需要数字化的点。鼠标器有4 键
及16 键，每一个键的功能可通过软件应用来定义，4 键光标分按线状排列和
方块形排列二种，16 键为十六进制的形式，即0—9 和A—F，其用法与4 键
光标相类似。
在进行数字化时，首先要确定地图坐标系统、比例尺和表明参考坐标控
制点的位置（左，右，下），然后用户可在点、线、多边形的定义下，利用
平板上的4 键或16 键光标进行数字化。
三、自动扫描器
扫描数字化系统一般比数字化仪大和昂贵，常用的滚筒式自动光学扫描
器的主体为一个可旋转的滚筒，需要数字化的底图固定在滚筒上，当滚筒旋
转时，以类似行车形式固定在滚筒上的光源和监测器来回走动，将底图以数
字化的形式一行一行的直接输入到计算机内（图2－3）。一般的扫描器能识
别100 种以上的不同形式的图斑，并能对不同数据结构进行转换和数据压缩
处理（如游程编码）。描述一幅24× 36 英寸（1 英寸=25. 4m
m
）的底图，每
厘米20 行一般需要用一个半小时。
§ 3. 空间数据编辑处理
一、格式转换
格式转换分为二大类：不同数据介质之间的转换，即它是将各种不同的
源材料信息如地图、照片、各种文字及表格转换为计算机兼容的格式，这在
上一节中已经说明；第二类是数据结构间的转换。而数据结构间的转换又包
括同一数据结构不同组织形式间的转换和不同数据结构间的转换。
对于栅格结构，如果栅格G
I S 数据库要记录高程、降水和土地利用类型
三种信息（图2- 4），其数据的组织形式可以是不同的。第一种组织形式可
以是每一层次记录一种数据集，即每一个文件记录包含不同的要素变量，每
一个文件中的每一栅格单元记录一个数字；第二种组织形式可以是每一个单
元内顺序记录不同的要素；第三种组织形式可以是以行的形式按顺序记录各
要素的数据。当同时要使用二种及二种以上组织形式的数据时，便要将其转
换为对当前工作适用的统一的格式。
对于矢量结构，也有弧、节点组织形式、全多边形组织形式等之间的转
换。
矢量和栅格结构之间的转换是地理信息系统中的一个重要问题，这将在
下一章中详细说明。
二、图形单元的修改与增删
无论是采用任何方式输入数据，都会出现误差，因此在任何信息系统中，
均要具有检查数据库误差的设备。
如对多边形进行数字化，可能出现的误差有多边形不闭合，相邻多边形
出现重叠和裂口等（图2- 5）。造成多边形不闭合的原因可能是输入错误的
代码，如将多边形物体定义为弧段，也可能是数字化时引起的误差如忽略了
点与点之间的连结。
当相邻的多边形的共同边界要数字化二次时，便会出现重叠和裂口，这
便要在数字化以后进行修正和编辑，目前一些地理信息系统软件采用弧结点
数据库结构时便能避免这类错误，因为这种结构形式公共点和线只记录一
次，如ARC/I N
FO地理信息系统。
三、图幅拼接
当对底图进行数字化或扫描后，由于图幅比较大或采用小型数字化仪
时，难以将研究区域的底图以整幅的形式来完成，如上海市区1∶25000 的地
图便有九幅1/2 开大的地图，即便采用上述最大号的A00 幅面（1118m
m
×
1524m
m
）的数字化仪也不能完成整幅输入，在分幅输入完成并经过误差检查
和编辑后虽然对每一分幅图来说错误订正是完成了，当在二幅图进行拼接时
一般仍然会出现边缘不匹配的情况，如图2－6 所示。因此便要进行图幅数据
边缘匹配处理，一般可采用二种方法来调整边界，第一种方法是小心地修改
空间数据库中点和矢量的坐标，以维护数据库的连续性；第二种方法是先对
准两幅图的一条边缘线，然后再小心地调整其它线段使其取得连续。目前各
种商业化的G
I S 软件均有图幅拼接的功能，拼接技术各有不同。
为了能便于相邻图幅的识别及计算机处理，在对图幅进行编号时可用十
位数来指示图幅的横向顺序而以个位数来表示图幅的纵向顺序（表2－3）。
表2－3 图幅编号方法
31
32
33
21
22
23
11
12
13
四、坐标转换
地球是一个近似的椭球体，用平面形状来表示地球表面其真实的形状便
会出现差异。有大量地图投影的方法，也有各种分类方法，如可将地图投影
分为方位角投影、圆锥投影和圆柱投影。最常用的是平面参考系统，其中又
以全球变换墨卡托系统最为著名，在这个系统中每6 度经度，8 度纬度组成
一个四边形，每一四边形均被标号。有关地图投影的知识读者可参阅有关地
图学的参考书。
在地理信息系统中要对各不同投影进行坐标转换的原因是多方面的，最
常见的情况有二种：一种是输入的地图是一种投影，而要求输出的地图产物
是另一种投影；另一种是输入的底图是照片底图，而输出则要按一定比例的
矢量方式。一般来说可通过原始影像坐标和订正后坐标之间的数字坐标转换
未完成订正处理，计算两者相应坐标回归方程的多项式方法最为常用，其表
达式为：
Lo=h+by+cx+dy2+eyx+f x2
La=g+hy+i x+j y2+kyx+l x2
式中：Lo：经度；La：纬度: h 和g 为截距；b- f 和h- l 为回归方程的系数。
这一多项式计算可由地理信息系统自身来完成，也可以用统计软件计算
后输入x，
y 数据。目前一些地理信息系统软件均有多种地图投影输入变换与
输出变换的功能。
五、拓扑结构及拓扑关系的自动生成
在矢量结构表示方法中，任何地理实体均可以用点、线、面来表示其特
征，进而可根据各特征间的空间关系，解译出更多的信息，为此可用确定区
域定义、连通性和邻接性的方法来达到上述目的。其特点是弧段用点的连接
来定义，多边形用点及弧段的连接来定义，这样相邻多边形的公共边不必要
重复输入，且通过邻接性的关系，能识别出各地理信息实体的相对位置，从
而解译出多种信息。
拓扑结构是明确这些空间关系的一种数据方法，也就是用来表示要素之
间连通性或相邻性的关系称为拓扑结构。
美国环境系统研究所开发的ARC/I N
FO 地理信息系统良好地建立了拓扑
结构及其在地理信息系统中的应用。由中科院地理所资源与环境信息系统实
验室翻译的ARC/I N
FO 地理信息系统用户指南比较详细地介绍了拓扑结构的
建立。以下是该指南对区域定义、连通性和邻接性的介绍：
1. 用拓扑结构定义区域：多边形可用一组封闭的线来定义，而不用列出
封闭线上的所有点的坐标。考虑下面的例子，如图2－7。
图中的阴影区是由一组线定义的。即线1，3，4，5 加上由线2 定义的多
边形弧岛。多边形的定义是一组线，并作为一个简单的表存储在计算机中。
注意，这些定义了一个封闭区的线是有序排列的，接着排列的是组成弧
岛的线。洞（即弧岛）是由一条或多条线组成的，一个多边形可能包括许多
洞。
如下图所示，阴影区可通过定义该区的一组线存储在计算机中，而这些
线又可作为定义每条线的坐标的指针。
注意，这种结构的优点是，对于每条线来说，只需列出一次的坐标，这
不同于那种用封闭线上的坐标来定义每个多边形的方法，从而大大减少了所
需要的存储空间。其次，这种结构还克服了定义多边形的坐标数量受到限制
的缺点。
这种拓扑数据结构通常被称为弧段一节点。每条线被称为一个弧段，每
个节点被认为是弧段相交的位置。
2. 邻接性的表示：另一种可以用拓扑描述的空间关系是邻接性，即确定
多边形相互之间的邻接关系。邻接性对于许多应用来说都是非常重要的。例
如，野生动物学家可能想确定一块与琥珀相邻的土地覆盖区，用于对栖息环
境做出评价；城市规划人员可能要在两个相邻地区之间确定一下潜在的地区
冲突，例如，寻找与新发展的居民区相邻的工业区。
图2－8 多边形邻接性的表示相邻的多边形可用它们公用的一组弧段来
定义，每个弧段的左右两侧可用于对多边形进行判别。例如，在图2- 8 中，
弧段4 的一侧是多边形2，而另一侧则是多边形6。
每段弧的坐标列表确定了弧段的方向，如图中箭头所示。
利用这种显示的方向表示法，可以明确指出位于左侧右侧的多边形。对
于所有弧段的相邻区，可按照其结构列表。
3. 连通性的表示：连通性的拓扑关系与邻接性相似。连通性指的是对弧
段连接的判别。这种关系对于路径搜寻以及其它网络应用，如最佳路径计算
和全部网络流程分析都是非常重要的。
连通性可以用在每个节点上汇集弧段的列表来表示，如图2- 9 所示。
在节点2 上汇集了三个弧段，即弧段1，4 和10。每个弧段的起点和终
点都是节点。对于每个节点都可以列出它的起始节点和终止节点。例如，在
弧段坐标的列表中，如x1，y1；x2，y2；x3，y3；⋯；x10，x10，在这个列表
中第一节点和最后一个节点都是标有序号的节点。如果在另一条弧段上具有
与上面节点之一相同的x，
y 坐标，则该弧段上的那个节点将具有相同的节点
序号。在图2- 9 中，弧段4 的起始节点为2，终止节点为3，另外还有三条弧
段汇集在节点3 上。
图2－10 给出了图上所有弧段的节点列表：
注意，这些连通性可通过网络确定路径，例如如同选择一条行车路线，
从城市的一个地方到达另一个地方去一样。当你到达一个交叉路口时，有好
几个方向可以选择，这就如同在每一节点上有许多弧段汇集在该节点上一
样。
弧段一节点拓扑还有其它重要性质。例如，每个弧段的起始节点与终止
节点表示了弧段的方向，这样使得判别每一弧段的左侧和右侧更加容易。另
外，起始节点是每个弧段的起始坐标，终止节点是每个弧段的终止坐标。这
就是说，节点坐标不需要在两个地方存储：一次是作为弧段坐标，另一次是
作为节点坐标。
第三章  地理信息系统空间数据结构
地理信息系统管理大量的地学数据，这些数据存在数据库中，因此需要
有数据库管理系统。
在地理系统中，描述地理要素和地理现象的空间数据，主要包括空间位
置、拓扑关系和属性三个方面的内容。地理信息系统空间数据结构就是指这
种空间数据在系统内的组织和编码形式。G
I S 数据结构也可称为图形数据格
式，它是指适合于计算机系统存储、管理和处理地理图形的逻辑结构，是地
理实体的空间排列方式和相互关系的抽象描述，是对数据的一种理解和解
释，不说明数据结构的数据是毫无用处的，不仅用户无法理解，计算机程序
也无法正确处理。对同样一组数据，按不同的数据结构去处理，得到的是截
然不同的内容。只有充分理解了地理信息系统的特定的数据结构，才能正确
有效地使用系统。
空间数据编码是空间数据结构的实现，是指根据地理信息系统的目的和
任务所搜集的，并经过审核了的地形图、专题地图和遥感影像等资料，按一
定数据结构转换为适于计算机存储和处理的数据过程。由于地理信息系统数
据量极大，一般需要采用压缩数据编码方式以节省空间。图形资料的编码一
般需借助数字化仪进行。
§ 1. GI S 数据库
一、GI S 数据库特点
数据库（D
at a Base）是以一定的组织方式存储在一起的相互关联的数据
集合，能以最佳方式，最少重复（冗余）为多种目的服务。数据库也可看成
是与某方面有关的所有文件的集合，数据库对数据文件重新组织，最大限度
地减少数据冗余，增强数据间的联系，实现对数据的合理组织和灵活存取。
G
I S 数据库是某区域内关于一定地理要素特征的数据集合，主要涉及对
图形和属性数据的管理和组织。它与一般数据库相比，具有以下特点：
1. G
I S 数据库不仅有与一般数据库数据性质相似的地理要素的属性数
据，还有大量的空间数据，即描述地理要素空间分布位置的数据，并且这两
种数据之间具有不可分割的联系。
2. 地理系统是一个复杂的巨系统，要用数据来描述各种地理要素，尤其
是地理的空间位置数据量往往大得惊人，即使是一个极小区域的数据库也是
如此。
3. 数据的应用相当广，如地理研究、环境保护、土地利用与规划、资源
开发、生态环境、市政管理、道路建设等等。
上述特点，尤其是第一点，决定了建立G
I S 数据库时，一方面应该遵循
和应用通用的数据库的原理和方法，另一方面还必须采取一些特殊的技术和
方法，来解决其它数据库所没有的管理空间数据的问题。由于G
I S 数据库具
有明显的空间特性，所以有人又称它为空间数据库。
二、数据库结构
数据库由许多文件和文件中的大量数据组成。为便于从一个文件或多个
文件中存取数据，必须用某种方式来构造或组织数据库。目前通用的有三种
数据库结构，即层次结构、网络结构和关系结构。
（一）层次数据库结构
层次数据库结构是将数据组成一对多（或父结点与子结点）关系的结构
（图3- 1（e））。例如，土壤族下属的土类、类下的亚类就是常见的分级结
构之一。环境科学中多用这种数据组织系统，除土壤外还用于动物、植物、
岩石等分类。
层次结构采用关键字来访问其中每一层次的每个部分，并假定关键属性
和数据项之间可能具有紧密的相关性。
关键字是指识别标志，如记录序号、数据项名称和其它属性等。
层次数据库结构的优点是存取方便且速度快，容易理解，数据修改和数
据库扩展都较容易，检索关键属性十分方便等。层次结构最适合于文献目录、
银行等管理系统。
层次结构用于环境数据时则有如下不足之处：结构呆板，没有灵活性，
且不得不保留大量的索引文件，同样一个属性数据要存储多次，因而引起大
量冗余数据（图3- 1（e））。
（二）网络数据库结构
层次数据库结构中数据的联结只限于上下通路。许多情况下，特别是图
形数据的数据库结构要求具有更多的通路，以便更为快速地把需要的数据组
织起来。例如，一个复杂的图形中，各图形要素（甚至相邻接的要素），常
常存储在数据库的不同部分，要把这些元素组织在一起，需要进行多通路连
接，才能迅速形成图形。网络数据库结构满足这种要求。
网络数据库结构是用连接指令或指针来确定数据间的显式连接关系，且
具有多对多类型的数据组织方法。
图3－1（a）是一幅包括两个多边形的地图，两个多边形由a，b，⋯，g
七条线组成，
其中c 同属多边形Ⅰ和Ⅱ；
每一条线由起止两对x，
y 坐标定义。
反言之，每一坐标对都属于两条不同线。很显然，用层次结构来存储时，就
会引起许多冗余，因为每一坐标值都必须存储两次，点3 和点4 要存储4 次
（图3- 1（a））。在需把多边形Ⅰ和Ⅱ合并时，线a 成为多余的线，但又无
法去掉。网络结构就可避免这种情况；图3- 1（c）中每一条线及每一坐标对
都只出现一次，要去掉c 也是很容易的事。这一特点为制图综合提供了很大
益处。
图3－1（d）表示环形指针之一，这种环形指针在复杂的拓扑结构中是
非常有用的方法，它能明确而方便地指出拓扑关系。另外，如果数据间的关
系及其连接方式都可预先指定的话，网络数据库的结构最为实用，既避免了
数据冗余又便于使用。
网络数据结构的缺点是：指针数据项使数据量增大，当数据复杂时，指
针部分会占大量数据库存储空间。另外，数据库中的数据变化（或修改）时，
指针也必须随着变化。因此网络数据库中指针的建立和维护可能成为相当大
的额外负担。
（三）关系数据库结构
关系数据库以记录组（或数据表）的形式组织数据，以便于利用各种实
体（图形）与属性之间的关系进行数据存取和变换，不分层也无指针。
就地理科学来说，分析研究工作离不开空间（主要指图形）数据和非空
间（主要指属性）数据。关系数据库则以建立这两类数据之间的关系为主要
目标来组织数据。点、线、面图形数据的记录中都包含一个有序特征值，此
特征值也可成为关键字，其后存储其它信息。整个记录称为一个“ 元组” ，
多个元组组成一张二维表，称为“ 关系” 。每个关系通常是一个独立的文件。
图3- 2 是图3- 1 两个多边形的图形数据在关系数据库中的存储方式。其中多
边形Ⅰ和Ⅱ是特征值（关键字）。另一个存储坐标的表格图中未绘出。
属性数据如线α ，b，⋯，g 有关的属性和与多边形Ⅰ、Ⅱ有关的属性则
存储在另外的数据表中。属性数据项可以很多，例如，线属性可包括线性质
（道路还是水渠等）、宽度、建筑材料、使用情况等，视需要而定。点和面
的属性以同样方式组织。图形和属性数据表中的关键字还必须同时存储在另
一个独立的关系表中。关系数据库主要依靠这个关系表把图形和属性连接在
一起。
从关系数据库中提取数据时，用户要用询问语言编写一个简单的程序称
为“ 过程” 。在这个过程中，用户按自己的需要定义数据间的关系，数据库
管理程序则用关系代数法取出用户需要的数据，重新建立数据表。
关系数据库的最大优点是它的结构特别灵活，可满足所有布尔逻辑运算
和数字运算规则形成的询问要求。关系数据库还能搜索、组合和比较不同类
型的数据；加入和删除数据都非常方便，因为这一活动只涉及单个元组。
关系数据库的缺点是许多操作都要求在文件中顺序查找满足特定关系的
数据。如果数据库很大的话，这一查找过程要花很多时间。商业性的关系数
据库必须非常精心地设计才能达到一定的速度，这是关系数据库的主要技术
指标，也是建立关系数据库花费高的主要原因。
三、数据库管理系统
数据库管理系统（D
BM
S）是处理数据库存储和各种管理控制的软件。它
是数据库系统的中心枢纽，与各部分有密切的联系，应用程序对数据库的操
作全部通过D
BM
S 进行。
数据库管理系统的功能因不同系统而有所差异，但一般都具有数据库定
义、数据库管理、数据库维护、数据库通讯等功能。
为了实现上述功能，每一项工作都有相应的程序，所以数据库管理系统
实际上是许多系统程序组成的一个整体。它大体上可分成三大组成部分：
1. 语言处理程序：包括完成数据库定义、操作等功能的程序，主要有：
数据描述语言（D
D
L）编译程序、数据操作语言（D
M
L）的处理程序、终端命
令解释程序和主语言的预编译程序等。
2. 系统运行控制程序：主要系统控制程序、数据存取程序、数据更新程
序、并发控制程序、保密控制程序、数据完整性控制程序等。
3. 建立和维护程序：包括数据装入程序、性能监督程序、工作日志程序、
重新组织程序、转储程序和系统恢复程序等。
用户通过D
BM
S 存取记录的过程，一般要经过以下主要步骤（图3- 3）：
（1）应用程序向D
BM
S 发出读取记录的命令；
（2）D
BM
S 查找出应用程序所有的外部模式；
（3）D
BM
S 找出模式；
（4）D
BM
S 查阅存储模式；
（5）D
BM
S 向操作系统（O
S）发出读取记录的命令；
（6）操作系统应用I /O程序，把记录送入系统缓冲区；
（7）D
BM
S 从系统缓冲区中导出应用程序所需记录，并送入应用程序工
作区；
（8）D
BM
S 向应用程序报告操作状态信息，如“ 执行成功” 、“ 数据未
找到” 等。
建立和维护数据库是一项十分复杂繁重的工作，需要若干人参加才能完
成。数据库管理员必须了解用户要求，决定数据库的信息内容，充当数据库
系统的联络员，决定存储结构和访问策略、系统的保护策略以及监督系统工
作。
数据库理论是地理信息系统的理论基础，尽管目前流行的通用数据库管
理系统在空间实体的定义、描述和检索运算上存在很大不足，完全采用通用
的D
BM
S 建立地理信息系统远非理想。但是由于D
BM
S 在数据定义、结构扩充、
数据更新和检索运算（特别是逻辑运算）上效率高、通用性强。因此现阶段
仍倾向于采用D
BM
S 管理属性数据，也就是扩充目前通用D
BM
S 以作为G
I S 的
支持系统，与此同时，更适合于G
I S 需要的空间型数据库管理系统也正在积
极发展之中。
§ 2. 地理数据的显式和隐式表示
人们靠自己的眼睛能高效率地识别形状和形式，但计算机却不能。要使
计算机能识别地理事物的形状，就必须精确地指出空间模式如何处理，如何
显示等。在计算机内描述空间实体有两种形式：显式描述和隐式描述。例如
一把椅子，在计算机中的显式表示，就是栅格中的一系列像元（点），如图
3－4 所示，为使计算机认识这些像元描述的是椅子而不是其它物体，这些像
元都给予相同编码值“ c” ，其实，值“ c” 不一定用c 的形式，而可以用颜
色、符号、数字、灰度值来显示，于是得到椅子的简单数据结构为：
椅子的属性→符号/颜色→像元x
椅子的隐式表示是由一系列定义了始点和终点的线及某种连接关系来描
述，线的始点和终点坐标定义为一条表示椅子形式的矢量，线之间的指示字，
告诉计算机怎样把这些矢量连接在一起形成椅子（图3－4（b）），隐式表
示的数据为：
椅子的属性→一系列矢量→连接关系
又如，有一幅具有森林、河流、住房的地图也可用相互对照而又互补的
方式来表示空间数据，即用直观和隐含的方式来描述空间实体，见图3- 5。
直观表示是用栅格或网络中一组点来构成地理事物的形态，这里不同的地理
事物被赋予不同的代码值“ R” 、“ P” 、“ S” 、“ H
” ，当然，也可以用数
字、颜色或其它符号表示。在栅格格式中，空间被规则地分为一个个小块
（通
常为正方形）。地理事物由占据小块的横排与竖列的位置决定，空间单位就
是这些小块，小块的位置则由其横排竖列的数码决定。栅格编码后的全图是
规则的阵列，与遥感图像数据相同，因而数字遥感影像就是栅格编码。
隐含表示则利用一组线及它们的各种连接方式来表示森林、河流、住房
的形态。
图3－4、图3－5 还表示出两种表示方法的区别：①隐式（矢量）表示
法用于存储地理事物的数据量较少，即需要的存储空间少（矢量表示的x，y
坐标和连接指示字较少而栅格表示需要的像元较多）
；
②矢量法比栅格法
（显
式）要精美得多。栅格法要达到相同的分辨率，格网要非常小才行，这就需
要更多的像元即更多对x，
y 坐标；③矢量法中的连接信息使数据搜索能沿着
一定的方向进行。栅格法则能方便地改变地理事物的形状和大小，因为栅格
数据修改只包括清除某些旧值和输入新值两个步骤。而矢量数据的修改除改
变坐标值外，还需要重建连接关系（指示字）。
由此例可以看出，至少有两种方法可用来表示拓扑数据，即：
栅格法：一系列x，y 坐标定位的像元，每个像元独立编码，并载有属性
值。
矢量法：三种主要地理实体的点、线、面中，点类似于像元，但点不占
有面积，其余两种均由一系列内部相关联的坐标形成，一定的面或线则能与
一定的属性连接。
§ 3. 栅格数据结构
一、栅格数据的概念
如上所述，栅格数据结构实际就是像元阵列，每个像元由行列确定它的
位置。如图3－5 中的H值表示属性或编码为H的一个点，其位置由所在的第
六行，第九列作交叉而得到。由于栅格结构是按一定的规则排列的，所表示
的实体位置很容易隐含在网络文件的存储结构中。在后面讲述栅格结构编码
时可以看到每个存储单元的行列位置可方便地根据其在文件中的记录位置得
到，且行列坐标可以很容易地转为其它坐标系下的坐标。在网络文件中每个
代码本身明确地代表了实体的属性或属性的编码。点实体在栅格数据中表示
为一个像元；线实体则表示为在一定方向上连接成串的相邻像元集合；面实
体由聚集在一起的相邻像元结合表示。这种数据结构很适合计算机处理，因
为行列像元阵列非常容易存储、维护和显示。
用栅格数据表示的地表是不连续的，是量化和近似离散的数据，这就意
味着地表一定面积内（像元地面分辨率范围内）地理数据的近似性，例如平
均值、主成分值或按某种规则在像元内提取的值等。另一方面，栅格数据的
比例尺就是栅格大小与地表相应单元大小之比。像元大小相对于所表示的面
积较大时，对长度、面积等的度量有较大影响。这种影响除对像元的取舍外，
还与计算长度、面积的方法有关。如图3－6（a）中a 点与c 点之间的距离
是5 个单位，但在图3－6（b）中，ac 之间的距离可能是7，也可能是4，取
决于算法。如以像元边线计算则为7，以像元为单位计算则为４。同样，图3
－6（a）中三角形的面积为6 个平方单位，而图3－6（b）中则为7 个平方
单位，这种误差随像元的增大而增加。
二、栅格数据的取值方法
栅格数据的取得，可在专题地图上均匀地划分网格（相当于将一透明方
格纸覆盖在地图上），每一单位格子覆盖部分的属性数据便成为图中各点的
值，最后形成栅格数字地图文件如图3－7 所示。也可以用数字化仪跟踪，得
到矢量结构数据后再转换为网格结构，或用扫描数字化方法，逐步扫描专题
地图，将扫描数据重采样和再编码得到栅格数据文件。
栅格数据的获取需尽可能保持原图或原始数据的精度。在决定代码时尽
可能保持地表的真实性，保证最大的信息容量。在图3－8 中的网格覆盖后，
常常会在同一格子下对应了几种不同的属性值，而每一个单元只能取一个
值，在这种情况下，有不同的取值方法：
中心点法：用处于栅格中心处的地物类型或现象特性决定栅格代码。为
了寻找中心的方便，覆盖使用的网格常常使交点与网格单元的中心对准，这
时读数据只考虑网格交点所对应地图上的值，因此中心点法也可以叫做“ 网
格交点归属法” 。如图3－8A成为：
1    1    2    2    2
1    1    2    3    3
3    3    3    3    3
此法常用于具有连续分布特性的地理要素，如降雨量分布、人口密度图
等。
面积占优法：以占栅格最大的地物类型或现象特征决定栅格单元的代
码。如图3－8B用这种取值方法得到：
1    1    2    2    2
1    1    1    3    3
3    3    3    3    3
面积占优法最适合分类较细、地物类别斑块较小的情况。
长度最占优法：当覆盖的格网过中心部位时，横线占据该格中的大部分
长度的属性值定为该栅格单元的代码。如图3－8C格网线覆盖时，格网横线
放在行中心线上，格网竖线不变，此图为：
1    1    2    2    2
1    1    1    3    3
3    3    3    3    3
重要性法：根据栅格内不同地物的重要性，选取最重要的地物类型决定
相应的栅格单元代码。这种方法对于特别重要的地理实体，其所在区域尽管
面积很小或不在中心，也采取保留的原则，如稀有金属矿产区域等，因此图
3－8B便成为：
1    1    2    2    2
1    1    3    3    3
3    3    3    4    3
重要性法常用于具有特殊意义而面积较小的地理要素，特别是具有点、
线状分布的地理要素，如城镇、交通枢纽、河流水系等。
为了逼近原图或原始数据精度，除了采用上述几种取值方法外，还可以
采用缩小单个栅格单元的面积，即增加栅格单元总数的方法，这样行列数也
相应增加，每个栅格单元可代表更为精细的地面矩形单元，混合单元减少，
可以大大提高量算的精度，更接近真实形态，表现更细小的地物类型。然而
增加栅格个数、提高精度的同时也带来了一个严重的问题，那就是数据量的
大幅度增加，数据冗余严重。为了解决这一矛盾，现已发展了一系列栅格数
据压缩编码方法，如键码、游程长度编码、块码和四分树编码等。其目的，
就是尽可能少的数据量记录尽可能多的信息，其类型又有信息无损编码和信
息有损编码之分。信息无损编码是指编码过程中没有任何信息损失，通过解
码操作可以完全恢复原来的信息；信息有损编码是指为了提高编码效率，最
大限度地压缩数据，在压缩过程中损失一部分相对不太重要的信息，解码时
这部分难以恢复。在地理信息系统中多采用信息无损编码，而对原始遥感影
像进行压缩编码时，有时也采取有损型的压缩编码方法。
三、减少栅格数据存储量的编码方法
直接栅格编码是最简单、最直观而又非常重要的一种栅格结构编码方
法，通常称这种编码的图像文件为网络文件或栅格文件。直接编码就是将栅
格数据看作一个数据矩阵，逐行（或逐列）逐个记录代码，可以每行都从左
到右逐像元记录，也可奇数行从左到右，而偶数行由右向左记录，为了特定
目的还可采用其它特殊的顺序。栅格结构不论采用何种压缩方法，其逻辑原
型都是直接编码的网格文件。
当每个像元都有唯一一个属性值时，一层内的编码就需要m行× n 列× 3
（x，y 和属性编码值）个存储单元。数字地面模型就属此种情况。如果一个
多边形（或制图单元）内的每个像元都具有相同的属性值，就有可能大大节
省栅格数据的存储需要量，关键是恰当地设计数据结构和编码方法。
（一）链式编码（Chai n Codes）
链式编码又称为弗里曼链码（Freem
an，1961）或边界链码。考虑图3－
9 中的多边形。该多边形的边界可表示为：由某一原点开始并按某些基本方
向确定的单位矢量链。基本方向可定义为：东＝0，东南＝1，南＝2，西南＝
3，西＝4，西北＝5，北＝6，东北＝7 等八个基本方向。如果再确定原点为
像元（10，1），则该多边形边界按顺时针方向的链式编码为：
10，1，7，0，1，0，7，1，7，0，0，2，3，2，2，1，0，7，0，0，0，
0，2，4，3，4，4，3，4，4，5，4，5，4，5，4，5，4，6，6。其中前两个
数字10 和1 表示起点为第十行第一列，
从第三个数字开始每个数字表示单位
矢量的方向，八个方向以0—7 的整数代表。
链式编码对多边形的表示具有很强的数据压缩能力，且具有一定的运算
功能，如面积和周长计算等，探测边界急弯和凹进部分等都比较容易，比较
适于存储图形数据。缺点是对叠置运算如组合、相交等则很难实施，对局部
修改将改变整体结构，效率较低，而且由于链码以每个区域为单位存储边界，
相邻区域的边界则被重复存储而产生冗余。
（二）游程长度编码（Run－Lengt h Codes）
游程长度编码是按行的顺序存储多边形内的各个像元的列号，即在某行
上从左至右存储属该多边形的始末像元的列号。
图3－9 中多边形按游程长度
编码方法的编码为：
第9 行2，36，68，10
第10 行1，10
第11 行1，9
第12 行1，9
第13 行3，912，16
第14 行5，16
第15 行7，14
第16 行9，11
在这个例子中，69 个像元的多边形只用22 个编码值就完整地表示出来
了，因而大大减少了存储量。
显然，游程编码在对“ 多对一” 的结构，即许多像元同属一个地理属性
值的情况下大大改善了传统编法的存储情况。游程长度编码栅格加密时，数
据量没有明显增加，压缩效率较高，且易于检索、叠加、合并等操作。这种
编码方法最适合于小型计算机，同时也减少了栅格数据库的数据输入量，但
计算期间的处理和制图输出处理工作量都有所增加。
（三）块式编码（Bl ock Codes）
块式编码是将游程长度编码扩大到二维的情况，把多边形范围划分成由
像元组成的正方形，然后对各个正方形进行编码。图3－10 说明如何对图3
－9 所示多边形进行分块和编码。
块式编码的数据结构由初始位置（行号，列号）和半径，再加上记录单
元的代码组成。根据这一编码原则，上述多边形只需17 个单位正方形。9 个
4 单位的正方形和1 个16 单位的正方形就能完整表示。如果该区域是一片森
林，用代码4 表示，则图3－7 的块式编码为：
（9，2，1，4），（9，3，1，4），（9，6，1，4），（9，8，1，4），
（9，9，2，4）
（10，1，1，4），（10，2，1，4），（10，3，4，4），（10，7，2，
4），（11，1，2，4）
（11，9，1，4），（12，7，2，4），（12，9，1，4），（13，9，1，
4），（13，12，1，4）
（13，13，1，4），（13，14，1，4），（13，15，2，4），（14，5，
1，4），（14，6，1，4）
（14，7，2，4），（14，9，2，4），（14，11，2，4），（14，13，2，
4），（16，9，1，4）
（16，10，1，4），（16，11，1，4）
一个多边形所能包含的正方形越大，多边形的边界越简单，块式编码的
效果越好。游程和块式编码都对大而简单的多边形更有效，而对那些碎部较
多的复杂多边形效果并不好。块码在合并、插入、检查延伸性、计算面积等
操作时有明显的优越性。然而对某些运算不适应，必须再转换成简单数据形
式才能顺利进行。
（四）四叉树编码（Q
uadt r ee Encodi ng）
四叉树编码又称为四分树、四元树编码。它是一种更有效地压编数据的
方法。它将2n× 2n 像元阵列的区域，逐步分解为包含单一类型的方形区域，
最小的方形区域为一个栅格像元。图像区域划分的原则是将区域分为大小相
同的象限，而每一个象限又可根据一定规则判断是否继续等分为次一层的四
个象限。其终止判据是，不管是哪一层上的象限，只要划分到仅代表一种地
物或符合既定要求的几种地物时，则不再继续划分否则一直分到单个栅格像
元为止。这种分块过程示于图3－11。而块状结构则用四叉树来描述，习惯
上称为四叉树编码（如图3－12）。
所谓四叉树结构，即把整个2ｎ× 2ｎ像元组成的阵列当作树的根结点，n
为极限分割次数，n＋1 为四分树的最大高度或最大层数。每个结点有分别代
表西北、东北、西南、东南四个象限的四个分支。四个分支中要么是树叶，
要么是树叉。树叉、树叶用方框表示，它说明该四分之一范围全属多边形范
围（黑色）或全不属多边形范围（空心四方块），因此不再划分这些分枝；
树用圆圈表示，它说明该四分之一范围内，部分在多边形内，另一部分在多
边形外，因而继续划分，直到变成树叶为止。
为了在计算机中既能以最小的冗余存储与图像对应的四叉树，又能方便
地完成各种图形操作，专家们已提出多种编码方式。下面介绍美国马里兰大
学地理信息系统中采用的编码方式。该方法记录每个终点（或叶子结点）的
地址和值，值就是子区的代码，其中地址包括两个部分，共占有32 位（二进
制），最右边四位记录该叶子结点的深度，即处于四叉树的第几层上，有了
深度可以推知子区的大小；地址由从根结点到该叶子结点的路径表示。
0，
1，
2，3 分别表示N
W
、N
E、SW
、SE，从右边第五位开始2n 字节记录这些方向。
如图3－9 第10 个结点深度为4，第一层处于SW象限记为1，第四层处于象
限SE，记为3，表示为二进制为：
20 位8 位4 位
0000⋯00100001110100
每层象限位置由二位二进制表示，共八位。上述二进制换算成十进制整
数为2164。这样，记录了各个叶子的地址，再记上相应的代码值，就记录了
整个图像，并可在此编码的基础上进行多种图像操作。
四叉树编码有许多优点：①容易而有效地计算多边形的数量特征。②阵
列各部分的分辨率是可变的，边界复杂部分四叉树较高，即分级多，分辨率
也高，而不需表示的细节部分则分级少，分辨率低。因而既可精确表示图形
结构，又可减少存储量。③栅格到四叉树及四叉树到简单栅格结构的转换比
其它压缩方法容易。④多边形中嵌套不同类型小多边形的表示较方便。
四叉树编码的最大缺点是，树状表示的变换不具有稳定性，相同形状和
大小的多边形可能得出不同四叉树结构，故不利于形状分析和模式识别。但
因它允许多边形中嵌套多边形，即所谓“ 洞” 的结构存在，使越来越多的地
理信息系统工作者对四叉树结构很感兴趣。上述这些压缩数据的方法应视图
形的复杂情况合理选用，同时应在系统中备用相应的程序。另外，用户的分
析目的和分析方法也决定着压缩方法的选取。
§ 4. 矢量数据结构
矢量数据结构是另一种最常见的图形数据结构，即通过记录坐标的方
式，尽可能地将点、线、面地理实体表现得精确无误。其坐标空间假定为连
续空间，不必象栅格数据结构那样进行量化处理。因此矢量数据能更精确地
定义位置、长度和大小。实际上，因如下原因也不可能绝对精确：①表示坐
标的计算机字长有限；②所有矢量输出设备包括绘图仪在内，尽管分辨率比
栅格设备高，但也有一定的步长；③矢量法输入时曲线上选取的点不可能太
多；④数字化仪分辨率也有限。⑤人工输图中不可避免的定位误差。
除数学上的精确坐标假设外，矢量数据存储是以隐式关系以最小的存储
空间存储复杂的数据。当然这只是相对而言的，在地理信息系统中没有绝对
“ 最好” 的方法。
一、矢量数据结构编码的基本内容
（一）点实体
点实体包括由单独一对x，
y 坐标定位的一切地理或制图实体。在矢量数
据结构中，除点实体的x，
y 坐标外还应存储其它一些与点实体有关的数据来
描述点实体的类型、制图符号和显示要求等。点是空间上不可再分的地理实
体，可以是具体的也可以是抽象的，如地物点、文本位置点或线段网络的结
点等，如果点是一个与其它信息无关的符号，则记录时应包括符号类型、大
小、方向等有关信息；如果点是文本实体，记录的数据应包括字符大小、字
体、排列方式、比例、方向以及与其它非图形属性的联系方式等信息。对其
它类型的点实体也应做相应的处理。图3－13 说明点实体的矢量数据结构的
一种组织方式。
（二）线实体
线实体可以定义为直线元素组成的各种线性要素，直线元素由两对以上
的x，y 坐标定义。最简单的线实体只存储它的起止点坐标、属性、显示符等
有关数据。例如，线实体输出时可能用实线或虚线描绘，这类信息属符号信
息，它说明线实体的输出方式。虽然线实体并不是以虚线存储，仍可用虚线
输出。
弧、链是n 个坐标对的集合，这些坐标可以描述任何连续而又复杂的曲
线。组成曲线的线元素越短，
x，
y 坐标数量越多，就越逼近于一条复杂曲线。
既要节省存储空间，又要求较为精确地描绘曲线，唯一的办法是增加数据处
理工作量。亦即在线实体的纪录中加入一个指示字，当起动显示程序时，这
个指示字告诉程序：需要数学内插函数（例如样条函数）加密数据点且与原
来的点匹配。于是能在输出设备上得到较精确的曲线。不过，数据内播工作
却增加了。弧和链的存储记录中也要加入线的符号类型等信息。
线的网络结构。简单的线或链携带彼此互相连接的空间信息，而这种连
接信息又是供排水网和道路网分析中必不可少的信息。因此要在数据结构中
建立指针系统才能让计算机在复杂的线网结构中逐线跟踪每一条线。指针的
建立要以结点为基础。如建立水网中每条支流之间连接关系时必须使用这种
指针系统。指针系统包括结点指向线的指针。每条从结点出发的线汇于结点
处的角度等，从而完整地定义线网络的拓扑关系。
如上所述，线实体主要用来表示线状地物（公路、水系、山脊线）、符
号线和多边形边界，有时也称为“ 弧” 、“ 链” 、“ 串” 等，其矢量编码包
括以下内容：
其中唯一标识是系统排列序号：线标识码可以标识线的类型；起始点和
终止点可以用点号或直接用坐标表示；显示信息是显示时的文本或符号等；
与线相联的非几何属性可以直接存储于线文件中，也可单独存储，而由标识
码联接查找。
（三）面实体
多边形
（有时称为区域）数据是描述地理空间信息的最重要的一类数据。
在区域实体中，具有名称属性和分类属性的，多用多边形表示，如行政区、
土地类型、植被分布等；具有标量属性的有时也用等值线描述（如地形、降
雨量等）。
多边形矢量编码，不但要表示位置和属性，更重要的是能表达区域的拓
扑特征，如形状、邻域和层次结构等，以便恢复这些基本的空间单元可以作
为专题图的资料进行显示和操作，由于要表达的信息十分丰富，基于多边形
的运算多而复杂，因此多边形矢量编码比点和线实体的矢量编码要复杂得
多，也更为重要。
在讨论多边形数据结构编码的时候，首先对多边形网提出如下的要求：
（1）组成地图的每个多边形应有唯一的形状、周长和面积。它们不象栅
格结构那样具有简单而标准的基本单元。即使大多数美国的规划街区也不能
设想它们具有完全一样的形状和大小。对土壤或地质图上的多边形来说更不
可能有相同的形状和大小。
（2）地理分析要求的数据结构应能够记录每个多边形的邻域关系，其方
法与水系网中记录连接关系一样。
（3）专题地图上的多边形并不都是同一等级的多边形，而可能是多边形
内嵌套小的多边形（次一级）。例如，湖泊的水域线在土地利用图上可算是
个岛状多边形，而湖中的岛屿为“ 岛中之岛” 。这种所谓“ 岛” 或“ 洞” 的
结构是多边形关系中较难处理的问题。
二、矢量编码方法
（一）x，y 坐标方法
任何点、线、面实体都可以用直角坐标点x，y 来表示。这里x，y 可以
对应于地面坐标经度和纬度，也可以对应于数字化时所建立的平面坐标系x
和y。对于点则是一组（x，y）；对于线，则是多组（x1，y1；x2，y2；x3，
y3；⋯，xn，yn）；而对于多边形，也是多组（x，y）坐标，但由于多边形
封闭，坐标必须首尾相同。这些点是由光滑的曲线间隔采样而来。同样的曲
线长度，取点越多，以后恢复时越接近原来曲线，失真越少；反之，取点过
少，恢复时就会成为折线。图3－15 为点、线、面的实体表示。
特征码
位置坐标
点
线
面
10
12
35
x ，y
x1，y1；x2，y2；x3，y3；x4，y4；x5，y5；x6，y6
x1，y1；x2，y2；x3，y3；x4，y4；x5，y5；x6，y6
x7，y7；x8，y8；x9，y9；x10，y10；x11，y11；x12，y12，x1，
y1
图3－15 点、线、面实体的坐标表示
如果是多个相邻多边形，其矢量编码的坐标文件如图3－16
特征码
坐标位置
1
2
3
4
5
x1，y1；x2，y2；x3，y3；x4，y4；x5，y5；x6，y6x7，y7；x8 ，y8 ；
x9，y9；x10，y10；x1，y1；
x28，y28；x29，y29；x30，y30；x31，y31；x32，y32；x33，y33；x28，y28；
x1，y1；x11，y11；x12，y12；x13，y13；x14，y14；x15，y15；x16，y16；
x17，y17；x18，y18；x19，x19；
x9，y9；x10，y10；x1，y1；
x18，y18；x19，y19；x9，y9；x8，y8；x7，y7；x20，y20；x21 ，y21 ；
x22，y22；x23，y23；x24，y24；x18，y18；
x16，y16；x17，y17；x18，y18；x24，y24；x23，y23；x27，y27；x26，y26；
x25，y25；x16，y16
（b）
图3－16 多种形矢量编码
坐标法文件结构简单，易于实现以多边形为单位的运算和显示。这种方
法的缺点是：
（1）邻接多边形的公共边被数字化和存储两次，由此产生冗余和边界不
重合的匹配误差。
（2）每个多边形自成体系，而缺少有关邻域关系的信息。
（3）不能解决“ 洞” 或“ 岛” 之类的多边形嵌套问题，岛只作为单个的
图形建造，没有与外包多边形的联系。
（4）没有方便方法来检查多边形边界的拓扑关系正确与否，如有无不完
整的多边形等。
（二）树状索引编码法
该法采用树状索引以减少数据冗余并间接增加邻域信息，方法是对所有
边界点进行数字化，将坐标对以顺序方式存储，有点索引与边界线号相联系，
以线索引与各多边形相联系，形成树状结构。
图3－17 和图3－18 分别为图3－16
（a）多边形文件和线文件索引示意
图。其文件结构如下：
（1）点文件
点号
坐标
1
2
Μ
33
x1，y1
x2，y2
Μ
x33，y33
（2）线文件
线号
起点
终点
点号
Ⅰ
Ⅱ
Ⅲ
Μ
Ⅹ
1
7
9
Μ
16
7
9
1
Μ
23
1  2  3  4  5  6  7
7  8  9
9  10  1
ΜΜΜ
16  25  26  27  23
（3）多边形文件
多边行号
边界线号
1
2
3
4
5
Ⅰ  Ⅱ  Ⅲ
Ⅳ
Ⅲ  Ⅴ  Ⅵ  Ⅶ
Ⅱ  Ⅶ  Ⅸ  Ⅷ
Ⅵ  Ⅸ  Ⅹ
树状索引编码法消除了相邻多边形边界的数据冗余和不一致的问题，邻
域信息和岛状信息可以通过对多边形文件的线索引处理得到，但是较为麻
烦，编码表以人工方式建立也容易出错。
下面举一个例子说明这一类记录方式：
美国农业部制图和地理信息系统室提供的土壤类型图数据，记录在磁带
上供用户使用。其记录格式为矢量格式，从土壤分类专题地图数字化而来。
文件结构分别为：
（1）头文件：共六个记录，每个记录72 个字符占一行（表3－1 和表3
－2）。
表3－1 头文件一
字符数
记录号
1 －30  31 －45  46 －72
1
2
数据组名（原图类型）
数字化的工作部门名称
比例尺
数字化时间
数字化的地区名
前二个记录是一般介绍，后四个记录为原图四角的坐标值和地面对应的
经纬度值，为恢复时定位或几何校正用。
（2）土壤线数据文件：包括全图所有土壤类型之间的边界线及土壤和水
体（湖泊、水库等）的边界。所有的坐标值都是数字化极坐标，以英寸为单
位。每一个记录不超过24 个字符。多边形图可以为左多边形和右多边形，其
记录格式如表3－3。
表3－2 头文件二
字符数
记录号
1 －2  4 －10  12 －18  20 －28  30 －40  43 －50  52 －61  62 －72
3
4
5
6
SW
       x        y       经度    经度值     纬度    纬度值     －
N
W
       x        y       经度    经度值     纬度    纬度值     －
N
E       x        y       经度    经度值     纬度    纬度值     －
SE       x        y       经度    经度值     纬度    纬度值     －
表3－3 线数据文件
字符数
记录号
1 －5
6 －3
11 －15
16 －24
1
左土壤类（字符）
右土壤类（字符）
坐标点记录数（ni －
1 ）
－
字符数
记录号
1 －7
8 －14
15 －21
22 －24
2
x1 －y1 －
Μ
Μ
Μ
ni
xni －1
－
yni －1
－
（3）土壤类别名称数据文件：包括所有土壤类别名称及水域，每一名称
放在这一类的多边形的区域中，并设置一个标号点（或叫种子点），以便恢
复时确定每一多边形的属性。这里，每一记录不超过28 个字符，格式如表3
－4，共k 个多边形。
表3－4 土壤类别名称数据文件
字符数
记录号
12 －11  12 －13  14 －20  21  22 －28
1
" T"   土壤名  "x"   x1  " y"  y1
·
·   或水域  ·   ·   ·   ·
·
·   （字符）  ·   ·   ·   ·
·
·   ·   ·   ·   ·   ·
k
" T"   ·   "x"  xk  "y"   yk
这种编码主要目的是提供数据资料，基本上没有考虑独立的多边形，因而在
G
I S 中查询、检索比较困难。
（三）拓扑结构编码方法
多边形内嵌套多边形即“ 洞” 和邻域关系问题的唯一解决办法是拓扑关
系直接应用到数据结构中。建立拓扑结构的方法有两种：①输入数据的同时
输入拓扑连结关系；②由计算机软件从一系列相互关联的链建立拓扑结构。
前者会增加操作员的工作量，后者则取决于计算机的处理能力。二者都增加
存储量。首先在地理数据结构中建立拓扑关系是美国人口调查局建立的双重
独立地图编码系统。又可简称D
I M
E（D
ual  I ndependent  M
ap Encodi ng）。
D
I M
E 建立城市街道网和统计单位如街区、人口统计区等的数据库，并实现自
动和半自动的编辑和分析。也可以用于土地利用等多种信息系统的编辑和分
析。D
I M
E 数据文件的基本元素是由始末点定义的简单线元素，复杂的曲线则
有许多这种线元素组成。每条线元素有两个指向结点指针和线元素两边多边
形的编码。由于这种数据结构中没有链反向结点及链指向邻近链的指针，因
此要花很多时间去查找组织多边形的各条边界线。
此外，简单线元素结构法使复杂曲线的处理十分不便，因为有大量的多
余数据同时存储于数据库中。
荷兰土地调查研究院发展了另一种简单而有效的多边形数据结构，并能
在小型计算机上处理多边形数据组的分配问题。基本方法是：地图上的多边
形以线段或链文件的形式存储，该文件中每条链又以组成该链的各坐标对来
列表存储，而且每条链还包括两个指向邻接多边形的指针（图3－19）。多
边形的名称存储在另一个独立文件中，该文件实际上是一个表格，也包括一
些指针。这种数据结构不能进行更为复杂的邻城关系的搜索，也不能检查奇
异多边形和“ 死点” 等差错。只有完整的拓扑结构数据库才能处理这类问题。
为了建立恰当的拓扑多边形数据结构，使“ 岛屿多边形” 、面积计算、
邻城关系处理、奇异多边形和“ 死点” 检查等都能顺利处理，必须建立图3
－20 所示的数据结构。许多实验性和生产性的制图系统都要求在数字化的同
时在数据库中建立拓扑联结关系，而且常常要求用户按顺时针方向或逆时针
方向数字化所有的多边形，以便把线元素与其左右两边的多形组合起来。另
外还要求用户用数字化图中的虚线把“ 岛屿” 和它们周围的“ 湖泊” 连接起
来。
下面讨论如何从一系列按任意顺序和任意方向数字化的链，组成完整拓
扑多边形网络结构的数据组织方法（图3－20）。这种数据结构能够处理湖
和岛屿在任何一级多边形网络中的嵌套问题，能检查奇异多边形和
“ 死点” ，
能自动或半自动地将非空间属性数据与多边形连接起来，并全面支持邻域关
系的搜索等。
前面讨论过的简单多边形数据结构经常要求数据输入方法必须满足数据
结构要求，从而给数据输入和数据结构优化处理带来一些问题。因此，把数
据输入和数据结构分成两个单独的处理过程是更加有效的方法。为了建立这
样的数据结构，只需对数据输入作两种假设：①多边形边界已按链或弧编码；
②用以连接图形数据与属性数据的多边形名称则以每个多边形内某处可识别
的点实体的形式数字化。在这种假设条件下，组成完整拓扑多边形数据结构
的步骤如下：
1. 将链连接成边界网络：首先按链的尺度（最大最小x，y 坐标）存储多
边形的链，使各条链能按拓扑关系彼此集中在一起，同时在数据文件中存储
在一起，从而节省查找相邻链的时间。然后对这些链进行检查，看哪些其它
链与它们相交，把各交点存储在组成这些点的所有链的后面，并把链的数据
记录延长以包括指针和角度。
如果链不是在端点相接而是在中间相交，就会自动切成新链和形成新节
点，同时建立新的指针。有些地理信息系统不能自动形成节点，需用手工输
入。虽然手工输入节点及指针可以减少计算处理时间，但会产生非标准的数
据格式和数据库中的多余数据，同时输入工作量也大。
2. 检查多边形是否闭合：检查多边形闭合与否的方法很简单，即扫描修
改过的链记录，看每条链是否有指向其它链和从其它链指向它。如果每条链
都至少有一个指针指向其它链和一个从其它链指向它的指针，则说明多边形
网络中的各多边形是闭合的。
如果组成岛的链只有一条，它的指针就指向它本身。某链经检查不合要
求时，系统会以特殊的方法显示出来，让操作员知道某些链有问题，并决定
是否去除或修改。
3. 连接各链组成多边形：组成多边形的第一步是建立多边形网最外沿线
组成的包络多边形（实体），这个包络实体由以下记录内容组成：
⊙唯一标识；
⊙唯一的编码，这个编码说明该多边形是包络多边形；
⊙环形指针；
⊙指向边界链的指针列表；
⊙包络多边形的面积；
⊙范围（包围包络多边形的矩形的最大最小x，y 坐标值）。
此包络多边形用户是看不见的，它的唯一作用是建立多边形网络的拓扑
结构。
包络多边形按如下方法建立：在多边形网的最外沿选择一个点作为起始
点，按顺时针方向沿着边界查找下一个节点。原则是选取每一个节点处的最
左边一条链，并以这条链的另一端作为起点查找最左边的链，以此类推。选
出的链的识别符和其它有关数据需记录和存储，同时还要建立特殊标记来表
明该链已被查找一次。
第二步是一旦外沿线（包络多边形）建立起来以后，就建立其它多边形。
重新从建立包络多边形的起点开始，仍按顺时针方向查找，但不是找最左边
的链而是最右边的链。查找的同时还要记录各条链被查找的次数，如某条链
已被查找两次就不再查找，回到起点就表明一个多边形查找结束。
查找和记录链的同时还要检查角度的累积值，如果总和不等于360 度，
则说明该节点处数字化有错误，而且会形成奇异多边形。虽然奇异多边形在
第一阶段中已检查并滤除。但如果一条链必须连接到手工输入的节点上时，
这一检查还是必要的。
与包络多边形一样，每个多边形实体也包括如下信息：
⊙唯一的标识符；
⊙多边形编码；
⊙包围多边形到该多边形的环形指针，同时，该多边形的识别符应写入
包络多边形的环形指针记录中去；
⊙所有边界链列表（同时，多边形的识别符应写入链的记录中去）；
⊙指向多边形网中邻接多边形的指针；
⊙包络多边形的矩形的最大最小坐标值。
这些工作都完成后，用同样的过程查找下一个多边形，但下一个多边形
必须位于同一多边形网中，且属分级结构中的同一级。直到每个多边形都生
成后才结束查找工作。当最后一个多边形查找完毕时，就将它的指针指回到
包络多边形。这样就能保证每一条链都与两个多边形有关。
“ 岛” 的查找过程与上述基本一样。但“ 岛” 必须按适当的拓扑等级进
行编排，而且把“ 岛” 的水域线围成的多边形也指定为包络多边形，编排岛
的拓扑等级可以按包络多边形的面积分类排列，然后检查小包络多边形（即
岛）是否落入较大的包络多边形内。较为快速的查找方法是比较它们的范围
即包络矩形（最大，最小x，y 坐标）的大小。如果发现多边形落入较大多边
形内，则用“ 点在多边形内” 程序检查岛多边形是否完全在大多边形内（图
3－21 和图3－22）。图3－21 中点a 在多边形的范围内（最大、最小坐标）
以外，很容易判断a 点不在多边形内；b 点和c 点则需用图3－22 所示的方
法进一步检查。即从所查点开始向一个方向作水平线，如果该水平线与多边
形边界相交的次数为奇数则表明该点在多边形内，否则在外。图3－22 中多
边形P' 边界上的各点，经检查都在大多边形P 内，则说明P' 完全在P 内，
P'
可能是岛；如果有些点落在大多边形P 以外，则可能有某种错误，操作员应
进行必要的检查。
4. 计算多边形面积：按梯形法则计算每个多边形的面积，并把所计算的
面积作为多边形的属性数据存储。由于地理数据中，多边形可能具有几百个
边界坐标点，而且多边形网络中常包括多个岛屿。计算机计算面积的有效方
法是尽可能只算一次，因此湖泊水域面积最好是从湖的外沿多边形面积中减
去岛的面积（如果湖中有岛的话）。
5. 属性数据与多边形的连接：建立完整拓扑多边形数据结构的最后一步
是把多边形图形数据与对应的属性数据连接在一起。属性数据即描述多边形
特性的一切自然、社会经济数据。这两类数据的连接具有唯一性。
多边形识别符的建立有两种方法：
（1）在每个多边形内数字化一个文本实体作为数据输入的一部分，或者
在多边形形成后交互地输入。文本实体可以是文字、号码、名称等，但整个
多边形网必须统一，而且每个多边形的识别符不能相同，即需在各自的记录
中加入唯一的识别符或称关键字，并将二者的识别符再存储在另一文件——
关系表中，以便参照查找。
（2）
由程序自动寻找多边形的中央点，
并在该点写上多边形的识别符
（大
多数程序都是顺序号），并打印出这些识别符列表，用户按表再把对应的识
别符写入属性数据文件中去，或建立关系表，以供图形和属性相互参照查找
使用。
虽然建立这类复杂的拓扑多边形网数据结构需要有相当的计算机能力和
复杂的软件，但这类数据结构有如下优点：
（1）多边形网络完全综合成一个整体，没有重叠和漏洞，也没有过多的
冗余数据；
（2）全部多边形、链、属性数据均为内部连接在一起的整体单元的一部
分，可以进行任何类型的邻域分析。而且能将属性数据与链连接后再进行分
析；
（3）多边形中嵌套多边形没有限制，可以无限地嵌套。例如，湖→岛→
小湖→小岛，等等。
（4）数据库的位置精度只受数字化的精度和计算机字长的限制
（5）数据结构与数据收集和输入的牵连不多。
§ 5. 栅格和矢量数据结构的选择及其相互转换算法
一、栅格和矢量数据结构的比较与选择
空间数据的栅格结构和矢量结构是模拟地理信息的截然不同的两种方
法。几年以前，人们习惯的观点是：这两种结构势不两立、互不相容。原因
是栅格数据结构需要大量的计算机内存来存储和处理地理数据，才能达到与
矢量数据结构相同的空间分辨率，而矢量结构在某些特定形式的处理中，如
象多边形叠加、空间均值处理等都表现出大量的技术问题没有解决。同时栅
格结构是“ 属性明显，位置隐含” ，而矢量结构是“ 位置明显，属性隐含” 。
栅格数据结构十分有利于空间分析，但输出的专题地图既不美观也不够精
确；相反矢量数据结构存储量小，并且能输出精美的地图，但空间分析相当
困难。
近几年来，人们越来越清楚地认识到：原来把栅格数据和矢量数据结构
的差别当成重要的概念差别是不正确的，事实上都是技术问题。计算机技术
的发展使运算速度、存储能力、地理数据的空间分辨率大大提高。为了更有
效地利用G
I S，人们面临的问题之一是栅格数据和矢量数据结构的恰当选择
问题。
从图形质量出发，最初研究和发展的是矢量数据处理技术。原因很简单：
矢量数据结构是人们最熟悉的图形表达形式。但到70 年代后期，许多实际工
作者都认为在许多情况下，栅格方案更有效。例如多边形周长、面积、总和、
平均值的计算、从一点出发的半径等，在栅格数据中都简化为简单的计数操
作。又因为栅格坐标是规则的，删除和提取数据都可按位置确定窗口来实现，
比矢量数据结构方便得多。另一方面，相互连接的线网络和多边形网络则仍
需应用矢量数据结构模式。因为矢量结构更有利于网络分析（交通运输网、
给排水网等）和制图应用。但是矢量表示的多边形网络、线网络数据结构中
包括了大量拓扑信息即关系数据等多余数据，也使矢量结构的数据库容量大
幅度增加。
由此可知栅格结构和矢量结构都有各自的优点和局限性。两种数据结构
的比较如下：
1. 矢量数据结构：
优点：
（1）表示地理数据的精度较高；
（2）严密的数据结构，数据量小；
（3）用网络连接法能完整地描述拓扑关系；
（4）图形输出精确美观；
（5）图形数据和属性数据的恢复、更新、综合都能实现。
缺点：
（1）数据结构复杂；
（2）矢量多边形地图或多边形网很难用叠置方法与栅格图进行组合；
（3）显示和绘图费用高，特别是高质量绘图、彩色绘图和晕线图等；
（4）数学模拟比较困难；
（5）技术复杂，多边形内的空间分析不容易实现。
2. 栅格数据结构：
优点：
（1）数据结构简单；
（2）空间数据的叠置和组合十分容易方便；
（3）各类空间分析都很易于进行；
（4）数学模拟方便；
（5）技术开发费用低。
缺点：
（1）图形数据量大；
（2）用大像元减少数据量时，可识别的现象结构将损失大量信息；
（3）地图输出不精美；
（4）难以建立网络连接关系；
（5）投影变换花的时间多。
从上述比较中可以了解到栅格数据和矢量数据结构的适用范围。对于一
个与遥感相结合的地理信息系统来说，栅格结构是必不可少的，因为遥感影
像是以像元为单位的，可以直接将原始数据或经处理的影像数据纳入栅格结
构的地理信息系统。而对地图数字化、拓扑检测、矢量绘图等，矢量数据结
构又是必不可少的。较为理想的方案是采用两种数据结构，即栅格结构和矢
量结构并存，用计算机程序实现二种结构的高效转换。数字地图根据需要按
矢量结构或栅格结构存储最大限度地减少冗余，提高数据精度，对于数据的
提取和分析、输出，由程序自动根据操作的需要选取合适的结构，以获取最
强的分析能力和时间效率。栅格和矢量双结构，对于提高地理信息系统的空
间分辨率、数据压缩率和增强系统分析、输入输出的灵活性十分重要。但是
在转换程序效率不高、硬、软件功能不太全的情况下，又要及时开展G
I S 工
作，选用恰当的数据结构是G
I S 有效运行的前提之一。
二、栅格和矢量数据结构相互转换算法
矢量结构与栅格结构的相互转换，一直是地理信息系统的技术难题之
一。这主要是由于转换程序通常占用较多的内存，涉及复杂的数值运算，而
难以在实用系统特别是微机地理信息系统中被采用。近年来已发展了许多高
效的转换算法，适用于不同的环境。
对于点状实体，每个实体仅由一个坐标对表示，其矢量结构和栅格结构
的相互转换基本上只是坐标精度转换问题。线实体的矢量结构由一系列坐标
对表示，在变为栅格结构时，除把序列中坐标对变为栅格行列坐标外，还需
根据栅格精度要求，在坐标点之间插满一系列栅格点，这也容易由两点式直
线方程得到；线实体由栅格结构变为矢量结构与将多边形边界表示为矢量结
构相似。因此以下重点讨论多边形（面实体）的矢量结构与栅格结构相互转
换问题。
（一）矢量格式向栅格格式转换
矢量格式向栅格格式转换又称为多边形填充，就是在矢量表示的多边形
边界内部的所有栅格上赋予相应的多边形编号，从而形成栅格数据阵列。
1. 内部点扩散算法；该算法由每个多边形一个内部点（种子点）开始，
向其八个方向的邻点扩散，判断各个新加入点是否在多边形边界上，如果是
边界点，则新加入点不作为种子点，否则把非边界点的邻点作为新的种子点
与原有种子点一起进行新的扩散运算，并将该种子点赋予多边形的编号。重
复上述过程，直到所有种子点填满该多边形并遇到边界为止。
扩散算法程序设计比较复杂，需要在栅格阵列中进行搜索，占用内存很
大。在一定栅格精度上，如果复杂图形的同一多边形的两条边界落在同一个
或相邻的两个栅格内，会造成多边形不连通，则一个种子点不能完成整个多
边形的填充。
2. 复数积分算法：对全部栅格阵列逐个栅格单元判断栅格归属的多边形
编码，判别方法是由待判点对每个多边形的封闭边界计算复数积分，对某个
多边形，如果积分值为2π i ，则该待判点属于此多边形，赋予多边形编号，
否则在此多边形外部，不属于该多边形。
复数积分算法涉及许多乘除运算，尽管可靠性好，设计也并不复杂，但
运算时间很长，难以在比较低档次的计算机上采用。采用一些优化方法，如
根据多边形边界坐标的最大最小值范围组成的矩形来判断是否需要做复数积
分运算，可以部分地改善运算时间长的困难。
3. 射线算法：射线算法可逐点判别数据栅格点在某多边形之外或在多边
形内，由待判点向图外某点引射线，判断该射线与某多边形所有边界相交的
总次数，如相交偶数次，则待判点在该多边形的外部，如为奇数次，则待判
点在该多边形内部。
射线算法要计算与多边形交点，因此运算量大。另一个比较麻烦的问题
是射线与多边形相交时有些特殊情况如相切、重合等，会影响交点的个数，
必须予以排除，由此造成算法的不完善，并增加了编程的复杂性。
4. 扫描算法：扫描算法是射线算法的改进，通常情况下，沿栅格阵列的
行方向扫描，在每两次遇到多边形边界点的两个位置之间的栅格，属于该多
边形。扫描算法省去了计算射线与多边形交点的大量运算，大大提高了效率，
但一般需要预留一个较大的数组以存放边界点，而且扫描线与多边形边界相
交的几种特殊情况仍然存在，需要加以判别。
5. 边界代数算法：边界代数多边形填充算法（Boundary Al gebra
Fi l l i ng，简称BAF），是任伏虎等设计并在微机地理信息系统上实现的一种
基于积分思想的矢量格式向栅格格式转换算法。
为说明边界代数转换法的原理，先考虑图3－23 所示单个多边形的简单
情况，模仿积分求多边形区域面积的过程，初始化的栅格阵列各栅格值为零，
欲填充多边形编号为a 的区域，即将区域内栅格点的值变为a，而区域外各
点仍保持原值零。转换时，以栅格行列为参考坐标轴，由多边形边界上某点
为起点顺时针搜索边界线，当边界线段为上行时（图3－23（a）），位于搜
索边界曲线左侧的具有相同行坐标的所有栅格点被减去一个值a；当边界线
段为下行时（图3－23（b）），则将边界曲线左边（从曲线前进方向看为右
侧）所有具相同行坐标的栅格点加上一个值a，当沿边界搜索运算一周回到
起始点后，所有多边形内部的栅格点都被赋值a，而多边形外的栅格点的值
不变。
事实上，每幅地图都是由多个多边形区域组成的。如果把不属于任何多
边形的区域（包括无穷远点）看成一个编号为零的特殊区域，则每一条边界
弧段都与两个不同编号的多边形相邻，按边界弧段的前进方向分别称为左、
右多边形。对图3－24 所示的3 个多边形的6 条边，有如表3－5 所示的多边
形编号。
表3- 5  线号与左右多边形号的对应关系
线号
左多边形
右多边形
Ⅰ
Ⅱ
Ⅲ
Ⅳ
Ⅴ
Ⅵ
0
n2
n3
n1
n3
n3
n1
0
n2
n2
0
n1
对多边形n1：线Ⅰ上行－n1，下行+n1；线Ⅳ上行+n1；线Ⅵ下行+n1；
对多边形n2：线Ⅱ上行+n2，下行－n2；线Ⅳ上行－n2；线Ⅲ上行－n2；
对多边形n3：线Ⅳ下行- n3，线Ⅲ上行+n3；线Ⅴ下行- n3，上行+n3。
对所有运算按线号进行排列，把图外区域作为编号为零的区域参加计
算，下面括号内标出的为相应线的左或右多边形。
线Ⅰ上行：+0（左）
- n1（右）
下行：- 0（左）
+n1（右）
线Ⅱ上行：+n2（左）
- 0（右）
下行：- n2（左）
+0（右）
线Ⅲ上行：+n3（左）
- n2（右）
线Ⅳ上行：+n1（左）
- n2（右）
线Ⅴ上行：+n3（左）
－0（右）
下行：- n3（左）
+0（右）
线Ⅵ下行：- n3（左）
+n1（右）
由此得到边界代数算法的基本思想：对每幅地图的全部具有左右多边形
编号的边界弧段，沿其前进的方向逐个搜索，当边界上行时，将边界线位置
与左图框之间的网格点加上一个值=（左多边形编号）- （右多边形编号）；
当边界线下行时，将边界线位置与左图框的栅格点加上一个值=
（右多边形编
号）- （左多边形编号），而不管边界线的排列顺序。
图3—25 为两个邻域多边形的边界代数转换过程及结果示意图。
边界代数法与其它算法的不同之处在于它不是逐点搜寻判别边界，而是
根据边界的拓扑信息，通过简单的加减代数运算将拓扑信息动态地赋予各栅
格点，实现了矢量格式到栅格格式的转换。由于不需考虑边界与搜索轨迹之
间的关系，因此算法简单，可靠性好，而且由于仅采用加减代数运算，每条
边界仅计算一次，免去了公共边界重复运算，又可不考虑边界存放的顺序，
因此运算速度快，同时较少受内存容量的限制，特别适用于微机地理信息系
统。
（二）栅格格式向矢量格式的转换
栅格格式向矢量格式转换的目的，是为了将栅格数据分析的结果，通过
矢量绘图装置输出，或者为了数据压缩的需要，将大量的面状栅格数据转换
为由少量数据表示的多边形的边界。但是更重要的是为了将自动扫描仪获取
的栅格数据加入矢量形式的数据库。
多边形栅格格式向矢量格式转换，就是提取以相同编号的栅格集合表示
的多边形区域的边界和边界的拓扑关系，并表示成多个小直线段的矢量格式
边界线的过程。
栅格格式向矢量格式转换通常包括以下四个基本步骤：
（1）多边形边界提取：采用高通滤波将栅格图像二值化或以特殊值标识
边界点；
（2）边界线追踪：对每个边界弧段由一个节点向另一个节点搜索，通常
对每个已知边界点需沿除进入方向的其它7 个方向搜索下一个边界点，直到
连成边界弧段。
（3）拓扑关系生成：对于矢量表示的边界弧段，判断其与原图上各多边
形的空间关系，形成完整的拓扑结构，并建立与属性数据的联系。
（4）去除多余点及曲线圆滑：由于搜索是逐个栅格进行的，必须去除由
此造成的多余点记录，以减少数据冗余。搜索结果曲线由于栅格精度的限制
可能不够圆滑，需要采用一定的插补算法进行光滑处理。常用的算法有线性
叠代法、分段三次多项式插值法、正轴抛物线平均加权法、斜轴抛物线平均
加权法、样条函数插值法等。
栅格向矢量转换中最为困难的是边界线搜索、拓扑结构生成和多余点去
除。任伏虎等发展了一种栅格数据库数据双边界直接搜索算法（D
oubl e
Boundary D
i rect  Fi ndi ng，缩写为D
BD
F），较好地解决了上述问题。
双边界直接搜索算法的基本思想是通过边界提取，将左右多边形信息保
存在边界点上，每条边界弧段由两个并行的边界链组成，分别记录该边界弧
段的左右多边形编号。边界线搜索采用2× 2 栅格窗口，在每个窗口内的四个
栅格数据的模式可以唯一地确定下一个窗口的搜索方向和该弧段的拓扑关
系，这一方法加快了搜索速度，拓扑关系也很容易建立。具体步骤如下：
（1）边界点和节点提取：采用2× 2 栅格阵列作为窗口顺序沿行、列方
向对栅格图像全图扫描，如果窗口内四个栅格有且仅有两个不同的编号，则
该四个栅格标识为边界点并保留各栅格所有多边形原编号；如果窗口内四个
栅格有三个以上不同编号，则标识为节点（即不同边界弧段的交汇点），保
证各栅格原多边形编号信息。对于对角线上栅格两两相同的情况，由于造成
了多边形的不连通，也作为节点处理（图3—26、图3—27、图3—28）。
（2）边界线搜索与左右多边形信息记录：边界线搜索是逐个弧段进行
的，对每个弧段从一组已标识的四个节点开始，选定与之相邻的任意一组四
个边界点和节点都必定属于某一窗口的四个标识点之一。首先记录开始边界
点组的两个多边形编号作为该弧段的左右多边形，下一点组的搜索方向则由
前点组进入的搜索方向和该点的可能走向决定，每个边界点组只能有两个走
向，一个是前点组进入的方向，另一个则可确定为将要搜索后续点组的方向。
例如图3－28（c）所示边界点组只可能有两个走向，即下方和右方，如果该
边界点组由其下方的一点组被搜索到，则其后续点组一定在其右方；反之，
如果该点在其右方的点组之后被搜索到（即该弧段的左右多边形编号分别为
b 和a），对其后续点组的搜索应确定为下方，其它情况依次类推。可见双边
界结构可以唯一地确定搜索方向，从而大大地减少搜索时间，同时形成的矢
量结构带有左右多边形编号信息，容易建立拓扑结构和与属性数据的联系，
提高转换的效率。
（3）多余点去除：多余点的去除基于如下思想：在一个边界弧段上连续
的三个点，如果在一定程度上可以认为在一条直线上（满足直线方程），则
三个点中间一点可以被认为是多余的，予以去除。即满足：
x - x
y - y
= x - x
y - y
x - x
y - y
= x - x
y - y
1
2
1
2
1
3
1
3
1
3
1
3
2
3
2
3
或
由于在算法上的实现，要尽可能避免出现除零情形，可以转化为以下形
式：
（x1- x2）（y1- y3）=（x1- x3）（y1- y2）
或
（x1- x3）（y2- y3）=（x2- x3）（y1- y3）
其中（x1，y1），（x2，y2），（x3，y3）为某精度下边界弧段上连续三
点的坐标，则（x2，y2）为多余点，可予以去除。
多余点是由于栅格向矢量转换时逐点搜索边界造成的（当边界为或近似
为一直线时），这一算法可大量去除多余点，减少数据冗余。
第四章  空间数据分析
§ 1. 空间分析模型
地理信息系统以数字世界表示自然世界，具有完备的空间特性，可以存
储和处理大量地理数据，并具有极强的空间系统综合分析能力。因此，地理
信息系统不仅要完成管理大量复杂的地理数据的任务，更为重要的是完成地
理分析、评价、预测和辅助决策的任务，这就必须发展适用于地理信息系统
的地理分析模型，这是地理信息系统走向实用的关键。
所谓模型，就是将系统的各个要素，通过适当的筛选，用一定的表现规
则描写出来的简明的映象。模型通常表达了某个系统的发展过程或发展结
果。
地学模型是用来描述地理系统各个要素之间相互关系和客观规律的，它
用信息的、语言的、数学的或其它表达形式，通常反映地学过程及其发展趋
势或结果。数学模型是应用数学的语言和工具，对部分现实世界的信息（现
象、数据）加以翻译、归纳的产物，它源于现实，又高于现实。数学模型经
过演绎、推导，给出数学上的分析、预报、决策或控制，再经过解释回到现
实世界。最后，这些分析、预报、决策或控制必须经受实际的检验，完成实
践—理论—实践这一循环，如图4- 1 所示。
地学模型，是在对系统所描述的具体对象与过程，进行大量专业研究的
基础上，总结出来的客观规律的抽象或模拟。因此，这种模型的发展不仅是
建立G
I S 应用系统的主要内容之一，而且也是决定该系统解决实际问题的能
力、效率和最终取得实际效益的关键所在，已受到人们日益广泛的关注和重
视。由于各种应用系统的服务对象、解决的问题以及它们的复杂程度有很大
差异，故其所用模型也各不相同。为此强调和注意各种G
I S 应用系统及其数
学模型的个性具有十分重要的意义。现将数学模型在应用系统中的作用、特
点及它们的分类叙述如下：
一、模型的作用和特点
在G
I S 应用系统中，数学模型起着十分重要的作用：
1. 应用模型是联系G
I S 应用系统与常规专业研究的纽带：模型的建立虽
然是数学或技术性的问题，但它必须以广泛、深入的专业研究为基础。专业
研究的深入程度决定了所建模型的质量与效果。
从这种意义上讲，
模型把G
I S
应用系统和常规专业研究紧紧地联系在一起了。
2. 应用模型是综合利用G
I S 应用系统中大量数据的工具：在系统中存储
有数量巨大、来源不同、形式不同的数据。它们的综合分析处理和应用，主
要是通过系统中模型的使用而实现的。因此，系统中数据使用的效率和深度，
在很大程度上取决于模型的数量和质量。
3. 应用模型是G
I S 应用系统解决各种实际问题的武器：由于应用模型是
客观世界中解决各种实际问题所依赖的规律或过程的抽象或模拟。因此能有
效地帮助人们从各种因素之间找出其因果关系或者联系，促进问题的解决。
但是由于许多问题十分复杂，完全靠定量方法很难圆满解决，所以系统还要
给人为干预留下较大的余地，使定性方法也能发挥一定作用。
4. 应用模型是G
I S 应用系统向更高技术水平发展的基础：大量模型的发
展和应用，实际上集中和验证了该应用领域中许多专家的经验和知识，无疑
是一般G
I S 应用系统向专家系统发展的基础。
在G
I S 应用系统中，大多数应用数学模型具有综合性、空间性以及动态
性的特点，反映了它们在多种数据综合应用以及对各种空间及动态问题等的
处理和求解能力。
二、模型的分类
系统中应用模型可根据模型的空间特性分为两大类，即空间模型和非空
间模型。然后再根据具体模型建立与求解方法，作进一步的分类，如图4－2
所示。由于空间和非空间两类模型在运算方式、所用数据、结果形式以及管
理方法等方面均有较大差别，所以把它们分开对系统设计及模型管理会有许
多方便之处。
对于非空间模型而言，它们主要是对系统中的各种属性数据进行运算，
常用的方法包括投入产出模型、计量经济学、经济控制论及系统动力学等。
与这些方法相应的模型形式、特点、局限性以及主要应用范围见表4—1。这
类模型多用于解决社会经济领域中的一些问题，如评价、预测与规划等，但
也可用于生态环境及自然资源等领域。
表4- 1GI S 中的非空间模型
模型类别
模型形式
主要特点
局限性
主要应用范围
投入产出模型
以矩阵投
入产出表
为核心
能清晰地反映
出各部门间的
生产联系、模
型简明
（1 ）较难处理经济活
动中的动态问题；
（2 ）没有考虑最终需
求的确定以及生产与收
入之间的反馈联系
（1 ）是搞好综合平衡的
重要工具，
主要用于生产
系统的平衡；
（2 ）经济- 环境预测的
重要方法之一
计量经济学
线性或非
线性联立
差分方程
将经济理论、
统计学、数学
和计算机仿真
技术有机地结
合在一起
（1 ）高质量的经济数
据难以获取；
（2 ）当经济结构等变
化较大时，模型难以及
时作出反映
（1 ）经济结构分析；
（2 ）经济政策评论；
（3 ）经济预测，但预测
期不长
经济控制论
以离散形
式的状态
空间模型
为主
能反映国民经
济中的调节控
制机制，可充
分利用控制论
的成果
目前实用的模型还处于
开发阶段
（1 ）能进行各种期限的
预测；
（2 ）能进行战略研究和
制定最优经济政策；
（3 ）能作为制定五年计
划的辅助工具
系统动力学
可带有时
滞的一阶
微分方程
以反馈控制理
论为基础，便
于处理非线性
和时变现象，
能作长期的、
动态的、战略
性的仿真与研
究
预测精度不高，较适于
研究分析系统的动态行
为
（1 ）在制定国民经济中
远期发展规划时，作战略
研究和政策分析；
（2 ）土地承载力、生态
环境系统调控研究和仿
真
对于空间模型来说，则与上述情况不同，它们需要同时对系统中的图形
和属性两种数据进行运算，常用的方法包括图形运算、空间检索、统计识别、
网络分析以及空间扩散计算等。这些模型的形式、特点、局限性以及主要应
用范围见表4—2。它们的应用范围兼顾社会和自然两大科学领域。由于这类
模型的应用还很不充分，因而是今后G
I S 研究的重点和发展的主要方向之
一。
表4－2  GI S 的空间模型
模型类别
模型形式
主要特点
局限性
主要应用范围
图形运算
图内各点及图
间同名点的算
术或代数运算
反映图内各点
以及图间同名
点之间的空间
关系，运算简单
以栅格数据结
构较易实现，
矢
量数据则较复
杂
（1 ）数字地形模型及应
用；
（2 ）区位分析；
（3 ）
各种较简单的回归模
型。
空间检索
搜索并检出符
合条件的网络
和图形
适用于目前还
不能用数学公
式描述，但却能
根据专业研究
给出的某些条
件或阈值解决
问题的模型
检索条件及阈
值的确定要有
专业研究的支
持，
如果它们不
合理或不准确，
会产生很大误
差
（1 ）
大型厂矿及工程选址
选线；
（2 ）
根据成矿条件寻找矿
区；
（3 ）土地适用性评价等。
统计识别
统计识别分类
及主成分分析
等图像处理方
法
移植图像处理
中的有关方法，
可进行区域划
分及综合指标
确立等应用
仅适用于栅格
数据结构
（1 ）进行专题或综合分
区；
（2 ）
建立综合评价指标及
模型。
网络分析
图论及运筹学
方法
解决与网络有
关的各种问题，
如最短路径、运
量分配等
实际情况较复
杂，计算量大
（1 ）
最佳路线选择；
（2 ）
网络中流量的分配；
（3 ）货物的集散调度；
（4 ）
城镇及生活服务网点
布局。
空间扩散
解扩散方程
描述了许多现
象的物理过程
在实际计算时，
参数的选择有
较大的经验性，
使结果的精度
受一定影响
（1 ）
大气环境和水环境质
量预测；
（2 ）热污染模型建立；
（3 ）人文地理问题的解
决。
§ 2. 数据统计模型
多变量统计分析主要用于数据分类和综合评价。数据分类方法是地理信
息系统重要的组成部分。一般说地理信息系统存储的数据具有原始性质，用
户可以根据不同的实用目的，进行提取和分析，特别是对于观测和取样数据，
随着采用分类和内插方法的不同，得到的结果有很大的差异。因此，在大多
数情况下，首先是将大量未经分类的数据输入信息系统的数据库，然后要求
用户建立具体的分类算法，以获得所需要的信息。
综合评价是区划和规划的基础。从人类认识的角度来看有精确的和模糊
的两种类型，因为绝大多数地理现象难以用精确的定量关系划分和表示，因
此模糊的模型更为实用，结果也往往更接近实际，模糊评价一般经过四个过
程：（1）评价因子的选择与简化；（2）多因子重要性指标（权重）的确定；
（3）因子内各类别对评价目标的隶属度确定；（4）选用某种方法进行多因
子综合。
分类和评价的问题通常涉及大量的相互关联的地理因素，主成分分析方
法可以从统计意义上将各影响要素的信息压缩到若干合成因子上，从而使模
型大大地简化；因子权重的确定是建立评价模型的重要步骤，权重正确与否
极大地影响评价模型的正确性，而通常的因子权重确定依赖较多的主观判
断，层次分析法是综合众人意见，是科学地确定各影响因子权重的简单而有
效的数学手段。隶属度反映因子内各类别对评价目标的不同影响，依据不同
因子的变化情况确定，常采用分段线性函数或其它高次函数形式计算。常用
的分类和综合的方法包括聚类分析和判别分析两大类。聚类分析可根据地理
实体之间影响要素的相似程度，采用某种与权重和隶属度有关的距离指标，
将评价区域划分若干类别；判别分析类似于遥感图像处理的分类方法，即根
据各要素的权重和隶属度，采用一定的评价标准将各地理实体判归最可能的
评价等级或以某个数据值所示的等级序列上；分类定级是评价的最后一步，
将模糊聚类的结果根据实际情况进行合并，并确定合并后每一类的评价等
级，对于模糊判别分析的结果序列采用等间距或不等间距的标准划分为最后
的评价等级。
在土地资源评价中，可根据联合国粮农组织制定的土地评价纲要和实际
情况，选择若干评价因子，给出优、良、可、劣等单因子评价指标，采用某
种数学方法进行分类评价，确定最后的土地等级。
下面简要介绍分类评价中常用的几种数学方法。
一、主成分分析
地理问题往往涉及大量相互关联的自然和社会要素，众多的要素常常给
模型的构造带来很大困难，同时也增加了运算的复杂性。为使用户易于理解
和解决现有存储容量不足的问题，有必要减少某些数据而保留最必要的信
息。由于地理变量中许多变量通常都是相互关联的，就有可能按这些关联关
系进行数学处理达到简化数据的目的。主成分分析是通过数理统计分析，求
得各要素间线性关系的实质上有意义的表达式，将众多要素的信息压缩表达
为若干具有代表性的合成变量，这就克服了变量选择时的冗余和相关，然后
选择信息最丰富的少数因子进行各种聚类分析，构造应用模型。
设有n 个样本，p 个变量。将原始数据转换成一组新的特征值——主成
分，主成分是原变量的线性组合且具有正交特征。即将x1，x2，⋯，xp综合
成m
（m
＜p）个指标z1，z2，⋯，zm
，即
z1=l 11*x1+l 12*x2+⋯+l 1p*xp
z2=l 21*x1+l 22*x2+⋯+l 2p*xp
⋯⋯⋯⋯⋯⋯（4- 1）
zm
=l m
1*x1+l m
2*x2+⋯+l m
p*xp
这样决定的综合指标z1，z2，⋯，zm分别称做原指标的第一，第二，⋯，
第m主成分。其中z1在总方差中占的比例最大，其余主成分z2，z3，⋯，zm
的方差依次递减。在实际工作中常挑选前几个方差比例最大的主成分，这样
既减少了指标的数目，又抓住了主要矛盾，简化了指标之间的关系。
从几何上看，找主成分的问题，就是找p 维空间中椭球体的主轴问题，
从数学上容易得到它们是x1，x2，⋯，xp的相关矩阵中m个较大特征值所对
应的特征向量，通常用雅可比（J acobi ）法计算特征值和特征向量。
很显然，主成分分析这一数据分析技术是把数据减少到易于管理的程
度，也是将复杂数据变成简单类别便于存储和管理的有力工具。地理研究和
生态研究的G
I S 用户常使用上述技术，因而应把这些变换函数作为G
I S 的组
成部分。
二、层次分析法
过去说研究自然或社会现象主要有机理分析和统计分析两种方法。前者
用经典的数学工具分析现象的因果关系，后者以随机数学为工具，通过大量
观测数据寻求统计规律。近年来发展起来的第三种方法称系统分析。层次分
析（AH
P）法就是系统分析的数学工具之一，它把人的思维过程层次化、数量
化，并用数学方法为分析、决策、预报或控制提供定量的依据。事实上这是
一种定性和定量分析相结合的方法。在模型涉及大量相互关联、相互制约的
复杂因素的情况下，各因素对问题的分析有着不同的重要性，决定它们对目
标重要性的序列，对建立模型十分重要。AH
P 方法把相互关联的要素按隶属
关系分为若干层次，请有经验的专家对各层次各因素的相对重要性给出定量
指标，利用数学方法综合专家意见给出各层次各要素的相对重要性权值，作
为综合分析的基础。例如要比较n 个因素y={y1，y2，⋯，yn}对目标Z 的影
响，确定它们在Z 中的比重，每次取两个因素yi 和yj ，用ai j 表示yi 与yj
对Z 的影响之比，全部比较结果可用矩阵A=（ai j ）n× n 表示，A叫成对比
矩阵，它应满足：ai j ＞0，aj i =1/ai j （i ，j =1，2，⋯，n）（4－2）使（4－
2）式成立的矩阵称互反阵，不难看出必有ai j =1。
在旅游问题中，假设某人考虑5 个因素：费用y1、景色y2，居住条件y3、
饮食条件y4、旅途条件y5。他用成对比较法得到的正互反阵是：
A =
y
y
y
y
y
1
2
3
4
5
y
y
y
y
y
1
2
3
4
5
1
2
7
5
5
1 2 1
4
3
3
1 7 1 4
4
1 2
1 3
1 5 1 3
2
1
1
1 5 1 3
3
1
1
4
3
/
/
/
/
/
/
/
/
/
(
)




















−
在（4－3）式中a12=2 表示y1与景色y2对选择旅游点（目标Z）的重要性之
比为2∶1；a13=7，表示费用y1与居住条件y3之比为7∶1；a23=4，则表示景
色y2与居住条件y3之比为4∶1。
如果A不是一致阵
（即A
12、
A
23不等于A
13）
，
需求正互反阵最大特征值对应的特征向量，作为权向量。
三、系统聚类分析
虽然数据整理能将大量而复杂的多变量数据适当压缩，但人们还希望进
一步减少数据的复杂程度，即将数据定义成一组多变量类别。主成分分析仅
仅是数据沿着一条新轴的旋转和投影，得到的新值既大大压缩了原始数据也
可以作为新变量使用。主成分分析后的主分量不是按地理空间制图，而是按
主成分轴定义的空间制图。当数据在主成分空间的两坐标轴上的分布具有相
似性时，这种散射图（常把主成分空间绘制的图称散射图）能够显示出明显
的类别特性即聚类特性。如果这些聚类能归纳为分类系统中的某一类的话，
就有可能进一步减少数据的复杂性。另外，这些聚类完全由原始数据的分析
中推演而得，就能代表“ 天然” 类别，也比外生分类（按所研究数组的门槛
值确定其区间，而不是由数组本身派生出来的区间）和层次分类等人为强加
的类别更加真实。
60 年代末到70 年代初人们把大量精力集中于发展和应用数字分类法，
且将这类方法应用于自然资源、土壤剖面、气候分类、环境生态等数据，形
成“ 数字分类学” 学科。目前聚类分析已成为标准的分类技术，在许多大型
计算机中都存储了这种分析程序，从G
I S 数据库中将点数据传送到聚类分析
程序也不困难。
聚类分析的主要依据是把相似的样本归为一类，而把差异大的样本区分
开来。在由m个变量组成为m维的空间中可以用多种方法定义样本之间的相
似性和差异性统计量。
用xi k 表示第i 个样本第k 个指标的数据xj k 表示第j 个样本第k 个指标
数据。di j 表示第i 个样本和第j 个样本之间的距离，根据不同的需要，距离
可以定义为许多类型，最常见、最直观的距离是欧几里德距离，其定义如下：
d = {[
(x
- x
) ] / m}
4 - 4
ij
ik
jk
2
k=1
m
1/2
∑
（
）
依次求出任何两个点的距离系数di j（i ，j =1，2，⋯，n）以后，则可形成一
个距离矩阵：
D =
d
=
d
d
d
d
d
d
d
d
d
4 -5
ij
11
12
1n
21
22
2n
n1
n2
nn
（
）
⋯
⋯
⋯
⋯
⋯
⋯
⋯
（
）














它反映了地理单元的差异情况，在此基础上就可以根据最短距离法或最长距
离法或中位线法等进行逐步归类，最后形成一张聚类分析谱系图，如图（4
—3）。
除上述的欧氏距离外，定义相似程度的还有绝对值距离、切比雪夫距离、
马氏距离、兰氏距离、相似系数和定性指标的距离等。
四、判别分析
判别分析与聚类分析同属分类问题，所不同的是，判别分析是预先根据
理论与实践确定等级序列的因子标准，再将待分析的地理实体安排到序列的
合理位置上的方法，对于诸如水土流失评价、土地适宜性评价等有一定理论
根据的分类系统定级问题比较适用。
判别分析依其判别类型的多少与方法的不同，可分为两类判别、多类判
别和逐步判别等。
判别分析要求根据已知的地理特征值进行线性组合，构成一个线性判别
函数Y，即
Y = c * x + c * x +
+ c
* x
=
c * x
(4 - 6)
1
1
2
2
m
m
k
k
k=1
m
⋯
∑
式中，ck（k=1，2，⋯，
m
）为判别系数，它可反映各要素或特征值作用方向、
分辨能力和贡献率的大小。只要确定了ck，判别函数Y 也就确定了。xk 为已
知各要素（变量）的特征值。为了使判别函数Y 能充分地反映出A、
B
[Y(A) - Y
(B)]2
两种地理类型的差别，就要使两类之间均值差
·
尽可能大，
而各类内部的离差平方和尽可能小。只有这样，其比值Ⅰ才能达到最大，从
而能将两类清楚地分开。其表达式为：
I =
[Y(A) - Y(B)]
[Y (A) -Y(A)] +[
[Y (B) - Y(B)]
4
7
2
i
2
i=1
n
i
2
i=1
n
2
2
∑
∑
（— ）
判别函数求出以后，还需要计算出判别临界值，然后进行归类。不难看出，
经过二级判别所作的分类是符合区内差异小而区际差异大的划区分类原则
的。
目前在地理信息系统中发展了一种多因素模糊评价模型，相当于模糊评
判分析，该方法首先根据标准类别参数的指标空间确定各因素各类别对目标
的隶属度，作为判别距离的度量，再结合要素的权重指数，采用适当的模糊
算法，计算各地理实体的归属等级类别，作为评价的基础。该方法通过隶属
度表达人们对目标与因素之间关系的模糊性认识，用适当的算法将这种认识
量化并反映到结果的分类中，对于地理学中的评价与规划问题非常有效。
§ 3. 空间数据的内插模型
等值区域专题地图上的多边形不可能进一步划分成更小的空间实体，多
边形边界内的变化也不可能表示得精确，只能达到一般平均值的水平。在这
种情况下，未观测点的最佳估计值只能参照像元类别或多边形类别获取。然
而我们经常拥有的数据是区域内的随机点或规划格网点上的观测值组成的，
例如土壤剖面观测点可能与一定制图单元轮廓有关，也有可能是没有考虑任
何土地景观分层采样的情况下采集的。不论什么情况，这些数据点的空间阵
列使我们有可能在未观测点上获得某些特征的更精确值。其方法是从存在的
观测数据中找到一个函数关系式，使该关系式最好地逼近这些已知的空间数
据，并能根据函数关系式推求出区域范围内其它任意点或任意分区的值，这
种通过已知点或分区的数据，推求任意点或分区数据的方法称为空间数据的
内插。它们是地理信息系统数据处理常用的方法之一，广泛应用于等值线自
动制图、数字高程模型的建立、不同区域界线现象的相关分析和比较研究等。
地理学家和地球科学家花了多年时间研究内插问题，许多科学领域都对
内插技术给予充分注意。一般情况下，空间位置上越靠近的点，越有可能具
有相似的特征值，离得越远的点，其特征值相似的可能性越小。
最简单的边界内插法是用地理景观的外部特征描绘出“ 景观单元” 。这
种方法主要用于土壤、地质、植被、土地利用等等值区域地图和专题地图的
处理。图像分析中用于边沿检测的算法——平行面技术，假设任何重要变化
都发生在边界上，边界内的变化则是均匀的、同质的，即在各方向都是相同
的，从而形成地理景观的阶梯状模型（图4—4）。当然，还可以在面实体内
或多边形内绘出新边界，将面实体进一步划分成小的面实体。但这种方法不
一定适用于连续而渐变的特征。
另一些内插方法与离散点内插技术相反，它们是连续渐变特征的空间模
型。这些连续变化可用一种平滑的表面加以描述。内插技术包括样条函数、
最小二乘趋势面、傅里叶级数、克里金（Kri gi ng）的移动平均法等。也可以
分为整体拟合和局部拟合技术两大类。整体拟合技术即拟合模型是由研究区
域内所有采样点上的全部特征观测值建立的趋势面分析和傅里叶级数就属此
例。这些模型特点是不能提供内插区域内的局部特性。因此，这些模型常被
用模拟长距离变化，例如主要地形特征与地下水位的关系等。样条函数、移
动平均法等局部拟合技术仅仅用邻近的数据点来估计未知点的值。因此可用
于局部反常值，而且不受内插表面上其它点的内插值的影响。
一、整体内插法
1. 趋势面分析：多项式回归分析是描述长距离渐变特征的最简单方法。
多项式回归的基本思想是用多项式表示的线或面按最小二乘法原理对数据点
进行拟合，线或面多项式的选择取决于数据是一维还是二维。
地理调查中特征值z 是x 的线性函数如图4—5。其数学表达式为：
z=b0+b1x( 4- 8)
式中b0，b1为多项式系数。
许多情况下z 不是x 的线性函数，而是以更为复杂的方式变化，如图4
－6 所示。在这种情况下需用二次多项式：
z = b + b x + b x
(4 - 9
0
1
1
2
2
2
）
增加（4－9）式中的项数，即用更高次的多项式可以拟合更复杂的曲线。
二次趋势面的数学模型为
z=b0+b1x1+b2y+b3x3+b4xy+b5y2            （4－10）
三次趋势面的数学模型为：
z=b0+b1x1+b2y+b3x2+b4xy+b5y2+b6x3+b7x2y+b8xy2+b9y3    （4- 11）
趋势面分析的优点是：它是一种极易理解的技术，至少在计算方法上是
易于理解的。另外，大多数数据特征可以用低次多项式来模拟。但要给复杂
的高次多项式赋予物理意义就困难了。
趋势面是平滑函数，很难正好通过原始数据点，除非数据点少而且曲面
的次数高才能使曲面正好通过原始数据点。实际上趋势面分析最有成效的应
用之一是揭示研究区域中不同于总趋势的最大偏离部分。因此趋势面分析的
主要用途是：使某种局部内插方法对区域进行内插之前，从数据中去掉一些
宏观地物特征，而不把它直接用于区域内插。
趋势面拟合程度的检验，同多元回归分析一样可用F 分布进行检验，其
检验统计量为：
F =
U / P
Q / (n - p -1)
(4 -12)
式中U为回归平方和，
Q为残差平方和
（剩余平方和）
，
p 为多项式的项数
（但
不包括常数项b0），n 为使用资料的数目。当F＞Fa 时，则趋势面拟合显著，
否则不显著。
2. 傅里叶级数：傅里叶级数用正弦和余弦的线性组合来模拟观测值的变
化，亦即描述一维或二维变化情况。一维傅里叶级数已广泛用于时间级数分
析和气象变化的应用研究。二维傅里叶级数在研究沉积岩的地质构造中用得
较多。实际上，傅里叶级数在结构分析中的应用比制图应用多。在一般情况
下，除溪流、沙丘等明显的周期性特征外，地球表面的其它特征都很复杂，
且难以用周期函数来严格地表示它们的变化。
二、局部内插法
1. 样条函数：计算机用于曲线与数据点拟合以前，制图员用曲线规逐段
地拟合出平滑的曲线。这种灵活的曲线规绘成的分段曲线称为样条。与样条
匹配的那些数据点称为桩点，绘制曲线时桩点控制曲线的位置。曲线规绘出
的曲线近似于分段的三次多项式曲线，该曲线为连续而有一阶和二阶连续导
数。
样条函数是灵活曲线规的数学等式，也是分段函数，一次拟合只有少数
数据点配准，同时保证曲线段的连接处为平滑连续曲线。这就意味着样条函
数可以修改曲线中的某一段而不必重新计算整条曲线，趋势面和傅里叶级数
都作不到这一点（图4—7）。
图中（a）表示1 个点移动后，二次样条必须重新计算4 个点；（b）表
示线性样条只需重新计算2 个点。
分段多项式p（x）的定义为：
P（x）=Pi （x）xi ＜x＜xi +1（i =1，2，⋯，k－1）（4—13）
p
x
= P
x
i
i
i+1
(j)
i
(j) （
）
（
）
（j =0，1，⋯，r－1；i =1，2，⋯，k- 1）（4- 14）
x1，⋯xk- 1将区间x0，xk 分成k 个子区间，这些分割点称为“ 断点” ，
曲线上具有这些x 值的点又可称为“ 节” 。函数pi （x）小于等于m次多项
式。r 项用来表示样条函数约束条件。r=0 时，无约束；r=1 时，函数连续且
对它的导数无任何约束；r=m
- 1 时，区间x0，xk 可用一个多项式表示。所以
r=m时，约束条件最多。m
=1，2，3 时的样条分别称为线性、二次、三次样条
函数，其导数分别为0，1，2 阶导数。于是二次样条函数的每个节点处必须
有一阶连续导数；三次样条则应有二阶连续导数等。
r=m的简单样条只有k+m
自由度，r=m
=3 时，因为它是三次分段多项式函数，该函数首次被人们称为
样条函数。术语“ 三次样条” 用于三维情况，此时曲面代替了曲线进行内插。
由于离散子区间的范围较宽，可能是一条数字化的曲线，在这个范围内
计算简单样条会引起一定的数学问题。因此在实际应用中都用B样条——一
种特殊的样条函数，它是感兴趣区间以外均为零的其它样条的和。因此B样
条可按简单方法用低次多项式进行局部拟合。
数字化的线划在显示之前常用样条进行平滑。例如土壤、地质图上的各
种边界，传统的制图总希望绘出较平滑的曲线，因此常用B样条来处理复杂
形状边界问题。综上所述，样条既可用于精确的内插（通过所有的数据点）
也可用于平滑处理。样条函数是分段函数，每次只用少量数据点，故内插速
度快。样条函数与趋势面相反，它保留了微地物特征。线性和曲面样条函数
都在美学上得到令人满意的结果。但样条内插的误差不能直接估算，同时在
实践中要解决的问题是样条块的定义以及如何在三维空间中将这些“ 块” 拼
成复杂曲面而又不至于引入原始曲面中所没有的异常现象等问题。
2. 移动平均法：在未知点x 处内插变量z 值时，最常用的方法之一是在
局部邻域（或称窗口）中计算各数据点的平均值。在数据点沿某断面规则分
布的情况下，可用移动平均法的最简单形式即对窗口中心点x 的移动平均
值，其计算式为：
z(x) = 1
n
z(x )
(4 -15)
^
i
i=1
n
∑
二维移动平均值可用相同的公式（4－15）计算，但位置xi 应被坐标矢
量xi 代替。
窗口的大小对平滑的输出形式有决定性的影响。窗口增宽将增强长距离
变化的特征而减少短距离变化特征。
前已述及，观测点的相互位置越是接近，其相似性越强；点距越远，即
使落在同一个制图单元的轮廓线内，其相似性也不如接近的点。特定的采样
点对未知点的平均内插值的确定，要按采样点到内插点的距离函数加权计
算。加权移动平均值可按下式计算：
z(x ) =
z(x )d
(4 -16)
^
j
i
ij
-2
i=1
n
i=1
n
∑
∑
−
d ij
2
式中
是曲面上内插的点，通常这些点都处于规则格网上。
是距离的
x
d
j
ij
-2
平方倒数权。
加权平均内插的结果随使用的函数及其参数、数据采集点的定义域窗口
的大小不同而变化，见图4—8。
移动平均法计算值易受数据点聚群的影响，亦易为观测的二维趋势支配
与否所影响，有人提出用加权距离最小二乘法。函数域（窗口）不仅影响平
均值的估计，还关系到内插的时间。对窗口大小的要求是窗口内应包括数据
的极大极小值，使计算效率与精度达到要求。计算的点数n 可在4—12 之间，
通常为6—8 点。特别是原始数据为规则的栅格数据是常用6—8 点。另一方
面，人们在计算平均值时可能将数据点数固定一致，这样处理对规则的栅格
数据不会有问题，而对不规则分布的数据来说，得到固定数量的数据点就要
不断地改变窗口的大小、形状和方向。
3. 空间自协方差最佳内插法：局部加权移动平均内插法能在很多场合下
使用，并能取得良好效果，但仍有一些重要问题留待解决，例如①函数域
（窗
口）应多大？②窗口的形状和方向应如何确定才能达到最佳内插效果？③有
无比简单距离函数更好的方法来估计权的大小？④内插的误差有多大等。为
解决这些问题，地理数学家们把发展内插方法着重于权的选择，从而使内插
函数处于最佳状态，亦即对给定点上的变量值提供最好的无偏估计。
这种方法的依据是：由于任何地质、土壤、水文等区域特性变量过于杂
乱，不能用平滑数学函数进行模拟，但能用随机表面给予较适当的描述。该
方法的内插过程是：首先探查区域性变量的随机状况，然后模拟这些变量的
随机状况，最后用前两步产生的信息估计内插的权因子λ i 。
克里金法作为成功的最佳内插法，其依据是有效地假设变量的统计特
征，这种假设是区域变化理论的内容之一，也是克里金法的基础。
区域变化理论假设任何变量的空间变化都可以用下述三个主要成分的和
来表示：①与均值即趋势有关的结构成分；②与局部变化有关成分；③随机
噪声项即剩余误差项。令x 是一维、二维或三维空间中的某一位置，变量z
在x 处的值由下式计算：
z（x）=m
（x）+ε ′ （x）+ε ″ （4—17）
式中m
（x）是描述x 处z 的结构成分的确定性函数；ε ′ （x）是随机指示
项，表示局部变化；ε ″ 是剩余误差项，空间上具有零平均值、σ 2方差的独
立高斯噪声项（图4－9）。
克里金方法的第一步是确定适当的m
（x）函数，最简单的情况是m
（x）
等于采样区的平均值，距离矢量h 分离的两点x 和x+h 间的差分期望值应为
零：
E[ z（x）- z（x+h）] =0（4—18）
同时还假设差分的方差只与两位置之间的距离h 有关，于是：
E[ z（x）- z（x＋h）2] =E{[ ε ′ （x）- ε ′ （x+h）2] }=2r（h）
（4—19）
式中r（h）是一种函数，称为半方差函数。
差分的可变性和稳定性两个条件确定了区域变化理论的内在要求，这就
是说一旦结构影响确定以后，变量在变化范围内的剩余变化是同性变化，因
此位置之间的差异仅是位置间距离的函数。这样就可用下式估算采样数据的
半方差：
r(h) = 1
2n
[z(x ) - z(x + h)]
(4 - 20)
^
i
i
2
i=1
n
∑
式中n 是距离为h 的采样点的对数（n 对点），采样间
隔也叫延迟。对应于的（）的图形称为半可变图。计算半方差是确
h
h
r
h
^
定最佳内插权因子的重要步骤。
图4－10 表示典型半可变图。该图表示野外测量的表土层
（0—20cm
）
中
含粘土的百分比，所测数据是在6× 25 个正方形采样格网上观测的，格网长
轴方向为东南—西北向，小区域的格网像元为125m
× 125m
，150 个像元中的
136 个像元用钻孔法采样，其余14 个像元因野外障碍未采样而遗漏数据。该
地区在地貌上分成两类土地景观单元：排水良好的阶地和排水不良的洪积平
原。
以航空像片判读及1∶50000 比例尺的地面测量为基础的土地调查勾绘出
4 个制图单元。后来又进行了更详细的1∶25000 比例尺的地面测量，将该地
区分成6 个类别单元（图4－11）。该地区的排水河道沿东北—西南方向流
动。
数据的半可变图形展现出一种特殊模式：短距离
（h=125m
）的半方差小；
但采样间隔增大到4 到5 倍像元大小时（h=500m到625m
）半方差增大。此后
半方差保持常数水平，即使采样间隔增加到7—10 倍h，平均值下降不多。
图4—10 中的两条曲线从实验获取的数据点中通过时，两者已较好地匹
配一起。这两条曲线都是数学模型，为了描述半方差随距离h 而变化的情况，
该数学模型已与实验产生的半方差匹配。首先考虑用实线表示的曲线，它显
示出一些重要特性：①延迟（距离）h 的值较大的部分，曲线呈水平走向。
曲线的水平部分称为“ 梁” （si l l ），它说明在这些延迟范围内数据点没有
空间依赖性，因为所有的差分方差不随距离增减而变化。②曲线从r（h）的
低值处开始上升，直升到“ 梁” 的位置为止。达到“ 梁” 时的λ 值称为变程。
这是半可变图的最重要部分，因为它描述了距离什么值的范围内其内部差分
方差为空间非独立方差。变程范围通常用符号α 表示，位置越靠近就越相似。
加权移动平均内插法就是用变程范围来确定窗口的大小。很显然，数据点和
未知点之间的距离大于变程范围时，该数据点在内插未知点的值时将毫无用
处，因为它们离得太远。③图中的拟合模型没有通过原点，而是在r（h）的
正方向与y 轴相截。按（4—20）式h=0′ 时，r（h）必须是零。模型中出现
的正值是剩余误差ε ″ 的估计值，它是空间上无关噪声。ε ″ 称为“ 核” 方
差，它是观测误差的剩余变差与空间变差的组合体。
球面模型常被认为是土壤数据的实验性可变图的最佳描绘形式。其它的
模型还有指数模型、线性模型等。
球面模型为：
r（h）=c0+c1{3h/2α - （h/α ）3/2}    0＜h＜α
r（h）=c0+c1    h＞α （4- 21）
r（0）=0    h=0
式中α 是变程，h 是延迟，c0为核方差，而c0+c1为梁，在这例子中，球面拟
合模型的参数是α =4. 598，c0=2. 959，c0+c1=41. 744。这些参数是由加权最
小二乘法计算的。
指数模型为：
r（h）=c0+c1[ 1- exp（- h/α ）] （4－22）
图4－10 中指数模型的各参数为α =1. 942，c0=0. 023，c0+c1=42. 957。
线性模型为：
r（h）=c0+bh（4- 23）
式中b 为线的斜率。当半可变图不出现“ 梁” 的情况下使用线性模型。另外，
当变程的大小远远超过人们希望的内插范围时也用线性模型，统一克里金技
术也要用到线性模型。
前面的讨论都假设地表特征的变化在各个方向上都是相同的，然而许多
情况下空间变化中的ε ″ （x）都具有明显的方向性和空间上的依存关系，这
时就要用模型不同参数来描述半可变图。
拟合后的半可变图可以用于决定局部内插需要的权因子λ 1。决定λ 1 的
过程与加权移动平均法类似，但不是按任何一种方便的固定空间函数计算λ
1，而是按采样半可变图的地理空间统计分析原理计算。即
z(x ) =
(x )
4 -24
^
0
i
i=1
n
i
λ z
∑
（
）
其中∑λ
。权λ
的选取应使（
）无偏，且估计的方差σ
小于
i
i
0
e
=1
z
x
2
观测值的其它线性组合产生的方差。
下式成立时可获得z（x0）的极小方差：
λ j
i
j
i
r x
x
r x
x
i
m
·
，
，
，，⋯，
(
)
(
)
(
)
+
=
=
−
∑
Ψ
0
1
2
4
25
j=1
n
极小方差为：
σ
λ ·
Ψ
（－
）
e
j=1
n
j
0
=
j
r(x , x ) +
4
26
2 ∑
式中r（xi ，xj ）是z 在采样点xi 和xj 之间的半方差；r（xi ，x0）是样点xi
和未知点x0之间的半方差，这两个量都从已拟合的经验模型产生的半可变图
上获取。量Ψ 是计算最小方差需要的拉格朗日乘法算子。
如果克里金模型使用以上公式，那么它就是最精确的内插模型，内插值
或最佳局部均值与数据点上的值恰好一致。制图中常用规则格网内插未知点
的值，因为内插精度比其它格网形式好。内插值可用前面提到过的技术，转
换成等值线地图。与此类似，估算的误差σ
也可用于制图，误差制图的
e
2
结果能以数量信息反映整个研究区域内内插值的可靠度。
图4－12 为考虑各向异性的线性模型对图4—11 的土壤数据进行内插的
结果。图4－12a 是克里金点模型对37. 5× 37. 5m像元进行运算后获得的结
果。图4—12b 是克里金方差的制图结果。
显然，克里金模型可以按更好的办法解决内插中权的估算问题，而且能
够提供误差方面的信息。但内插值产生的地图不一定能满足需要，因为克里
金点模型或简单模型（4—25 式和4—26 式）的内插值都与原始样本的面积
和容量有关，而土壤采样时，样本经常只有几厘米宽。对该方差起决定作用
的土壤变化的大范围和短距离特点，使简单克里金模型产生的地图上，造成
了数据点上的凹凸现象。克服这一现象的办法是修改克里金方程，使其能估
算子块B内的z 均值，或者只对相对粗略的栅格数组进行内插时，这种方法
比较适用。
子块B内的z 均值为：
z（xB）=B× z（x）dx/面积B
z（xB）由式
z
x
=
z
x
4 - 27
B
i
i
i=1
n
^
（
）
λ
（
）
（
）
∑
来估算。其中
，与前述一样，最小方差变成：
λi = 1
i
n
=
∑
1
σ
λ
（
，
）
Ψ
（
，
）
（－
）
2
j
j
B
j=1
n
B
j
B
=
r
x
x
+
- r
x
x
4
28
2
∑
当
λ
Ψ
⋯，
（
）
j
i
j
j=1
n
B
i
B
r(x ,x ) +
= r(x ,x )
i = 1,2,
n
4 - 29
∑
成立时，可得σ
。
B
2
由克里金块模型获得的方差估计值，常小于它的点模型估计值，使用这
些块模型公式生成的平滑表面就不会发生点模型的凹凸现象。
图4－13 表示克里金块模型估算的方差结果，与前面的方法一样，使用
各向异性线性半可变模型进行内插，得到的平滑曲面反映出明显的长距离渐
变特征。
克里金内插模型是一种先进的内插技术，它强烈依赖于统计理论和大量
的计算工作，特别是用于制图的克里金内插结果效果更好。克里金模型是理
想的内插工具，它在计算过程中妥善选取表明空间相关联的形状和大小，使
点或面的局部估计值得以改善。另一个好处是，它能同时产生与内插值有关
的误差估计值，这是其它内插法不能做到的。
克里金模型的缺点是：从数据中清除不稳定性，使其达到与固有假设相
同的状态是极其困难的研究领域，G
I S 的新用户必然会向专家咨询，如何才
能达到必要的数据转换。用于矿业、土壤调查等的地理信息系统已开始把最
佳内插法综合起来使用。实际上，地矿勘探用的地理信息系统几乎全是地理
统计软件包。
§ 4. 数字地形模型
一、 DTM和DEM
二、 
数字地形模型（D
i gi t al  Terrai n M
odel ，简称D
TM
），是在空间数据库
中存储并管理的空间地形数据集合的统称。是带有空间位置特征和地形属性
特征的数字描述。它是建立不同层次的资源与环境信息系统不可缺少的组成
部分。在信息系统分析和评价空间信息并以此为依据进行规划和决策时，十
分注重地表属性的三维特征，诸如高度、坡度、坡向等重要的地貌要素，并
使这些要素成为地学分析和生产应用中的基础数据，它们可以广泛地应用在
多种领域，如农、林、牧、水利、交通、军事领域等，具体地说象公路、铁
路、输电线的选线、水利工程的选址、军事制高点的地形选择、土壤侵蚀、
土地类型的分析等；也可应用于测绘、制图、遥感等领域。由于D
TM如此重
要，D
TM的生成已成为G
I S 的研究课题之一。
D
TM中属性为高程的要素叫数字高程模型（D
i gi t al  El evat i on M
odel ，
简称D
EM
）。高程是地理空间的第三维坐标，在目前G
I S 中，数据结构只具
有二维的意义，数字高程模型的建立是一个必要的补充，D
EM是地表单元上
的高程集合，通常用矩阵表示。其最主要的一些用途是在国家数据库中存储
数字地形图的高程数据，以及上面提到的规划线路、坝址选择、不同地面的
比较统计分析、计算坡度、坡向图及为军事目的的地表景观设计与规划等显
示地形的三维图形，还可以表示：通过时间和费用、人口、直观风景标志、
污染状况、地下水水位等。广义的D
EM可包括等高线、三角网等，这里特指
由地表网格单元构成的高程矩阵。网格点对应的地面距离为地面分辨率，常
用采样点密度表示，它取决于实际地貌破碎程度和对数据的精确要求。D
EM
是建立D
TM的“ 基础数据” 或称为单要素图，在G
I S 中可以表示为一个层面
或基本图件，其它要素均可以从D
EM数据直接或间接导出，因此称为“ 派生
数据” ，一些派生数据如：平均高程、坡度、坡向等仍是系统数据库中存储
的一个层面或基本图件。这些层面都是位置配准的，将它们与其它属性的层
面叠置，可以完成多种资源与环境分析。
如果将D
EM的多层面储存于空间与属性数据库中，所占存储空间相当可
观，以黄土高原重点产沙区为例，为表述该地区地貌细部，若用网格点采样
读取高程，每平方公里至少400 点，也就是说网格点地面距离不应该大于
50m
。以这样一个标准，计算山西省柳林县（约1283km
2面积）D
EM存储量，
选取网格大小为50× 50m
，得到网格文件大小为1080× 836，即902880 网格
点，如果一个点需两个字节，共约需1. 8 兆字节的存储量，这只是D
EM的一
个层面。将高程数据派生出其它地形要素，假设生成另外四个层面，同原D
EM
一起，就需要约9 兆字节。若存储十个县的数据将需90 兆字节，可见占用的
磁盘空间太多。因此进入数据库的数据需要筛选，原则上只存储基础数据，
不存储派生数据。在需要的时候，可通过计算得到派生数据。对于D
TM
，只
输入和存储数字高程模型D
EM
，保证其精度符合要求，其它派生要素的精度
就可以得到保证。
二、DEM的表示方法
某地区地表高程的变化可用多种方法模拟。用数学定义的表面或点、线
影像都可用来表示D
EM
，如表4- 3 所示。
（一）数学分块法
数学方法拟合表面时需依靠连续的三维函数，连续的三维函数能以高平
滑度表示复杂表面。局部拟合法是将复杂表面分成正方形像元，或面积大致
相同的不规则形状小块，根据有限个离散点的高程，可得到拟合的D
EM
。尽
管在小块的边缘，坡度不一定都是连续变化的，还是应使用加权函数来保证
小块连接处的匹配，最近分段模拟已用于地下水、土壤特征或其它环境数据
的表面内插。分块法绘制的等高线图见图4- 14，其中可清晰地看出块间连接
时漏掉了一些数据。
（二）图形法
1. 线模式：表示地形的最普通线模式是一系列描述高程曲线的等高线。
由于现有的地图大多数都绘有等高线，这些地图便是数字地面模型的现成数
据源，用扫描仪在这些图上自动获取D
EM数据方面已做了许多工作。另外是
根据各局部等值线上的高程点，通过插值公式计算各点的高程，得到D
EM
。
表4- 3  地表的表示方法
DEM的表示方法→
数学方法
整体
傅时里叶级数
高次多项式
—局部—
规则“ 块”
不规则“ 块”
图像法
点数据
规则—
密度一致
密度不一致
不规则
三角形网
邻近网
典型特征—
山峰、洼坑
隘口、边界
线数据
水平线
垂直线
典型线—
山脊线
谷底线
海岸线
坡度变换线














































































































2. 点模式：
（1）人工网格法：将地形图蒙上格网，逐格读取中心或角点的高程值，
构成数字高程模型。由于计算机中矩阵的处理比较方便，特别是以网格为基
础的地理信息系统中高程矩阵已成为D
EM最通用的形式。英国和美国都用较
粗略的矩阵（美国用63. 5m像元格网）从全国1∶250000 地形图上产生了全
国的高程矩阵。以1∶5 万或1∶25000 比例尺地图和航片为基础的分辨率更
高的高程矩阵正在英、美和其它国家扩大其使用范围。虽然高程矩阵有利于
计算等高线、坡度、坡向、山地阴影、描绘流域轮廓等，但规则的网格系统
也有如下缺点，即：①地形简单的地区存在大量冗余数据；②如果不改变网
格大小，无法适用地形复杂程度不同的地区。
（2）立体像对分析：先进采样法（Progressi ve Sam
pl i ng）的实际应用
很大程度上解决了采样过程中产生的冗余数据问题。先进采样法就是通过遥
感立体像对，根据视差模型，自动选配左右影像的同名点，建立数字高程模
型。在产生D
EM数据时，
地形变化复杂的地区，
增加网格数量
（提高分辨率）
，
而在地形起伏不大的地区，则减少网格数量（降低分辨率）。
高程矩阵也和其它属性矩阵一样，可能因栅格过于粗糙而不能精确表示
地形的关键特征，例如，山峰、洼坑、隘口、山脊、山谷线等。这些特征表
示得不正确时会给地貌分析带来一些问题。
不规则的离散采样点可以按两种方法产生高程矩阵：①将规则格网覆盖
在这些数据点的分布图上，然后用内插技术产生高程矩阵。当然内插技术也
可用来从一个粗糙的高程矩阵产生更精确的高程矩阵。②把离散采样点做为
点模式中不规则三角网系统的基础。
（3）不规则三角网方法（TI N
）：对有限个离散点，每三个最邻近点联
结成三角形，每个三角形代表一个局部平面，再根据每个平面方程，可计算
各网格点高程，生成D
EM
。
不规则三角网是产生D
EM数据而设计的采样系统。该D
EM系统克服了高
程矩阵中冗余数据的问题，而且能更加有效地用于各类以D
EM为基础的计
算。
不规则三角网数字高程由连续的三角面组成，三角面的形状和大小取决
于不规则分布的观测点，或称节点的密度和位置（图4- 15）。不规则三角网
与高程矩阵不同之处是能随地形起伏变化的复杂性而改变采样点的密度和决
定采样点的位置。因而能够克服地形起伏变化不大的地区产生冗余数据的问
题，同时还能按地形特征点如山脊、山谷线、地形变化线和其它能按精度要
求进行数字化的重要地形特征，获得D
EM数据。
实际上TI N模型是在概念上类似于多边形网格的矢量拓扑结构，
只是TI N
模型没有必要去规定“ 岛屿” 和“ 洞” 的拓扑关系。TI N 把节点看成数据库
中的基本实体，拓扑关系的描述，则在数据库中建立指针系统来表示每个节
点到邻近节点的关系，节点和三角形的邻里关系列表是从每个节点的北方向
开始按顺时针方向分类排列的（图4- 16）。TI N模型区域以外的部分由“ 拓
扑反向” 的虚节点表示，虚节点说明该节点为TI N的边界节点，使边界节点
的处理更为简单。
图4- 16 表示的TI N网格数据中的一部分，
其中包括三个节点和两个三角
形，数据则由节点列表、指针列表和三角形列表三部分组成。区域中包括边
界节点，故设置虚指针，其数值为- 3200。由于节点列表和指针列表包含了各
种必要的信息和连接关系，因而能够满足多用途要求。对于坡度制图、山体
阴影或与三角形有关的其它属性的分析等，都必须直接以三角形为基础。用
三角形列表将每条有方向性的边与三角形联系起来就能完成上述分析。图
4- 16 中三角形T2与指针列表中的三条有方向性边有关，即节点1→2，2→3，
3→1。
TI N结构可以用来产生坡度图、晕渲图、等高线图、三维立体图（图4-
17）。虽然从图上仍能看出三角形的痕迹，但已满足一定精度要求，至少表
明了由TI N产生这些地图的可能性。另外还可以把属性数据与三角面连接起
来。连接方法是把专题属性数据的拓扑多边形与TI N网叠置，使每个三角面
都包含相应的属性编码值。
D
EM生成的上述方法中，人工网格方法的精底低、工作量大，不宜采用；
立体像对分析要求有立体像对影像和特殊的软件，且运算时间较长，技术条
件特殊；三角网法在有足够离散点的情况下效果较好；曲面拟合可反映总的
地势，但局部误差较大；等值线插值是用的比较普遍的方法，输入等值线后，
可在矢量格式的等值数据基础上进行，插值效果较好。
三、DEM的应用
不论D
EM是高程矩阵、数组、规则的点数据，还是三角网数据等形式，
都可以从中获得多种派生产品。
（一）三维方块图、剖面图及地层图
三维方块图是最为人们熟悉的数字地面模型的形式之一。它是以数值的
形式表示地表数量变化（不只是高程）的富有吸引力的直观方法。现在已有
许多可供三维方块图计算用的标准程序，这些程序用线条描绘或阴影栅格显
示法表示规则或不规则X、Y、Z 数据组的立体图形。
三维方块图在显示多种土地景观信息中非常有用，它是土地景观设计和
森林覆盖模拟的基础。图4- 18 为表示土地景观细节的立体模拟图。它是土地
景观中修建油、气开采、存储建筑物的模拟立体透视图。
（二）视线图
确定土地景观中点与点之间相互通视的能力对军事活动、微波通讯网的
规划及娱乐场所和旅游点的研究和规划都是十分重要的。按照传统的等高线
图来确定通视情况较为困难，因为在分析过程中必须提取大量的剖面数据并
加以比较。
数字高程模型（无论是高程矩阵或不规则三角网）的建立为这类分析提
供了极为方便的基础，
能方便地算出一个观察点所能看到的各个部分。
在D
EM
中辨认出观察点所在的位置，从这个位置引出所有的射线，比较射线通过的
每个点（高程矩阵中即为像元）的高程，将不被物体隐藏的各点进行特殊编
码，从而得到一幅简单的地图。
由于D
EM通常是从航空立体像片对上直接获取的，高程数据中可能没有
包括地面物体的高度（如森林、建筑物等）特征。因此得到的结果需进行仔
细的检查，
判读才能最后确定通视情况。
有些分析要求把物体的高度加入D
EM
数据，以便计算它们对通视情况的影响。图4- 19 是如何计算通视范围的示意
图。计算图中所示建筑物A的顶层能看到的地面范围。设不能通视部分的长
度为S，则
S
V h
t
o
t
H
T
h
t
W
=
+
−
+
+
−
+
−
[(
)
(
)]
(
)
(
)
(
)
4
30
式中V 为可视范围；H为建筑物高度；T 为建筑物的地面高程；h 是中间障碍
物的高度；t 是中间障碍物所在的地面高程；o 和t w分别为观察者的身高和
所在处的地面高程。
（三）等高线图
从高程矩阵中很容易得到等高线图。方法是把高程矩阵中各像元的高程
分成适当的高程类别。这类等高线图与传统地形图的等高线不同，它是高程
区间或者可以看作某种精度的高度带，而不是单一的线。实际上，两高程类
别之间的分界线可视为等高线。这样的等高线对简单的环境制图来说已满足
要求，但从制图观点来看还过于粗糙，必须用特殊算法将同高度的点连成线。
连接等高线时如果原高程数据点不规则或间隔过大，必须同时使用内插技
术，直至达到所需精度。等高线连接的结果用绘图仪输出。
从不规则三角网（TI N
）D
EM数据中产生等高线是用水平面与TI N相交的
方法实现的。TI N 中的山脊、山谷线等数据主要用来引导等高线起始点。形
成等高线后还要进行处理，以便消除三角形边界上人为形成的线划。
（四）坡度图与坡向图
在使用数字高程模型之前，地貌的描述和比较是用变化范围较大的定性
或半定量分析技术，而没有采用定量技术。原因是无论野外测量还是航测都
要耗费大量的时间，定量分析难以实现。G
I S 技术的发展使高程数据以数字
形式产生高程矩阵或TI N系统后能用多种标准程序，进行坡度和其它地面特
征的制图工作。
坡度定义为水平面与局部地表之间的正切值。它包含两个成分：斜度—
—高度变化的最大比率（常称为坡度）；坡向——变化比率最大值的方向。
这两个因素基本上能满足环境科学分析的要求。但地貌分析中需要用到二阶
差分凹率和凸率。较通用的度量方法是：斜度用百分比测量；坡向按从北方
起算的角度测量：凸度按单位距离内斜度的度数测量。
斜度和坡向的计算通常是在3× 3 像元的窗口内进行，
窗口在D
EM数据矩
阵中连续移动后完成整幅图的计算工作。斜度计算如下：
t anG
=[ ( σz/σx) 2+( σz/σy) 2] 1/ 2（4—31）
坡向计算如下：
t anA=( - σz/σy) ( σz/σx) ( - π＜A＜π) （4—32）
为了提高运算速度和精度，一些G
I S 用户对有限二阶差分法计算斜度和
坡向很感兴趣。最简单的有限二阶差分法是按下式计算点i ，
j 在x 方向上的
斜度：
（σz/σy）i j =( zi +1, j - zi - 1, j ) /2σx（4—33）
式中σ
是像元中心间的距离（沿对角线方向计算时σ
应乘以
）。这种
z
z
2
方法可以计算八个方向的斜度，运算速度也快得多。但地面高程的局部误差
将引起严重的坡度误差，计算精度较低。数字分析法能得到更好的结果。用
数字分析法计算东西方向的坡度时如下式：
( σz/σx) i j =[ ( zi +1, j +1+2zi +1, j +zi +1, j - 1) - ( zi - 1, j +1+2zi - 1, j +zi - 1, j - 1) ] /8σx（4—
34）
按同样的原理可以写出南北方向或其它方向的计算式。
坡度的表示可以是数字，把上述方法计算的结果仍以像元的形式存储或
打印。但人们还不太习惯读这类数据，必须以图的形式显示出来。为此应对
坡度计算值进行分类，并建立查找表使类别与显示该类别的颜色或灰度对
应。输出时将各像元的坡度值与查找表比较，相应类别的对应颜色或灰度级
被送到输出设备，产生坡度分布图。
坡向也用类别表示，因为任意斜坡的倾斜方向可取方位角0～360° 中的
任意方向。坡向一般分为9 类，其中包括东、南、西、北、东北、西北、东
南、西南8 个罗盘方向的8 类，另一类用于平地。虽然人们都想用统一的分
类定义，但坡向经常随地区的不同而变化，用统一分类定义后不利于强调地
区特征。于是最有价值的坡度和坡向图应按出现的频率分布的均值和方差加
以调整。按均值和方差划分类别时，一般都这样定义类别：均值为一类，均
值加或减0. 6 倍方差为另两类，均值加、减1. 2 倍方差再得两类，其它为一
类共6 类。这种分类法往往能得到相当满意的结果。坡度、坡向还可以用箭
头的长度和方向表示，并能在矢量绘图仪上绘出精美的地图。
（五）地貌晕渲图及其与专题地图叠置
为了增加丘陵和山地地区描述高差起伏的视觉效果，制图工作者成功地
运用了一种“ 阴影立体法” 即地貌晕渲法。用这种技术绘制的图件看起来很
动人，但费用太高，晕渲的质量和精度很大程度上取决于制图工作者的主观
意识和技巧。
数字地形图投入生产并加以应用后，地貌晕渲便能自动、精确地实现。
自动晕渲的原理是基于“ 地面在人们眼里是什么样子，用何种理想的材料来
制作，以什么方向为光源照明方向” 等的考虑。制图输出时如果用灰度级和
连续色调技术表示明暗程度，得到的成果看起来与航片十分相似。实际上，
从高程矩阵中自动生成的地貌晕渲图与航片有许多不同之处，主要表现在：
①晕渲图不包括任何地面覆盖信息，仅仅是数字化的地表起伏显示；②光源
一般确定为西北45° 方向，航片的阴影主要随太阳高度角变化；③晕渲图通
常都经过了平滑和综合处理，因而没有航片上显示出的丰富的地形细节。
自动地貌晕渲图的计算非常简单，首先是根据D
EM 数据计算坡度和坡
向。然后将坡向数据与光源方向比较，面向光源的斜坡得到浅色调灰度值，
反方向的得到深色调灰度值，两者之间得到中间灰值。灰值的大小则按坡度
进一步确定。
计算晕渲图的主要研究集中于坡面反射率的定量描述，由于计算反射率
的公式都较复杂，因此，将坡度和坡向转换成反射量常用建立查找表的方法
来解决，使计算和处理更为有效。
晕渲图本身在描述地表三维状况中已经很有价值，而且在地形定量分析
中的应用不断扩大。如果把其它专题信息与晕渲图叠置组合在一起，将大幅
度提高地图的实用价值。例如，运输线路规划图与晕渲图叠加后大大增强了
直观感等，这是传统方法不能实现的关于完成专题地图与晕渲图叠置的软件
包，目前在一些G
I S 中已经实现。
（六）从DEM数据自动形成地形轮廓线
高程矩阵没有存储山脊线、山谷线等地形特征线，或者在地形图数字化
时，对地形特征没有单独数字化，在这种情况下，用程序自动地将它们从高
程矩阵中提取出来也许是必要的。例如，从叠置到D
EM的卫星图像上勾绘出
集水范围线，使遥感图像与特殊地理景观联系在一起。高程矩阵用于其它数
量分析，如费用量、集中范围、旅行时间等时，应有一种方法来描绘线、面
特征。
1. 山脊线和谷底线：为了自动探测山脊线和谷底线，设计了专门的运算
算子。较为简单的算子是4 个像元的局部算子。该算子在高程矩阵中移动并
比较每一位置处4 个像元的高程值，同时标出其中高程最大（探测谷底线）
或最小（探测山脊线）的像元。标记过程完成后，剩下未标记的像元就是需
要的山脊线或山谷线所在的像元。下一步就是把它们连接成线模式，形成山
脊线或山谷线。
2. 集水范围的确定：集水范围即流域范围的确定对流域分析十分必要。
流域控测除确定边界以外，还要将整个范围从整个数据库中分离出来。探测
方法是：首先需交互式地确定河流流域的出口，并做为搜索工作的起点。以
3× 3 算子的中心像元置于起始点上比较中心像元相邻近的8 个像元的坡向。
如果坡向朝向中心像元，则认为它是中心像元上游，算子的中心像元移至新
的“ 上游” 点，重复比较过程，又能得到新的“ 上游” 点，已有“ 上游” 标
志的不予比较，整个数据范围都运算完成后，流域范围就全部标记出来了。
用户可以对这些像元重新编码，形成某一流域的分布图。
D
EM数据还有其它用途，如线路勘察设计、土石方量估计等都是比较有
效且经济效益高的方法。
§ 5. 地学专家系统
地学专家系统是研究模拟有关专家的推理思维过程，将有关领域专家的
知识和经验，以知识库的形式存入计算机。系统可以根据这些知识对输入的
原始事实进行复杂的推理，并做出判断和决策，从而起到专门领域专家的作
用。具有这种功能的系统就称为专家系统（Expert  Syst em
）。将专家系统技
术应用于地理信息系统领域具有重要的意义。因为地理信息系统常常要解决
多层次、多因素、时变型和具有非线性变化的地学问题，解决这类问题是一
项具有创造性的过程。这里，专家经验和知识起着重要的作用。另外，使用
G
I S 的新用户以及某一特殊科学领域的非G
I S 专家，都不可能准确地知道如
何按G
I S 要求阐述它们的需要，能做这种工作的专家还不多，因此也有必要
把专家们的知识综合起来，存入计算机系统中，将有关学科的专家知识和经
验以及所需的各种信息存储起来，形成一个系统，供其它G
I S 用户使用。目
前，专家系统正广泛应用于地学分析、地质勘探、疾病诊断和军事领域。
图4- 20 表示专家系统的组织概况。它的主要原理是：对某个领域有透彻
了解和丰富知识的专家们，将他们的知识以某种方式输入计算机——知识获
取阶段。获取的知识被转换成一系列规则，存储在知识库中，用这些规则去
识别或描述知识库中的实体。同时，用户对知识库进行访问，达到咨询和调
用的目的。最初，知识以形态逻辑语句的形式编码。后来，当人们面对各种
需要解决的问题时，采用了“ 模拟” 等更为复杂的方法。现代人工智能的发
展趋向于能获取更多人类思维过程的系统公式化的研究。
用户想从知识库中取出信息时，通过一种称为“ 推理模块” 的程序输入
他的问题，这一模块的任务是把用户的要求转换成公式化的询问模型，并用
这些模型从知识库中获取知识并进行处理。推理模块程序也包括解释功能，
即告诉用户它为什么要搜索特定类型的实体。
下面以南京大学计算机科学系研制的找水专家系统（N
CG
W
）为例，进一
步说明专家系统的结构和机理。该系统是根据肖楠森教授的“ 新构造挖水理
论与找水方法” 的系统知识而研制的。该系统由知识库、推理机构、解释系
统、动态数据库、人机接口和知识获取等六个主要模块组成，其模块间的关
系如图4- 21 所示。
系统运行时，根据用户输入的该地区水文地质条件和可信度值，推理机
构利用输入的数据和知识库中的知识，推断出该地区是否有可开采的地下
水。例如，如果该地区为丘陵岗地，同时又为新构造断裂带，系统便进行新
构造断裂带富水性的测试，同时推导出井深、井位和打井方法等结论。
知识库存储着特定领域内的大量事实和规律，是专家实践经验全面和真
实的体现。知识库中知识的表示与组织是系统的基础。N
CG
W系统中采用产生
式规则知识表达方式。每个产生方式包含一个“ 情况—行为对” ，在推理系
统中，情况就是前提，行为就是结论，因此知识的单位是：
I F〈前题条件〉TH
EN
〈结论〉
N
CG
W系统的知识库中存在400 条产生式规则，根据实际应用的需要，可
随时添加或修改知识库中的规则。
知识表示是专家系统赖以生成的基础，而推理控制策略则是系统的灵
魂。
N
CG
W系统采用反向推理策略，
通过搜索一组规则证明事实是否成立。
N
CG
W
系统的知识获取通过机器与专家的对话来实现，系统以菜单方式主动向专家
询问，以获取知识，包括建立、添加、删除或修改规则。例如，若要添加一
条规则，可用中西文直接键入这条规则的内容，系统自动将这条规则转化为
内部形式存入知识库，同时将对应规则名排入推理控制流中，并自动匹配生
成对应菜单。
在国际上，地学专家系统目前集中于土地评价专家系统的研究，但权威
的土壤和水文专家不多，他们只是在某些地区的土壤和水文方面有丰富的经
验。由于不同地区应考虑的土地组合因素有差别，按具有局部地区丰富经验
的专家知识建立的国际土壤和土地分类专家系统，其效果比预期的要差。第
二代专家系统能将从一个国家学到的知识和分类方法用于另一个国家。这是
因为真正的专家面临新问题时，会使他的知识适应新的情况。
第五章  地理信息系统产品输出
§ 1. 地理信息系统产品类型
地理信息系统产品是指由系统处理、分析，可以直接供研究、规划和决
策人员使用的产品，其形式有地图、图像、统计图表以及各种格式的数字产
品等。地理信息系统产品是系统中数据的表现形式，反映了地理实体的空间
特征和属性特征。
地图是空间实体的符号化模型，
是地理信息系统产品的主要表现形式
（如
图5- 1），地图具有以下特征：
1. 采用特殊数学法则产生的可量测性：制作地图采用地图投影、比例尺
和定向将地球表面的实体投影到二维平面并制成各种分幅的地图。
2. 使用符号化模型产生的直观性：地图使用符号表示实体，符号的视觉
感受由符号的视觉变量决定，视觉变量包括形状、尺寸、色相、色值、色强
度、图案排列、图案方向、图案纹理等。地图符号根据其形式可分为点状符
号、线状符号、面状符号。地图的符号模型简化了地物图形，可以选择性地
表示地物并与地物的实际大小无关，能够表示视觉上相互重叠的多种要素和
不能直接看到的现象，还可反映实体的质量特征。
3. 采用制图综合产生的一览性：制图综合对实体质量特征进行分类分
级，对次要的实体或实体特征进行选取概括，使得反映的地理现象主次分明，
确切地表示出各要素间相互关系，更易于理解事物本质和规律。
根据地理实体的空间形态，常用的地图种类有点位符号图。线状符号图、
面状符号图、等值线图、三维立体图、晕渲图等。点位符号图在点状实体或
面状实体的中心以制图符号表示实体质量特征；线状符号图采用线状符号表
示线状实体的特征；面状符号图在面状区域内用填充模式表示区域的类别及
数量差异；等值线图将曲面上等值的点以线划连接起来表示曲面的形态；三
维立体图采用透视变换产生透视投影使读者对地物产生深度感并表示三维曲
面的起伏；晕渲图以地物对光线的反射产生的明暗使读者对三维表面产生起
伏感，从而达到表示立体形态的目的。
图像也是空间实体的一种模型，它不采用符号化的方法，而是采用人的
直观视觉变量（如灰度、颜色、模式）表示各空间位置实体的质量特征。它
一般将空间范围划分为规则的单元（如正方形），然后在根据几何规则确定
的图像平面的相应位置用直观视觉变量表示该单元的特征。
非空间信息可采用统计图表表示。统计图将实体的特征和实体间与空间
无关的相互关系采用图形表示，它将与空间无关的信息传递给使用者，使得
使用者对这些信息有全面、直观的了解。统计图常用的形式有柱状图、扇形
图、直方图、折线图和散点图等。统计表格将数据直接表示在表格中，使读
者可直接看到具体数据值。
随着数字图像处理系统、地理信息系统、制图系统以及各种分析模拟系
统和决策支持系统的广泛应用，数字产品成为广泛采用的一种产品形式，供
信息作进一步的分析和输出，使得多种系统的功能得到综合。数字产品的制
作是将系统内的数据转换成其它系统采用的数据形式。
地理信息系统产品的输出设备有打印机
（字符/图形）、绘图机、显示屏、
胶片记录仪等。根据图形设备输出形式可以将其划分为矢量制图设备和栅格
制图设备。矢量制图设备以点和线划作为其输出方式，栅格制图设备以制图
单元为输出方式。
根据制图指令的形式也可以将制图方法分为矢量制图和栅格制图。矢量
制图方式通常采用矢量数据作为输入，根据坐标数据和属性数据将其符号
化，然后通过制图指令驱动制图设备；也可以采用栅格数据作为输入，将制
图范围划分为单元，在每一单元中通过点、线构成颜色、模式表示，其驱动
设备的指令依然是点、线。矢量制图指令在矢量制图设备上可以直接实现，
也可以在栅格制图设备上通过插补将点、线指令转化为需要输出的点阵单
元，其质量取决于制图单元的大小。栅格制图方式采用栅格数据作为输入，
确定数据所在单元对应的制图单元并将它们以颜色、灰度表示。通过矢量栅
格数据的相互转换，系统中两种形式的数据都能以两种制图方式在两种制图
设备上进行输出，扩展了制图表示方法和设备的可选性。原始数据、输出方
法、产品形式和制图设备之间的关系如表5- 1 表示。
地理信息系统为了实现其产品输出的功能，都具有一系列产品输出软
件，软件包括图形
（图像、图表）
输出、外部转换、
符号设计三部分
（图5- 2）
。
由于在制图过程中系统与用户之间有很多信息交流，因此输出软件应有很好
的用户界面，如采用菜单、窗口、图符（i con）等技术。
表5- 1 地理信息系统原始数据、输出方法和产品形式间的关系
制图方法
原始
数据
点
线
面
曲面
属性
P
V
R
图形
形式
V
R
V
R
V
R
V
R
C
N
矢量点位
符号
图
√
线划
符号
图
√
√
√
区域
填充
图
√
等值
线图
√
√
透视
立体
图
√
√
栅格点位
符号
图
√
线划
符号
图
√
√
区域
填充
图
√
等值
线图
√
√
透视
立体
图
√
√
晕渲
图
√
√
√
√
统计统计
图
√
统计
表
√
注：制图方法：P——文本打印；V——矢量制图；R——栅格制图；数据；V——
矢量数据；R——栅格数据；C——文字；N
——数字；√表示可以实现。
输出子系统
制图功能
数据选择
图形选择
设备选择
控制选择
符号选择
输出
外部交换
形式选择
转换
符号编辑
点
线
面
模式
图
地理信息系统输出软件组成








































−
5
2
§ 2. 矢量形式绘图输出
一、矢量形式绘图特点
矢量形式绘图以点、线为基本指令。在矢量绘图设备中通过绘图笔在四
个方向（+X、+Y、- X、- Y）或八个方向（（+X，0）、
（+X，+Y）、
（0，+Y）、
（- X，+Y）、（- X，0）、（X，- Y）、（0，- Y）、（+X，- Y））上的移动形
成阶梯状折线组成。由于一般步距很小，所以线划质量较高。在栅格设备上
通过将直线经过的栅格点赋予相应的颜色来实现。矢量形式绘图表现方式灵
活、精度高、图形质量好、幅面大，其缺点是速度较慢、价格较高。矢量形
式绘图实现各种地图符号，采用这种方法形成的地图有点位符号图、线状符
号图、面状符号图、等值线图、透视立体图等。
在图形视觉变量的形式中，符号形状可以通过数学表达式、连接离散点、
信息块等方法形成；颜色采用笔的颜色表示；图案通过填充方法按设定的排
列、方向进行填充。
二、二维实体符号形成方法
二维实体是平面的，符号位置取决于实体位置，形状取决于实体的质量
或数量特征。根据实体形态可以将二维实体符号分为点位符号、线状符号和
面状符号。
1. 点位符号：点位符号包括简单符号、结构符号、扩展符号和统计符号
（图5- 3），根据制作方式又可分为象形符号和规则符号。象形符号采用连
接离散点或信息块的方法，规则图形符号通常可以通过折线和圆弧连接而
成，这些折线和圆弧可以用解析几何的数学规则计算出参数。
对于规则多边形可以采用下列一组基本表达式表示（图5- 4）：
设n 为多边形边数，r 为外接圆半径，x、y 为符号中心点坐标，s 为逆
时针第一点与x 轴的夹角，则
α =360° /n
β =( i - 1) α +s
xi =x+rcosβ
yi =y+rsi nβ
2. 线状符号：铁路、公路、界线、堤坝等线状地物都采用线状符号表示
（图5- 5），其特点是在两个点间除了趋势性的各种线划外中间还有其它一
些符号，这些线状符号可以通过连接线划中按规则排列的中间点和与线划相
距一定距离的点形成，这些点可以用一组数学表达式描述（图5- 6）。
设S 为两点间距离，
D为线划上点与起点的距离，
W为线划两侧点与线划
距离，则线状符号形状特征点分别为：
S
x
x
y
y
x
x
S
y
y
S
x
x
D
y
y
D
x
x
W
y
y
W
x
x
W
y
y
W
i
i
i
i
i
i
i
i
m
i
m
i
L
m
L
m
r
m
r
m
=
−
+
−
=
−
=
−
=
+
=
+
=
−
=
+
=
+
=
−
+
+
+
+
(
)
(
)
cos
(
) /
sin
(
) /
*cos
*sin
*sin
*cos
*sin
*cos
1
2
1
2
1
1
α
α
α
α
α
α
α
α
3. 面状符号：面状符号通过面域边界内以晕线或图案填充形成（图5-
7），其中图案的填充可以转化为多组晕线填充完成。
设制图区域边界坐标为xi ，yi ，晕线间距为D
，晕线与x 轴夹角α ，填
充步骤为：
（1）坐标旋转：对轮廓点作坐标旋转，使晕线与x 轴平行（图5- 8a），
新坐标为
xi =x0+xi cosα +yi si nα
yi =y0- yi si nα +yi cosα
x0, y0为新原点在旧坐标系中坐标。
（2）确定各条晕线与边界交点（图5- 8b）：对组成面域边界的每条线
段（xi ，yi ）和（xi +1，yi +1），其起始晕线和终止晕线号为
m
i ny=m
i n( yi , yi +1) di vD
+1
m
axy=m
ax( yi , yi +1) di vD
对每条晕线，将晕线方程和轮廓线段方程联立
y
D L
L
x
x
x
x
y
y
y
y
n
n
i
i
i
i
i
i
=
−
−
=
−
−



+
+
*
(
)(
)
(
)(
)
（
为晕线号）
1
1
解得交点坐标
y
D L
x
x
x
D L
y
y
y
x
n
i
i
n
i
i
i
=
=
−
−
−
+



+
+
*
(
)(
*
) / (
)
1
1
为了避免晕线通过节点时产生两个交点，可以将晕线上移或下移一个小
于坐标单位的量，如y=D
*Ln+0. 01，这样既避免了奇点问题，也不会影响精
度。
（3）晕线交点的整理（图5- 8c）：对每条晕线的一组交点按x 坐标从
小到大排序，排序后将交点经过旋转恢复到原坐标系中，即
xi =( xi - x0) cosα - ( yi - y0) si nα
yi =( xi - x0) si nα +( yi - y0) cosα
（4）交点的配对和晕线输出（图5- 8d）：对一条晕线，从左到右将交
点两两配对，将配对的两点连成线段并通过绘图指令驱动设备输出。
三、三维实体符号形成方法
三维实体有三维坐标，将三维实体表示到二维制图平面要经过投影转
换，在地图制图中主要采用透视转换。在透视立体图中采用一至两组平行剖
面线表示曲面（图5- 9）。透视转换根据主灭点（直线上无穷远点的透视）
的个数可分为一点透视、二点透视和三点透视（图5- 10）。下面介绍三点透
视的计算方法。
当视点在空间任意位置时，用一个坐标系描述透视投影过程比较麻烦，
因此引入另一个过渡坐标系——观察坐标系。观察坐标系原点为视点，z 轴
方向即视线方向，观察平面（视平面）与z 轴平行，z 轴与视平面的交点为
视心。此时透视投影的过程是先把用户坐标系下的点变换成观察坐标系的
点，再把观察坐标系下的点变换成屏幕坐标系中的点。只要已知用户坐标系
中物体各点的坐标、视点位置和视线方向，就可以在屏幕上产生该物体的透
视投影图。
采用齐次坐标，设用户坐标系中的点坐标为[ x，y，z，1] ，观察坐标系
中相应点坐标为[ xw，yw，zw，1] ，完成这种变换的关系用矩阵V 表示，则
[ xe, ye, ze, 1] =[ xw, yw, zw, 1] ·
如已知视点在用户坐标系中的位置（a，b，c），并规定x 在zw=c 平面
上，V 矩阵的推导如下：
1. 把用户坐标系作平移变换，以视点为原点构成新坐标系（图5- 11
（a）），变换式为
T
a
b
c
1
1
0
0
0
0
1
0
0
0
0
1
0
1
=
−
−
−












2. 令新坐标系绕x 轴逆时针旋转90° （图5- 11（b）），变换式为
T2
1
0
0
0
0
90
90
0
0
90
90
0
0
0
0
0
1
0
0
0
0
0
1
0
0
1
0
0
0
0
0
1
=
−














=
−












cos
sin
sin
cos
°
°
°
°
3. 将坐标系绕y 轴顺时针旋转θ 角（图5- 11（c）），使z′ 反向指向
z
180
v =
a
2
轴，因为θ ＞
° ，令
，则
+ b
2
cosθ =- b/v，si nθ =a/v，变换为
T
b v
a
v
a v
b v
3
0
0
0
1
0
0
0
0
0
0
0
1
0
0
0
1
0
0
0
0
0
0
0
1
= −












=
−
−
−












cos
sin
sin
cos
/
/
/
/
θ
θ
θ
θ
4. 令坐标系绕x 轴顺时针旋转ϕ角（图5- 11（d）），使z′ 反向指向
原点，令
，则
O
u =
a
b
c
2
2
2
+
+
cosϕ=v/u，si nϕ=c/u，变换式为
T
v u
c u
c u
v u
4
1
0
0
0
0
0
0
0
0
0
0
0
1
0
0
0
0
0
0
0
0
0
0
1
=
−












=
−












cos
sin
sin
cos
/
/
/
/
ϕ
ϕ
ϕ
ϕ
5. 经上述四步变换z′ 反向指向原点，因此对z′ 求反（图5- 11（e））
T5
1
0
0
0
0
1
0
0
0
1
1
0
0
0
0
1
=
−












经上述推导，用户坐标系中的点已变换为观察坐标系中的坐标，令
V=T1T2T3T4T5，则
V
b v
ac uv
a
u
a
v
bc uv
b u
v u
c u
=
−
−
−
−
−












/
/
/
/
/
/
/
/
0
0
0
0
0
0
0
1
为了在屏幕上产生透视投影图，要将观察坐标系中的坐标转换为屏幕坐
标，若设屏幕中心为屏幕坐标系的原点，观察坐标系的z 轴垂直穿过屏幕中
心（图5- 12），根据三角形的相似性，可得到观察坐标系中的坐标和屏幕坐
标的转换关系：
D
/ze=xs/xe，
D
/ze=ys/ye，
xs=D
*xe/ze，
ys=D
*ye/zc。
§ 3. 栅格形式绘图输出
一、栅格形式绘图特点
栅格形式绘图以设置像素颜色或灰度值为基本指令。由于栅格形式绘图
的输出不是立即驱动设备运行，而是先将指令的操作结果存入缓冲区，待所
有指令结束后一次性地将结果由设备按顺序输出，因此速度快，同时还有颜
色或灰度丰富的特点。由于设备的限制，一般幅面小、精度较低。栅格形式
输出实现的地图有点位符号图、线状符号图、面状符号图、分层设色等值线
图、晕渲图等，栅格形式输出还可以输出单色或彩色图像。由于栅格形式输
出指令的限制，它不能很好地采用符号表示实体，而适于表示呈连续变化的
实体形态。
栅格采用模板或栅格基本运算形成符号，用于直接表示某个实体或作为
填充图案。
二、图形符号形成方法
图形符号主要用于表示地图图形，它主要强调符号形状，而不要求有太
多的颜色或灰度。
1. 点状符号：点状符号一般采用模板表示，模板存储于符号库中，根据
实体特征提取需要的符号模板，将模板根据位置定位并在图像缓冲区作拷贝
即可（图5- 13）。
2. 线状符号：在栅格形式输出中较难用符号表示实体，因为作图指令很
难反映出沿线划变化的特征。在表示垂直于线划的变化时可以采用栅格数据
的基本运算来形成线状符号。
将轴线分别加粗，一次将轴线二边加粗到符号外部轮廓，另一次将轴线
二边加粗到符号内部轮廓，形成两个栅格图像，然后将这两个栅格图像进行
逻辑
“ 非” 运算，
就可以得到一条两边相互平行的双线符号，
如公路
（图5- 14）
等。
3. 面状符号：面状符号的形成首先是读取制图数据单元的数据值，然后
取出该单元值对应的填充符号（模板），将该单元位置对应的模板单元值拷
贝到图像缓冲区（图5- 15），这样就形成了面状符号。
三、图像符号的形成
由于栅格设备性能的限制，它能够实现的颜色、灰度有限，而栅格图像
输出要求有丰富的颜色或灰度，因此采用软件的方法形成图像符号——颜色
或灰度模板。
软件方法采用半调
（hal f t one）技术降低几何分辨率以提高灰度分辨率。
它采用若干个像素的不同花样表示一个像素的灰度等级，例如在只有二值的
点阵设备上用2× 2 像素表示一个像素的灰度（图5- 16）。这种方法实现的
灰度等级越多，所需的像素也越多，用多个设备像素表示一个数据像素时会
大大地降低了几何分辨率。采用颤动技术（di t her）可以改善视觉分辨率而
又能保证空间分辨率不降低，其做法是生成一个灰度阈值模板，当该数据像
素光强值大于模板中对应单元的阈值时，该点显示，否则不显示。
在颤动技术中多采用有序颤动方法，
首先定义一个2× 2 的灰度阈值模板
T2，然后按照递归的方法生成2n× 2n 的灰度阈值模板，其中U
n为单位矩阵。
T
T n
Tn
Tn
Un
Tn
Un
Tn
Un
n
Un
2
0
2
3
1
2
4
4
2
4
3
4
2
1
1
1
1
1
1
1
1
1
1 1
=
=
+
+
+
=
























≥，
. ..
..
.
.
.
.
.
. .
§ 4. 统计图表输出
对于非空间数据特别是属性数据，统计图是将这些信息很好地传递给用
户的方法，采用统计图表示的这些信息能被用户直观地观察和理解。统计图
的主要类型有柱状图、扇形图、直方图、折线图和散点图等（图5- 17）。
柱状图采用水平或垂直长方形表示不同种类间某一属性的差异，每个长
方形表示一个种类，其长度表示这个种类的属性数值。扇形图将圆划分为若
干个扇形，表示各种成分在总体中的比重，各种成分的比重可以用扇形的面
积或者弧长来表示，当有很多种成分或成分比重差异悬殊时表示的效果不
好。散点图以两个属性作为坐标系的轴，将与这两种属性相关的现象标在图
上，表示出两种属性间的相互关系，在此基础上可以分析这两种属性是否相
关和相关关系的种类。折线图反映某一属性随时间变化的过程，它以时间为
图形的一个坐标轴，以属性为另一坐标轴，将各个时间的属性值标到图上并
将这些点按时间顺序连接起来。折线图反映了发展的动态过程和趋势。直方
图表示单一属性在各种种类中的分布情况，读者可以确定属性在不同可能值
间的分布，如某种现象的分布是否是正态分布。
统计表格是详尽表示非空间数据的方法，它不直观，但可提供详细数据，
可对数据再处理。统计表格分为表头和表体两部分，除直接数据外有时还有
汇总、比重等派生项。
第六章  地理信息系统与遥感
§ 1. 遥感技术系统简介
遥感技术是本世纪60 年代蓬勃发展起来的一门新兴的综合性探测技
术，它是在航空摄影的基础上发展起来的。近几十年来，随着现代物理学、
空间技术、电子技术和计算机技术、信息科学、环境科学等的发展，遥感技
术已成为一种影像遥感和数字遥感相结合的先进、实用的综合性探测手段，
被广泛应用于农业、林业、地质、地理、海洋、水文、气象、环境监测、地
球资源勘探及军事侦察等各个领域。
一、遥感的概念与特点
遥感（Rem
ot esensi ng）就是遥远感知事物的意思，也就是不直接接触目
标物和现象，在距离地物几公里到几百公里、甚至上千公里的飞机、飞船、
卫星上，使用光学或电子光学仪器（称为遥感器）接受地面物体反射或发射
的电磁波信号，并以图像胶片或数据磁带形式记录下来，传送到地面，经过
信息处理、判读分析和野外实地验证，最终服务于资源勘探、环境动态监测
和有关部门的规划决策。通常把这一接收、传输、处理、分析判读和应用遥
感信息的全过程称为遥感技术。
遥感是从空中利用遥感器来探测地面物体性质的现代技术。它有许多特
点。
1. 探测范围大：航摄飞机的飞行高度可达10km左右，陆地卫星的轨道高
度达到910km左右。由于飞得高，观测的面积就广阔。例如每张陆地卫星图
像覆盖的地面范围达到3 万多平方千米，约相当于我国海南岛的面积。我国
只要600 多张左右的陆地卫星图像就可以全部覆盖。这就为人们展示了一种
宏观的景象，对于地球资源及环境要素的分析极其有利。
2. 获取资料的速度快、周期短：以往进行实地测绘地图，要几年、十几
年甚至几十年才能重复一次。应用航空摄影测量方法以后，也要数年才能重
复测量一次。而卫星绕地球运转，能迅速获得所经地区的各种自然现象的最
新资料。以陆地卫星4、5 为例，每16 天可以覆盖地球一遍。因此，利用遥
感技术以后，地图的更新可以大大缩短，一些地区自然现象的动态变化也能
很快地反映出来，并及时作出预报。
3. 受地面条件限制少：对于自然条件恶劣、地面工作难以开展的地区，
如高山、冰川、沙漠、沼泽等，或因国界限制不易到达的地区，用遥感，特
别是航天遥感方法，则比较容易获取资料。
4. 手段多，获取的信息量大：遥感技术可以根据不同的目的和任务，选
用不同的波段和不同的遥感仪器，取得所需的信息。现代的遥感技术不仅能
利用可见光波段探测物体，而且能利用人眼看不见的紫外线、红外线和微波
波段进行探测。不仅能探测地表的性质，而且可以探测到目标物的一定深度。
某些波段具有对云、雾、冰、植被、干沙土等的穿透性，可深化对被测目标
的认识。例如，可见光的蓝绿光波段，对水体有一定的穿透深度；用波长较
长的微波雷达探测冰层，可以穿透冰层而到达冰层下面的地面或水体。微波
波段还具有全天候工作的能力。遥感技术获取的信息量非常大，以四波段陆
地卫星多光谱扫描图像为例，像元点的分辨率为79× 57m
，每一波段含有
7600000 个像元，一幅标准图像包括四个波段，共有3200 万个像元点。
5. 用途广：遥感技术已广泛应用于农业、林业、地质、地理、海洋、水
文、气象、测绘、环境保护和军事侦察等许多领域，具有明显的社会、经济
和生态效益。
二、现代遥感技术的构成
遥感技术系统是实现遥感目的的方法、设备和技术的总称，它是一个多
维、多平台、多层次的立体化观测系统。其基本构成如图6- 1 所示。
1
从总体上看，任何一个遥感任务的实施，均由遥感数据获取、有用信息
抽取及遥感应用三个基本环节组成。而每个环节的进行，都要有相应的技术
手段与基础研究的支持。因此，遥感技术应包括任务实施、技术手段和基础
研究三部分。
遥感数据获取是在由遥感平台和遥感器构成的数据获取技术系统的支持
下实现的。由于各种平台和遥感器都有自己的适用范围和局限性（表6- 1 和
表6- 2），因此往往随着具体任务的性质和要求的不同而采用不同的组合方
式，以取得较好的应用效果。片面地强调某种平台或遥感器的重要性，甚至
把它们对立起来，显然是不适宜的。
表6- 1 各种遥感平台（据《遥感大辞典》）
遥感平台
工作高度
主要遥感器
应用目的
遥控无人飞机
50- 500m
照相机、电视摄像机
对地观测
直升机
100- 2000m
照相机、电视摄像机
定点定时对地观测
飞艇
500- 3000m
照相机、或其它较重的遥感仪器对地观测
小型飞机
500- 4000m
照相机、或扫描仪
对地观测
中型飞机
500- 8000m
照相机、或扫描仪等
对地观测
高空飞机
5000- 20000m
照相机、扫描仪、侧视雷达等
大面积对地观测
气球
20- 10000m
照相机、扫描仪、侧视雷达等
对地观测、气象探测
圆轨道卫星
200- 1000km
扫描仪、电视摄像机
定时对地观测
静止轨道卫星
36000km
长焦距相机、扫描仪
定点对地观测
航天飞机
200km
长焦距相机、光谱仪、
天文观测、
（各种倾角）
侧视雷达等
定时或定点对地观测
表6- 2 主要遥感器的特点〔据阎守邕〕
遥感器
工作波段
工作
有效工作
数据记
录
数据传
输
计算机
处
制图
方式
条件
介质
方式
理数据
精度
制图照相机
紫外、可见、近红外被动
晴空，白天
胶片
胶片回
收
难
高
电视摄像机
可见
被动
晴天，白天
磁带
信号发
送
易
低
红外扫描仪
红外
被动
晴空，毛毛
雨，昼夜均可
胶片或
磁带
胶片回
收或信
号发送
易
低
多波段
紫外、可见、
近红外、被动
晴空，白天
磁带
信号发
送
易
低
扫描仪
红外
成像雷达
微波
主动
各种天气及
昼夜均可
胶片或
磁带
胶片返
回或信
号发送
难
中等
从遥感数据中提取有用信息，可以通过人工目视判读、计算机数据处理
以及两者混合的方法实现。这两种方法及相应的技术系统各具优缺点，往往
也需要相互配合，取长补短，并随任务和要求的不同而异。
遥感应用主要包括对某种对象或过程的调查制图、动态监测、预测预报
及规划管理等不同的层次。它们可以由用户直接分析从遥感数据中提取出来
的有用信息来实现，也可以在地理信息系统的支持下实现。
实践证明：现代遥感技术在地球资源、环境及自然灾害调查、监测和评
价中的应用，具有许多其它技术不能取代的优势，如宏观、快速、准确、直
观、动态性和适应性等。但是，也应看到，这种技术如果不和其它相关技术
（如现代通讯、对地定位、常规调查、台站观测、地理信息系统及专业研究）
结合起来，其优势也很难充分发挥出来。
三、数字图像处理系统
1. 数字图像处理：数字图像处理是使用电子计算机对图像进行信息处理
的一门技术，20 世纪60 年代中期，随着电子计算机的发展而得到普遍应用。
由于它容易实现非线性处理，处理程序和处理参数可以变化，所以数字图像
处理是一项通用性强，精度高，处理方法灵活，信息保存、传输可靠的图像
处理技术。
遥感的信息量非常大，要及时地识别和处理它们，往往是人力难以胜任
的。数字图像处理技术的产生，使遥感信息的自动识别和有效管理成为可能。
遥感影像数字图像处理的内容主要有：①图像的恢复。即校正在成像、记录、
传输或回放过程中引入的数据误差、噪声与畸变等。具体包括辐射校正、几
何校正等。②数据的压缩。主要目的是改进传输、存储和处理数据的效率。
③影像的增强。用于突出数据的某些特征，以提高影像的目视质量。具体包
括彩色增强、反差增强、边缘增强、密度分割、比值运算、去模糊等。④信
息的提取。指从经过增强处理的影像中提取有用的遥感信息，包括采用各种
统计分析方法、集群分析、频谱分析等自动识别与分类。
2. 数字图像处理系统：数字图像处理系统就是进行数字图像处理及与其
有关的设备系统，它包括计算机硬件和软件系统两部分。硬件部分的组成为：
①计算机。按照程序控制，可执行范围广泛的数据处理任务。②图像阵列处
理机及显示设备。具有多种图像存贮、处理和显示功能，可大大提高图像处
理速度，方便用户对图像进行交互分析处理。③大容量存贮设备。④输入输
出设备等。软件部分由数据输入、图像变换、图像恢复和增强、图像分类、
统计分析以及编辑输出等方面的程序组成。
自60 年代以来，已诞生了多种遥感影像数据处理系统，可以完成遥感图
像的各种处理和信息提取。早期的图像处理系统有：美国一些公司生产的软、
硬件系统有G
EI M
AG
E100系统，
BEN
D
I XM
D
AS 系统，
I 2SSYSTEM
101系统，
ESLI D
I M
S
系统；软件系统有J PLVI CAR 系统和LARSYS 系统，KAN
D
I D
ATS 系统等。加拿
大发展的有ARI ES- I I 系统等。我国除引进国外生产的图像处理系统外，还自
行研制了处理系统或发展软件系统。如中国科学院空间中心的si ps- I 系统，
清华大学研制的TJ - 82 系统，
中国科学院遥感应用研究所发展的I RSA- 2 软件
系统等。
美国I 2S（I nt ernat i onal  I m
age Syst em
）公司研制的多用户数字图像
处理系统，适用于遥感和其它各种图像处理。I 2S 最先推出的图像处理系统
是S101（图6- 2），以后发展为S500 系列、S575 系列和S600 系列。系统可
用多种计算机作为主机，配置磁带机、磁盘驱动器、打印机、绘图设备、胶
片扫描记录仪等，
其核心部分是作为外部设备的图像处理专用计算机M
75
（早
期为M
70）。M
75（M
70）可以对大小为512 行× 512 列的图像进行快速处理，
并连接彩色图像监视器、数字化仪、摄像机等图像输入输出设备。在主机操
作系统下配置专用的交互式图像处理操作系统，对于遥感图像及其图像的输
入输出、几何校正、图像恢复、增强和分类、各种图像变换等常用处理方法，
都能提供有效的操作命令。便于从事图像处理的非计算机专门人员使用，系
统可以不断扩充新功能。
TJ - 82 图像计算机是清华大学研制的图像处理系统。采用流水线结构，
刷新存储器容量为512× 512× 8 位5 通道（其中一个为图形通道），可扩充
到9 通道。系统还带有摄像机输入图像方式。其中硬件功能和实用程序包括
十大类：图像输入输出及管理、图像显示及检查、辐射变换、统计、算术逻
辑运算、图像变换与滤波、几何变换、增强、分割、图形。此外还有许多重
要功能，如汉字、膨胀、收缩、逻辑运算、快速传送等。TJ - 82 图像计算机
的各种快速及实时功能既适合遥感领域的各种处理，也适合其它领域的各种
处理。
四、实用的资源卫星系统
遥感只是一种获取信息的手段。它是人们认识自然、改造自然过程中信
息传递的一个环节。现在，遥感应用越来越多地服务于生产，直接解决生产
上提出的问题，并已取得明显的社会效益。遥感应用从初始阶段的定性判读
分析越来越向定量动态分析发展，在这转变过程中，多种信息的复合研究和
综合利用又是当前遥感应用中的研究热点，尤其是目前应用最广泛的陆地资
源卫星应用中的研究热点。信息复合是指同一区域内遥感信息之间与非遥感
信息之间的匹配复合。它包括空间配准和内容复合两个方面，从而在统一地
理坐标系统之下，构成一组新的信息、一种新的合成图像。信息复合的目的
是突出有用的专题信息，消除或抑制无关的信息，以改善目标识别的图像环
境。通过多种遥感与非遥感的数据源，根据各种地学数字模式，并借助于地
理信息系统的支持，进行遥感地学综合分析。
目前我国资源卫星应用系统仍属薄弱环节，工程设计与用户需求之间，
在认识上存在严重差异。由于应用系统的不完善，信息流通不畅，对于国家
宏观决策所急需的全国水土资源、自然灾害的动态变化，还没有能力提供全
部数据和专题地图。为了及时地提供对地球资源与环境监测的信息源，资源
卫星应用系统应结合地理信息系统和专家系统，组成一个完善的资源卫星应
用技术系统（图6- 3）。完整的资源卫星应用技术系统将由5 个子系统组成：
信息接收、图像处理、应用分析模型、地理信息系统与计算机辅助专题制图。
它们形成具有一定生产能力的流水线，以保证卫星传输到地面接收站的卫星
遥感信息及时地转化为数据和地图的形式，满足用户的需求。在这条流水线
的运行过程中，分阶段地输入其它辅助数据，也分阶段地输出多级产品，以
适
应
不
同
层
次
的
用
户
需
求
。
§ 2. 遥感和地理信息系统的结合
地理信息系统、遥感和计算机辅助制图是现代地理学的重要技术手段，
近年来人们越来越强烈地感受到利用遥感数据的必要性，在地理信息系统中
应提供管理这种数据的潜力，也就是遥感和地理信息系统相结合、发挥各自
最大作用的问题。如果我们回顾一下它们各自的发展历史，就不难发现，早
在60 年代，随着遥感技术由航空阶段进入航天阶段，产生了由计算机进行图
像分析处理的图像分析系统时，地理信息系统和遥感就开始走上了相互结合
的道路。
一、地理信息系统和遥感结合的原因
从地理信息系统本身的角度出发，随着它应用领域的开拓和深入，它首
先要求存储大量的有关数据，通过不断的积累和延伸，从而具备反映自然历
史过程和人为影响的趋势的能力，揭示事物发展的内在规律。但是，地理信
息系统数据库几乎只是通过地图数字化建立起来的，用户不能接触到原始资
料及其有关信息，如：抽象级别和概念级别以及采用的数字化方法（扫描方
式或人工方式）及其可靠性等，而地理信息系统中的原始数据（包括遥感影
像数据）却是有效地模拟和控制误差传播的基础。其次，地理信息系统为了
保持系统的动态性和现势性，它还要求及时地更新系统中的数据。这是因为
一切事物都处在发展变化之中，例如河道的变迁、森林的砍伐以及建造道路、
房屋等都会引起变化，而地理信息系统中存贮的信息只是现实世界的一个静
态模型，需要定时、及时的更新。遥感作为一种获取和更新空间数据的强有
力手段，能及时地提供准确、综合和大范围内进行动态监测的各种资源与环
境数据，因此遥感信息就成为地理信息系统十分重要的信息源，尤其是大范
围的以统计为主的地理信息系统。以遥感信息作为系统的数据源，它处理信
息所需的时间就有可能压缩到自然灾害形成过程之内，从而赢得预测预报的
时间。
当前遥感的应用也正经历着一场质的转变。它正逐渐地从单一的遥感器
数据的分析应用向多波段、多时相的分析应用过渡，从静态分布研究向动态
过程预测过渡，从定性调查制图向定量统计分析过渡，从各种事物和过程的
外部描述向内在规律探求过渡。显然，实现这一变革的核心问题乃是大量遥
感数据的有效利用问题。其次，遥感技术为全球范围内的空间信息的获取开
辟了一条途径，探测器及图像技术的新发展不断地促进遥感应用能力的提
高，可以获取适当比例尺的数字空间信息，这些信息的管理是一个十分重要
的问题；此外，由于地表遥感的需要，还需使用各种遥感器来覆盖整个电磁
波谱范围，以及光谱分辨率的不断提高，这样需要管理的数据量就大大增加。
现有的遥感数据处理能力和精度已很难满足需要了，因而需寻求新的遥感数
据处理系统。大量遥感数据的管理和有效利用取决于是否有一个能利用地理
信息进行有效控制和处理的系统，这个系统能把数据转换成对决策有用的信
息，它应具备以下的功能：①降低数据的冗余度和不一致性；②能为专题应
用提供各种数据的综合（包括遥感数据）；③能简单而有效地进行数据更新；
④能够查询数据库，获取不能由原始数据得出的地理信息。不难看出，以空
间数据为操作对象的地理信息系统包含了以上这些功能，它能接受大量的不
同来源的空间数据，并能根据用户的不同需求对这些数据进行有效的存储、
检索、分析和显示，所以能为遥感数据的有效利用提供一个良好的环境。因
此，遥感和地理信息系统的结合，不仅有助于提高遥感数据自动分类的精度
以及空间定位和信息复合，加速遥感的进程，而且也使地理信息系统的应用
进入了一个新阶段。
遥感图像处理与分析的一个重要方面就是以遥感图像的空间、时间、光
谱等特征为标志的图像识别与分类。目前在遥感应用中广泛使用的图像处理
方法是以遥感数据的光谱特征为基础，以陆地卫星的多光谱数据为主要信息
源的，这种单一信息源的分析方法，除了能直接反映地物的波谱特征要素外，
分类的精度十分有限，与地学研究定量化的需要仍有一定的差距。一方面，
陆地卫星遥感器的空间分辨率和光谱分辨率还受到很大程度的限制；另一方
面，单独的光谱分类忽视了目标物的许多有用信息如地物的形状、大小、位
置等特征。此外，地面状况、地理环境的复杂性和不稳定性也给卫星影像的
正确识别带来了困难。为了提高遥感数据的分类精度和分类过程中的人工智
能水平，除了纯光谱分类算法自身的改进和在分类过程中逐步考虑地物影像
的纹理特征外，还必须依靠由地理信息系统提供的辅助数据（如地图等各种
图件、地面实测数据、统计资料等）来改善遥感数据的分类精度。结合辅助
数据的分类实质上是把地理信息系统提供的辅助数据与遥感数据复合，遥之
叠加到传感器的测量数据中去，用以提供分类数据的特征维数，消除干扰噪
声等，从而增加可供提取的信息量。
二、遥感和地理信息系统结合的方法
地理信息系统和遥感是两个相互独立发展起来的技术领域，随着它们应
用领域的不断开拓和自身的不断发展，即由定性到定量、由静态到动态、由
现状描述到预测预报的不断深入和提高，它们的结合也逐渐由低级向高级阶
段发展。遥感和地理信息系统的结合经历了由低级向高级阶段的发展过程。
最早的结合工作包括把航空遥感像片经目视判读和处理后编制成各种类型的
专题图，然后将它们数字化和输入地理信息系统。这种方法有许多不合理的
方面，首先目视判读、人工转绘繁琐、费时、训练要求高、随意性大、精度
差等；其次这种结合方法的技术流程的逻辑是不太合理的，遥感是高效的信
息采集手段，地理信息系统是借助计算机存储和输出专题信息的技术工具，
而将人工判读和转绘取得的专题地图作为综合系统输入的起点，这实际上降
低了综合系统所应有的作用。但这种方法仍然广泛地被使用，主要原因是对
于缺乏数字图像分析设备或者缺乏可靠的、自动的图像处理应用程序的用户
十分方便。从70 年代中后期开始，各种影像分析系统得到了迅速而广泛地发
展。大量的遥感数据以及图像分析系统图像分类所形成的各类专题信息，可
以直接输入地理信息系统，整个过程能在“ 全数字” 的环境下进行，图像数
据能够在生成编辑地图的屏幕上显示，标志着遥感和地理信息系统的结合进
入了新的阶段。
地理信息系统和图像处理系统都是使用计算机对空间信息进行操作处理
的技术系统，但实现两者的结合尚需解决几个难题，其中阻碍结合的主要问
题是数据的获取和存贮结构各不相同。卫星是以唯一的格网方式收集地面数
据，例如陆地卫星专题制图仪数据以30× 30m的格网分辨率对地面进行扫描
获取地表的瞬时信息。采用这种栅格格式，所有信息都是以像元集合的形式
来存贮的，每个像元代表某一空间坐标上的信息，像元间的位置关系隐含于
行、列值中，极易于实施如叠置等空间操作。图像处理系统能处理栅格结构
的数据，不足的是栅格数据的分辨率较低，很难用于绘制线划图。目前已研
制的许多地理信息系统中，多数是矢量型的，即用点、线、面表示各要素的
位置特征。矢量结构具有很高的位置精度，并能够与传统的制图方法相衔接，
而遥感数据的图像数据和制图数据是以两种不同的空间概念来描述客观世界
的。一般来说，制图数据是以地物的形式（如交通特征、地块）来填充“ 空
白的二维欧氏空间” ；而遥感是把空间划分为一系列的紧密连接的像元，例
如，这些像元可以表示地物在某一波长的反射值。若不进行进一步的处理，
就不能从图像数据中识别地物，还需要对这些信息进行判读。相反地，制图
数据存贮的是数据分类处理后又经过判读的结果。因此，地理信息系统与遥
感的真正结合，很大程度上取决于对这两种表示方法之间相互转化的理解和
概念化能力，也就是如何有效地实现遥感的栅格信息与地理信息系统的矢量
信息之间相互转化的接口。通常已基本解决的结合方法是把一种数据结构转
换成另一种数据结构，即实现矢量到栅格以及栅格到矢量的转换，从而像元
或分类能作为辅助数据输入到地理信息系统中；或者把地图特征转换到图像
分析系统中。但随之也引发了一些其它问题。首先，图像分析系统不具备数
据库管理的功能，在进行图像分析时，还需要采集和传输与空间数据紧密联
系的属性数据。其次就是图像与精度高的数字地图之间的几何配准问题。机
载遥感图像由于存在几何变形，特别是地形起伏比较大的地区，通常采用对
数据进行几何纠正以及和地理信息系统公用底图相匹配的方法来重新组织图
像数据，匹配过程是由重新取样的技术实现的。这种技术包括在底图上定义
新像元的位置和根据最邻近算法或内插法来插补数据，但实际应用中并不十
分理想，
一是配准中依靠数字地面模型
（D
EM
）
纠正高程位移的工作量非常大；
二是图像与地图间尚存在局部的不配准。
目前，地理信息系统和图像分析系统之间的接口仍然不是很完善，其中
缺少相互支持的交换标准也是阻碍这种结合的一个重要因素。地理信息系统
的类别与遥感能够检测的类别不相对应，例如，由于分辨率的原因，卫星图
像上被树木覆盖的小河就不能判读出来；反之图像分析系统容易判别的一些
类型可能与地理信息系统描述的类别不相对应。
在实际的操作中，地理信息系统和图像分析系统都是复杂的计算机系
统，综合系统对设备的要求将更高，对硬件要求高速、大容量并具备图像处
理能力。
遥感与地理信息系统相结合，既可以保证地理信息系统具有高效和稳定
的信息源，又可以对遥感信息进行实时处理、科学管理和综合分析，实现监
测、预测和决策的目的。它们结合的技术方法可以包括：
1. 遥感图像纠正：在地理信息系统支持下，根据坡向和遥感影像之间的
相互关系，采用数字相关技术自动选取控制点，进行遥感影像的几何纠正。
2. 建立数字高程模型：采用视差模型可由遥感立体像对直接生成数字高
程模型，免去了地形等高线数字化的繁重工作，同时也避免了地面高程插值
造成的误差。
3. 复合显示：遥感与地理信息系统叠加复合显示，可以帮助用户快速而
准确地选择训练样区或直接进行分类结果的屏幕编辑。
4. 专题信息提取：在地理信息系统支持下，由遥感影像自动提取专题信
息，更新地理信息系统数据库。
5. 遥感影像地理信息系统操作：调用地理信息系统图像操作功能处理遥
感影像，包括数字变换、统计量算等。
6. 遥感与地理信息系统集成技术系统：融遥感处理与地理信息系统功能
为一体的集成系统。
总的来说，地理信息系统和图像分析系统的结合有两种主要方式：
1）通过数据接口，使数据在彼此独立的地理信息系统和图像分析系统两
者之间交换传递（图6- 4）。这种结合是相互独立、平行的，它可以将图像
处理后的结果送入地理信息系统，同时也能将地理信息系统空间分析的结果
送入图像处理软件，从而实现信息共享。
2）地理信息系统和图像处理系统直接组成一个完整的综合系统
（集成系
统）。它可以分成两个层次：
（a）两个软件模块共用一个用户接口，可以实行栅格—矢量的串行或并
行处理
（图6- 5a）。它应具备将地理信息系统的矢量数据直接进行图像处理、
统一不同性质数据输入方式、误差分析和遥感数据进行时态变化模拟的能
力。
（b）将地理信息系统和遥感组成一个统一的综合体，实现两者的真正的
结合（图6- 5b），这是一个长期的目标。该系统具有在层结构中协调栅格和
矢量数据、允许进行综合的空间查询、进行同所谓的基于测量信息系统的结
合、产生现实世界中实体的综合模型以及根据该模型可以确定相应的空间表
示法等功能。
值得注意的是，地理信息系统和遥感系统的结合并不是一个完全单向的
操作，地理信息系统的信息也可以反馈到图像处理系统中，增强和完善图像
处理系统的功能。例如，利用地理信息系统的叠置功能进行遥感影像与地理
数据的信息复合，从而确定结构与目标（如道路、水资源和居民点等）之间
的相互关系，这样就大大地增强了作业人员的判读能力。
§ 3. 现状及发展趋势
目前，数字式的结合已发展了一些方法来提供地图和图像数据进行不同
级别的相互访问和调用。相应地有两条发展途径：一是将地理信息系统作为
遥感技术系统的子系统。这时，地理信息系统主要是提供一系列基本数据库，
用以补偿遥感瞬时数据的不足，并增强信息处理和分析的能力，提高遥感数
据的分类精度，最后反馈用于对地理信息系统数据库的更新。这个基本数据
库包括下列两类：
1. 图形数据库：
（1）地理基础要素
（2）数字地形模型
（3）地名库及汉字库
2. 统计数据库：
（1）地球物理场
（2）地面观测场
（3）自然环境要素
（4）社会经济数据
二是将地理信息系统本身作为独立的应用实体。这时，主要是通过利用
遥感技术的宏观、高分辨率、多波段、多时相和磁带记录等优势，使其成为
地理信息系统的重要信息源。为了通过遥感技术向地理信息系统提供可靠的
和动态的数据信息，地理信息系统必须配置下述图像处理功能：
1. 图像恢复：
（1）辐射纠正
（2）投影变换
（3）几何纠正
2. 图像增强：
（1）反差增强
（2）密度分割
（3）边缘增强
（4）数字滤波
（5）数字镶嵌
3. 信息提取：
（1）比值图像
（2）非监督分类
（3）监督分类
4. 图像统计：
（1）特征值计算
（2）直方图制作
（3）面积、长度和灰度量测
5. 图像管理：
（1）数据输入
（2）数据更新
（3）图像查询
主要的方法是在地理信息系统中再扩展一些图像处理的功能。例如，地
理信息系统除了已有的一套矢量分析软件外，还能提供图像的输入、增强、
显示等功能。这种类型的结合可能是最为理想、经济的方法，这是因为在地
理信息系统中进行复杂矢量操作以及和属性数据库相联结的方法已很成熟，
而且总体上在地理信息系统中处理栅格数据比在图像分析系统中扩展矢量编
辑和数据库的功能所受到的技术挑战要小一些。
为了开发遥感与地理信息系统结合的潜力，从事测绘和制图的组织团体
必需进行跨学科的研究，
并同用户协作以研制实用的综合性地理信息系统
（图
6- 6）。
80 年代开始了以知识为对象的信息处理，人们开始注意利用人工智能
（AI ）的方法，通过LI SP 语言或Prol og 语言及专家知识的规则，建立知识
库，发展专家系统。专家系统通常由知识库、推理机、用户接口所组成。专
家知识包括某个特定领域的知识、领域中已发现的问题以及解决其中一些问
题的能力三个部分。它被输入计算机后，就能长期保存和实现共享。专家系
统汇集了许多领域专家的知识、经验及他们相互合作解决问题的能力，其最
大的特点是利用计算机模拟某领域专家的思维过程，研究和解决不确定的、
经验性的问题，即专家思维的计算机化。专家系统在专门的领域内能达到专
家的水平，使许多复杂的问题可由计算机来处理。在地学研究中可用来指导
遥感数据的获取和处理、改善遥感数据的分类精度、进行图像分析和解决地
理信息系统和遥感结合中存在的问题等。图6- 7 显示了通过专家系统来实现
地理信息系统和图像分析系统结合的总的流程结构。目前，专家系统在知识
的表示和获取方面还存在很大困难，还有许多的基础工作要做，是一个有待
进一步开发的领域。
随着陆地卫星专题制图仪和SPO
T 等高分辨率遥感数据的广泛运用以及
神经网络计算机在遥感图像分类中的逐步应用，已有可能建立以遥感数据为
主要数据源的地理信息系统，实现地理信息系统和遥感的高层次结合，综合
分析和动态监测相结合，既有传统的方法，又能实现模型的构建，以致与专
家系统相结合，达到地理信息系统和遥感技术两者相辅相成的效果。
第七章  地理信息系统设计与评价
地理信息系统的开发研究分为四个阶段：系统分析、系统设计、系统实
施、系统评价及维护。系统分析阶段的需求功能分析、数据结构分析和数据
流分析是系统设计的依据。系统分析阶段的工作是要解决
“ 做什么” 的问题，
它的核心是对地理信息系统进行逻辑分析，解决需求功能的逻辑关系及数据
支持系统的结构，以及数据与需求功能之间的关系；系统设计阶段的核心工
作是要解决“ 怎么做” 的问题，研究系统由逻辑设计向物理设计的过渡，为
系统实施奠定基础。
地理信息系统设计要满足三个基本要求，即加强系统实用性、降低系统
开发和应用的成本、提高系统的生命周期。在系统实施和测试过程中，发现
软件开发领域内的错误大部分是由于系统设计不周而引起的。
系统设计可分为：地理信息系统设计方法、管理信息系统的设计方法和
软件工程的设计方法。所有这些设计都要根据设计原理并采用结构化分析方
法。其中最有用的理论是模块理论及其有关的特性，例如内聚性和连通性。
所谓结构化就是有组织、有计划和有规律的一种安排。结构比系统分析方法
就是利用一般系统工程分析法和有关结构概念，把它们应用于地理信息系统
的设计，采用自上而下划分模块，逐步求精的系统分析方法。这种结构化分
析和设计的基本思想包括如下要点：
1. 在研制地理信息系统的各个阶段都要贯穿系统的观点。首先从总体出
发，考虑全局的问题，在保证总体方案正确，接口问题解决的条件下，然后
按照自上而下，一层一层地完成系统的研制，这是结构化思想的核心。
2. 地理信息系统设计的基本原则是首先进行调查研究，掌握必要的数
据，否则就不可能进行系统分析。只有设计出合理的逻辑模型，才有可能很
好地进行物理设计。事实上地理信息系统的开发是一个连续有序、循环往复、
不断提高的过程，每一个循环就是一个生命周期，要严格划分工作阶段，保
证每个阶段任务很好地完成。
3. 用结构化的方法构筑地理信息系统的逻辑模型。在系统的逻辑设计中
包括分析信息流程，绘制数据流程图；根据数据的规范，编制数据字典；根
据概念结构的设计，确定数据文件的逻辑结构；选样系统执行的结构化语言，
以及采用控制结构作为地理信息系统的设计工具等。
4. 结构化分析和设计还包括系统结构上的变化和功能上的改变，以及面
向用户的观点等。
§ 1. 地理信息系统设计的步骤
地理信息系统的设计需要进行大量仔细的调查工作和准备工作，其中包
括了解和掌握有关部门已作了些什么，有什么文献可供参考等。了解这些情
况是为了评估现有系统的性能及这些系统是否适合应用部门要完成的任务
等。在获取大量可供使用的资料后，在明确系统目标的基础上，从系统观点
出发，
对地理事物进行分析和综合，
确立地理信息系统建立的过程
（图7- 1）
。
现将整个过程分成几个主要步骤加以说明。
一、可行性研究
可行性研究主要是进行大量的现状调查，在调查的基础上论证G
I S 的自
动化程度、涉及的技术范围、投资数量以及可能收到的效益等。经过论证后
确定系统的目的任务及G
I S 的起始点，从这个起始点出发，逐步向未来的目
标发展。重点不应只是目前的计算机化，还应着眼于将来如何发展。
这一阶段的工作主要包括：
1. 用户需求调查。是指调查本部门或其它有关部门对相应G
I S 系统的信
息需求情况。从上至下调查本部门各级机构在目前和将来发展业务上需要些
什么信息；从下自上调查他们完成本部门专业活动所需要的数据和所采用的
处理手段，以及为改善本部门工作进行了哪些实践活动等。还要收集他们对
本部门的业务活动实现现代化的设想与建议。
2. 系统目的和任务。一般来讲，地理信息系统应具有四个方面的任务：
①空间信息管理与制图；②空间指标量算；③空间分析与综合评价；④空间
过程模拟。
3. 数据源调查和评估。调查了解用户需求的信息后，有关专家和技术人
员应进一步掌握数据情况。分析研究什么样的数据能变换成所需要的信息，
这些数据中哪些已经收集齐全，哪些不全，然后对现有数据形式、精度、流
通程度等作进一步分析，并确定它们的可用性和所缺数据的收集方法等。
4. 评价地理信息系统的年处理工作量、数据库结构和大小、G
I S 的服务
范围、输出形式和质量等。
5. 系统的支持状况。部门管理者、工作人员对建立G
I S 的支持情况；人
力状况包括有多少人力可用于G
I S 系统，其中有多少人员需培训等；财力支
持情况包括组织部门所能给予的当前的投资额及将来维护G
I S 的逐年投资额
等。
根据上述调查结果确定G
I S 的可行性及G
I S 的结构形式和规模，估算建
立G
I S 所需投资和人员编制等。可行性分析就是根据社会、经济和技术条件，
确定系统开发的必要性和可能性，主要进行①效益分析；②经费估算；③进
度预测；④技术水平的支持能力；⑤有关部门的支持程度等。
二、系统设计
系统设计的任务是将系统分析阶段提出的逻辑模型转化为相应的物理模
型，其设计的内容随系统的目标、数据的性质和系统的不同而有很大的差异。
一般而言，首先应根据系统研制的目标，确定系统必须具备的空间操作功能，
称为功能设计；其次是数据分类和编码，完成空间数据的存储和管理，称为
数据设计；最后是系统的建模和产品的输出，称为应用设计。
系统设计是地理信息系统整个研制工作的核心。不但要完成逻辑模型所
规定的任务，而且要使所设计的系统达到优化。所谓优化，就是选择最优方
案，使地理信息系统具有运行效率高、控制性能好和可变性强等特点。要提
高系统的运行效率，一般要尽量避免中间文件的建立，减少文件扫描的遍数，
并尽量采用优化的数据处理算法。为增强系统的控制能力，要拟定对数字和
字符出错时的校验方法；在使用数据文件时，要设置口令，防止数据泄密和
被非法修改，保证只能通过特定的通道存取数据。为了提高系统的可变性，
最有效的方法是采用模块化的方法，即先将整个系统看成一个模块，然后按
功能逐步分解为若干个第一层模块、第二层模块等等。一个模块只执行一种
功能，一个功能只用一个模块来实现，这样设计出来的系统才能做到可变性
好和具有生命力。
功能设计又称为系统的总体设计，它们的主要任务是根据系统研制的目
标来规划系统的规模和确定系统的各个组成部分，并说明它们在整个系统中
的作用与相互关系，以及确定系统的硬件配置；规定系统采用的合适技术规
范，以保证系统总体目标的实现。因此系统设计包括①数据库设计；②硬件
配置与选购；③软件设计等。
三、建立系统的实施计划
系统设计完成后，把所估算的硬件和软件的总投资、人员培训投资及数
据采集投资等作为建立G
I S 的投资额，同时估计若干年后能收到的经济效
益，这是投入产出估算。如果估算的结果令人满意，则进行后继工作。
建立G
I S 的执行计划，包括硬件、软件的测试和购置、安装调试等，主
要工作是测试。测试工作一般按标准测试工作模式，进行较详细的测试。该
模式的主要特点是：硬件提供者要回答一系列问题，例如，要完成某某操作
或运算可能否？需要多少时间？有无某某功能等。提供者则用图件或数据证
实他的硬、软件能完成用户提出的操作任务，或者直接在计算机上演示。测
试工作可详可简，当用户已掌握某些必须满足的系统标准时，可以集中测试
作为评判标准的各指标能否达到要求，否则逐项测试工作过程的各个部分。
测试工作完成后，确定购置硬件的类型，经安装调试后，编制实验计划，
进行试验。
四、系统实验
结合用户要求完成的任务，选择小块实验区（或者用模拟数据）对系统
的各个部分、各种功能进行全面试验。实验阶段不仅进一步测试各部分的工
作性能，同时还要测试各部分之间数据传送性能、处理速度和精度，保证所
建立的系统正常工作，且各部分运行状况良好。如果发现不正常状况，则应
查清问题的原因，然后通知硬件或软件提供者进行适当处理。
§ 2. 用户需求分析
地理信息系统的用户需求分析，包括用户类型和用户要求、系统应用范
围、技术选择、财力和人力状况、设备和人员的费用等内容。
一、用户类型和用户需求
地理信息系统的用户有其特定的目的，对G
I S 有不同的要求，应用情况
也各异。按用户的专业可作如下分类：
1. 具有明确而固定任务的用户。这类用户希望用G
I S 来实现现有工作业
务的现代化，改善数据采集、分析、表示方法及过程，并用以对工作领域的
前景进行评估，以及对现有技术方法更新改造等。
2. 部分工作任务明确、固定，且有大量业务有待开拓与发展，因而需要
建立G
I S 来开拓他们的工作。这类用户的信息需求和对G
I S 的要求只能是部
分已知。
3. 工作任务完全不定。每项工作都可能不同，对信息的需求未知或可变。
第一类用户是一些典型的测量调查和制图部门。他们已投入大量资金来
开发工作软件，一旦开始就不会改变。这类用户对G
I S 软件公司有很大吸引
力，并形成了特殊的用户集团。他们所要解决的问题确定无疑，而且可以解
决。第二类用户主要是行政或生产管理部门，也包括进行系列专题调查的单
位，例如全国性的土壤调查、森林调查、水资源调查等单位，以及进行特殊
项目调查和研究工作的单位。这些单位或部门是G
I S 的潜在用户，因为他们
很想把空间数据组织在一起，形成统一的系统供各职能机构使用。其中一些
用户的基本要求是建立大型地理信息系统，该系统除供本部门使用外还能供
第一类用户使用。但数据标准问题、数据结构和精度等却很难解决，各部门
的侧重点不同，数据形式不同，业务处理流程不同，对系统功能的要求也各
异。另外，计算机公司通常不打算把大量资金投放到建立销售量较小的G
I S
上去，除非买方付给巨额经费去建立特殊的系统。再者，由计算机专业人员
独立完成的行业应用系统也往往是闭门完成，难以实用。可行的办法是应用
部门聘用自己的软件人员或与G
I S 开发者合作，对通用的G
I S 进行二次开发
与改造。第三类用户是最难满足的用户。这类用户包括大学中的研究室和研
究所等，他们想用地理信息系统作为科学研究工具，或者开发新的地理信息
系统技术。因此他们所需的G
I S 差别很大，有的希望有功能全面的G
I S 来从
事各种科研工作，有的则希望在功能一般的G
I S 基础上开发，发展成多功能
的地理信息系统。
二、应用范围
地理信息系统类型的选择，很大程度上取决于使用部门的工作性质、工
作领域及该领域内的应用范围和应用期限。只用于短期项目的系统，应具有
数据采集和输入、数据分析处理及信息输出迅速的特点和能力，但不要求包
括大型而复杂的数据库管理与维护方面的功能。用于长期项目的系统，一般
包括大型数据库，就目前的技术条件来讲未必能在任何时候对数据库的任何
部分进行访问，也许将来使用新的存储介质和存储方法后能解决这一问题。
在问题没有解决之前，只要求G
I S 能按一定的精度方便地处理整个调查区域
内的各类数据。全国性地理信息系统还需致力于陈旧数据的更新、严格控制
数据采集的格式和精度，以及数据处理标准化等。当长期使用项目的系统用
于特殊项目时，不应改变长期使用目标，而应在此基础上按特殊项目的要求
发展专用软件。应着重强调的是开发新的应用软件对任何一个G
I S 来说是必
不可少的。
全国性的地理信息系统有两种不同的情况，一种是国土面积不大的国家
在建立全国性系统时，可按区域性要求甚至按各行业部门的要求，建立国家
级系统，该系统处理全国的业务。另一种是国土面积较大的国家如我国，全
国性系统并不意味着整个国家只有一个地理信息系统，而是按基本相同的系
统组织和结构，及绝对一致的数据格式和精度，建立多个系统分片处理相同
的业务。全国性的地理信息系统还有一种解释，即以分级结构的形式建立包
罗万象的系统，从中央系统到各级地方系统，数据的详细程度不断增加，无
论中央系统还是地方系统都处理各种业务。
具有长期应用目标的地理信息系统，还会遇到硬件和软件更新的问题。
硬件设备包括计算机本身从新型号推出算起，大约能维持五年的优势，更先
进的硬件设备又将问世，原设备不仅在技术上显得落后，而且工作效率也开
始降低。计算机软件的发展更是快得惊人。虽然软件发展的明显趋势是改善
编程系统，并使计算机软件很容易地从一台计算机传送到其它机器上，但目
前计算机软件市场上的大多数软件包是针对某一特定机型和它的操作系统设
计的，或是根据特定的应用目的而设计的，使正在筹建G
I S 的用户，稍有不
慎就可能造成经济损失。每一地理信息系统都有本身的软件控制的数据结
构，如果软件改变，数据结构也不得不改变。对全国性资源清查来说，这个
问题引起的数据转换工作量是很大的，而这种转换又必不可少，没有人乐意
将好不容易收集起来的数据置之不用而去重新采集。
人们在设计地理信息系统时，必须严肃认真地考虑建立G
I S 的目的和它
的应用范围。
三、用户对技术的选择
前面已经阐述G
I S 的发展形成了两种数据结构模式：矢量模式和栅格模
式。采用矢量模式时，地理实体以点、线、面形式表示和存储。采用栅格模
式时，地理实体则以像元形式表示和存储。它们的输入、输出和分析处理方
式都各不相同。还有一种趋势是用数学函数来描述空间变化，其中数据形式
也涉及到矢量和栅格表示的问题。尽管矢量和栅格数据结构可以相互转换，
因此同一数据库中可以同时采用两种数据结构。看起来似乎没有必要考虑数
据结构的选择问题，然而我们必须注意到使用一种模式对特定任务的处理比
另一种模式更有效，
这是公认的事实。
因此用户在选择数据结构时应考虑G
I S
的应用目的及其相应的数据处理方式。一般的看法是栅格和矢量数据结构是
G
I S 的互补形式，可选其中一种作为主要形式，而另一种作为辅助形式。栅
格和矢量数据结构的优缺点已在第三章中作了比较，这里将它们的适用范围
再进行比较。G
I S 中栅格和矢量数据结构的应用范围：
1. 用矢量数据结构建立空间数据的表象结构，例如土壤区域、土地利用
单元等多边形数据；
2. 用矢量数据结构进行网络分析，例如电话网、交通运输网、城市管线
网分析等；
3. 用矢量数据结构和矢量显示设备进行高质量线划绘图；
4. 用栅格数据结构进行快速而费用低的地图叠置、数据组合和空间分
析；
5. 用栅格数据结构对地物表面进行仿造和模拟；
6. 用栅格和矢量数据结构的联合方法进行高质量绘图，使多边形边界用
矢量法绘制，而面积中的颜色用栅格法填绘；
7. 用矢量数据结构进行数字化，用栅格数据结构存储叠置层，特别是数
字化等高线建立D
EM等；
8. 用栅格—矢量和矢量—栅格算法，将数据转换成最适合于分析处理的
形式；
9. 显示系统存储和管理数据的数据结构系统是相互独立的，互相存在依
赖关系。
考虑到矢量与栅格数据结构的优缺点和应用范围，以及相互转换技术的
发展，在建立多目的的地理信息系统时，设法获得一些专门化的模块并连接
在一起组成能用于公共数据源的子系统，将会比建立一个包罗万象的系统要
好得多，也容易得多。专业模块一般都只能在某几项处理任务中工作良好，
而对其它类型的任务则效率很低。例如矢量模块的优势在于输入、管网分析
等，特别适于高质量的绘图。栅格模块则在叠加分析、内插和图像分析中占
有绝对优势。
四、财力和人力状况
财力支持是关系到G
I S 成败的主要决定性因素。按财力状况可以把用户
分为：①资金丰富，财力支持有充分保证，因此可以建立任何形式和规模的
地理信息系统；②资金有限，财力支持没有充分把握，须对设计中的G
I S 进
行仔细地论证；③资金相当有限，对G
I S 的财政支持将是某种程度的冒险。
类别①是豪华型用户，对任何一个国家来说，只有军事部门才享有这种
使用资金的至高无上的权利。大多数G
I S 用户认为自己属于②类用户，他们
争取到的资金刚好满足设计中的G
I S 的最低标准。由于商业性的G
I S 系统费
用很贵，许多用户特别是高等教育部门的用户不得不把自己排在③类用户
中。实际上也确实是这样，越是发达的国家越重视教育，而越不发达的国家
越没有资金来发展教育，国家要考虑它的优先发展项目，学校也要为最有效
地使用有限的经费而精打细算。其结果是从事G
I S 的工作者冒着某种风险在
进行他们的工作。在制定G
I S 的发展计划时，首先要尽可能准确地确定任务
要求，然后在预算范围内提出满足任务要求的可采用的硬件和软件，并提出
一个经过充分论证的可行性报告，这有利于开展G
I S 的研制和应用。
设计地理信息系统，还要分析用户的人力状况。任何先进的现代技术的
引进和开发应用，都必须拥有掌握该技术的人才。地理信息系统的建立和应
用是实现地理分析、环境分析、土地及城市规划与管理、合理利用资源的先
进、现代的技术手段。要使G
I S 有效地运行，必须有既懂得本行业专门知识
和技术，又懂得G
I S 知识和技术的熟练的工作人员。从事G
I S 工作的人员可
分成低级技术人员和高级技术人员两类。
低级技术人员指那些不必知道G
I S 的深奥原理技术，而只要求知道如何
使G
I S 保持工作的人员。他们日常任务是数据输入、结果输出、操作计算机、
打印和绘图前的检查工作等。
高级技术人员包括业务管理人员、业务联络员、技术人员和科学研究人
员等。业务管理员主要处理G
I S 的日常运行、系统与其它组织或部门之间的
对话和业务商谈等。联络员的任务是建立并维护与用户的联系，负责对外介
绍G
I S 的功能，使用户能放心地将需要完成的任务交给G
I S 拥有者处理。技
术人员指计算机程序编制、计算机制图、数据分析处理、系统开发和精通G
I S
技术的工作人员。科研人员包括以G
I S 进行科研和应用G
I S 的科学家和开发
G
I S 的计算机专家等。这些高级技术人员有可能发展一个新的G
I S 系统，也
可能对现有系统进行大规模开发。
一般情况下，地理信息系统组织应由各种技术人员混合组成，才能使建
立和应用G
I S 的工作正常开展并高效运行。
§ 3. 地理信息系统逻辑设计模型
地理信息系统数据管理和模型的实现，特别是逻辑模型的实现，依靠用
户对系统功能的正确调用来完成。因此必须使系统和使用者之间相互“ 理
解” 。事实上是系统设计者与使用者沟通，使用者要明确如何发出指令，使
系统完成特定的应用任务，系统需要能够解释使用者发出指令的意义以及完
成正确的操作。这就遇到两个问题：①使用者不可能完全了解系统的底层结
构和具体算法；②使用者的问题是灵活多变的，系统不可能“ 事先” 了解使
用者的所有问题以备提问。这就需要建立一套独立于系统物理结构和计算机
之上的逻辑规则，使用者基于这种逻辑规则组织自己的应用问题和分析模
型，系统则依据逻辑规则将用户的问题和模型分解成相应的基本操作步骤加
以完成，这套逻辑规则必须为系统设计者和使用者双方理解和采用。这些规
则可称为地理信息系统的逻辑设计模型。它们包括地理信息系统数据的基本
内涵、基本操作公理、地图集合定义，进而可将所有地图及地图之间的操作
表示为逻辑表达式，然后分解为基本操作予以完成。
一、数据模型
地理信息系统数据包括三方面的内容：①数据所处的位置，以及一定地
理坐标下的一组坐标表示；②数据之间的空间拓扑关系；③数据所代表的与
空间位置无关的地理意义，即通常所说的属性。如前所述，地理信息系统将
地理要素抽象为点、线、面（区域）实体，地理实体由属性标识。空间相邻
且具有同一类属性或属性集合的点、线和区域实体可以构成数据平面。
二、操作公理
基本的操作公理包括：①处于相同或不同的数据平面上的数据可依据其
空间关系和属性进行运算；②数据可依据其空间关系扩展到相邻区域；③地
理信息系统数据之间的逻辑运算基于布尔代数；④数据可以通过计数、量算、
逻辑运算等操作重新标识，重新标识的数据可与原始数据同样参加进一步的
运算。
布尔逻辑运算用于数据恢复（按一定条件进行的数据检索）的主要作用
是：按属性数据的组合条件来检索其它属性项目或图形数据，实际上就是一
个逻辑选择过程。布尔逻辑用AN
D
、O
R、XO
R、N
O
T 等运算去检查特定条件是
真还是假（表7—1）。
表7－1 逻辑运算的真与假
A
B
N
O
T
A
A
AN
D
B
A
O
R
B
B
N
O
T
A
A
XO
R
B
1
1
0
1
1
1
0
1
0
0
0
1
0
1
0
1
1
0
1
1
1
0
0
1
0
0
0
0
*表中1 表示“ 真” ，0 表示“ 假” 。
图7－2 表示简单的布尔逻辑运算结果。如果集合A 是具有a 属性的集
合，集合B是具有b 属性的集合，那么语句AAN
D
B，AO
RB，AXO
RB，AN
O
TB就
恢复了图7—2 中用阴影表示的属性组合项目。再用一个例子来说明，土壤制
图单元数据库中，每个单元都可能包括土壤结构、pH值等属性。假设集合A
为表层土壤是粘性土结构的所有制图单元的集合，
集合B是表层土壤pH值大
于7. 0 的所有单元的集合。那么逻辑运算语句的作用如下：
X＝AAN
D
B
检索出全部土壤结构为粘性土且pH值大于7. 0 的制图单元；
X＝AO
RB
检索出全部土壤结构为粘性土以及土壤pH值大于7. 0 的制图单元，
其中
包括两个条件都满足的那些制图单元；
X＝AXO
RB
检索出全部土壤结构为粘性土以及土壤pH值大于7. 0 的制图单元，
但不
包括两个条件都满足的那些制图单元；
X＝AN
O
TB
检索出全部土壤结构为粘性土以及土壤pH值小于7. 0 的制图单元。
这些逻辑运算都是按属性数据的特定组合条件去检索出相应的图形数
据。也可以按同样组合去检索相应的属性项目列表等。
应注意的是布尔逻辑运算不满足交换律，这是与数学运算不同之处。
AAN
D
BO
RC这一逻辑运算表达式的结果（图7－2）取决于“ AN
D
” 相对于
“ O
R”
的优先权，经常用圆括号来明确指明运算顺序。上例中，如果加入一个表示
排水不良的土壤制图单元集合C，那么
X＝（AAN
D
B）O
RC
这个表达式就是恢复出土壤结构为粘性土而且pH值大于7. 0的所有制图
单元再加上排水不良的那些制图单元；而表达式
X＝AO
R（BAN
D
C）
则得到同时满足条件B和C
（即pH值大于7. 0 又排水不良）的单元和土
壤结构为粘性土的单元。
布尔逻辑运算还可以组合更多的属性作为检索条件。例如，当人们希望
从土地利用数据库中了解具有一定面积大小和边界形状的（林地分布，或者
从土地景观分类中恢复具有一定面积和边界形状的）开阔地时，除属性“ 树
林” 和“ 开阔地” 外，还加上面积和形状等条件组合在一起形成更为复杂的
逻辑选择运算。
三、地图集合逻辑
要构造地图之间及图内地理实体之间的逻辑运算，必须给出地图集合的
含义。首先定义数据平面为其上所有地理实体的集合为全集=1；没有任何实
体则为空集=0；数据平面上具有相同属性的地理实体组成该平面上的一个子
集；子集之间基于布尔代数进行与（乘）、或（加）、非（减）、同或异等
逻辑运算。
有了地图集合的定义和操作逻辑，就可以将各种应用问题表示为地图逻
辑运算式，由地理信息系统基本操作实现，这种逻辑模型较好地解决了应用
和系统设计的矛盾，可以作为构造和实现地理信息系统分析模型的工具。
G
I S 用户经常需要从多幅地图中提取数据，例如，用户需要知道某种土
地利用类型分布在什么样的土壤及什么样的土地景观上等，而土壤类型、用
地类型、景观类型分别编码存储在三幅不同的地图上。解决这一问题的常规
方法是将三幅图转绘到透明材料上，然后在透明桌上叠置在一起并勾绘出轮
廓线，标记出相应的特征。这是一种相当费时间且精度也不高的方法。因此
对地理信息系统首先要求是具有多幅地图叠置的功能，把传统方法转变成计
算机处理。许多幅地图以栅格形式存储后，很容易用逻辑运算方法提取用户
需要的结果。逻辑表达式与前面讨论的对一幅图上不同属性的制图单元进行
布尔运算相类似，但在指定条件的同时，要指定该条件所在的图幅。
而多幅矢量表示的多边形地图如何叠置的问题，花去了计算机制图工作
者许多年的时间。主要麻烦在于：①多幅叠置后产生的新多边形数量很多，
新多边形中有很大一部分是用户不需要的，必须进行清理，其工作量很大。
而且新多边形的数目不仅与原图上多边形数量有关，还与多边形边界形状有
关，边界弯曲越多产生的新多边形也越多。图7—3 表示两幅各有六个多边形
的简单地图叠置后共产生15 个多边形。
②最麻烦的问题是如何处理那些面积
小又无意义的多边形。多边形叠置后，各幅图上的多边形边界几乎重合而又
不完全重合一致的情况下，将产生大量无意义的小多边形。用户必须滤除这
些小多边形才能得到清晰易读的新多边形边界。然而这一滤除过程就会产生
信息错误或边界移位。③地图叠置后多边形边界相交点的搜索问题。新生多
边形边界上节点的搜索，将节点连接起来形成多边形网，再将每个新多边形
的属性数据与多边形连接等，不仅要花很多时间，而且很难处理。由于矢量
数据形式的多边形叠置存在这些问题，一般G
I S 用户都更乐于用栅格数据形
式进行多因素分析。
§ 4. 地理信息系统硬件选配
硬件配置的选择取决于系统的任务性质和经费条件，为了减轻用户负担
和使系统具有更广泛的适用性，选择最常见的机型（低档微机）和操作系统
（D
O
S，w
i ndow
s）。由于地理信息系统要求较强的图形功能，选择低档微机
意味着必须采用先进的软件技术加以弥补。
硬件设备的投资在G
I S 总投资中往往占较大比重，除按预算金额提出设
备清单外，还考虑投资使用的优先顺序，把工作开始就绝对需要的设备和一
段时间以后绝对需要的设备，作为优先和次优先购置的项目，今后有用而暂
时不用的设备留待以后购置。在一般情况下，选用低档286 微机和A3 小数字
化仪，并以彩色打印机作为输出设备，其经费一般中小单位是承担得起的。
硬件设备的选择还要根据软件的要求和软件的类型购置。一般情况下，
软件的设计是按特定机型和外围设备设计的，只能支持一定型号的硬件设
备。因此在考虑硬件选择时要知道软件能否支持，会不会造成运行困难等。
例如SPACEM
AN其基本硬件配置为：
⊙主机I BM
—PC/XT、I BM
—PC/AT、I BM
386、486、586 或其兼容机，内存
1 兆以上；
⊙硬盘80M
B以上，带单软盘或双软盘驱动器；
⊙高分辨率彩色监视器及其相应的图形适配卡（EG
A、CG
E、VG
A、TVG
A
等）；
⊙一个以上串行通信口和一个并行通信口；
⊙8087、80287 或80387 浮点运算协处理器；
⊙数字化仪（A0—A3）；可配置Cal com
p、胜马、CD
、TG
、Kurt a、等主
流机型；
⊙绘图仪（A3 以上）；可配置Cal com
p、H
P、Rol and、D
M
P、M
out h 等主
流机型；
⊙彩色或黑白点阵打印机，可配置EPSO
N
、STAR，N
EC，Brot her 等系列。
又如加拿大地理信息系统，其研制的目标是能对地图进行读取存储、分
析和比较的计算机系统，用以处理广泛的地理数据和土地数据。该系统的硬
件配置如图7－4 所示。
由于G
I S 是相当复杂的系统，可把G
I S 分成输入、输出和分析处理等组
成部分。硬件配置时分别按功能、价格等作些比较。例如数字化仪脱离主机，
与微机连接起来进行工作，花费的资金并不太多。扫描仪的选购应慎重考虑，
仅必须对大量高质量线数据（如等高线图）进行数字化时才值得购置。非空
间的属性数据输入用文本文件形式最容易，也可在微机上用标准字处理软件
来输入。空间数据与属性数据的连接与建立拓扑多边形网的原理一样，可由
专门的软件来完成。投影变换可在价格较低的微机上实现。如果用特殊的阵
列处理器来进行投影变换，处理时间可大大缩短，当然硬件费用则很高。数
据输出必须满足用户所需要的输出形式和输出质量。这虽然与硬件设备有
关，即未经专门训练的工作人员也能进行高质量的绘图操作，但要生产出高
质量的产品，还必须有熟练的制图技能的工作人员。质量非常高的光学绘图
或高精度胶片记录产品并不常用，如果需要这类输出时，借用一下有关部门
的相应设备可以省去大笔投资。
§ 5. 地理信息系统的软件设计
软件设计必须根据建立G
I S 的目的、任务和今后的研究方向进行。目前，
G
I S 在城市规划、资源调查、环境监测、工程建设、地学研究与教学等方面
得到了广泛应用。就其任务而言，可以抽象为四方面的内容；空间信息获取
与管理；空间特征量测与分析；空间过程模拟与预测；时空规律的总结与应
用。从这些任务出发，进行通用的G
I S 软件工具系统的设计，使其具有适应
性强、易于掌握、便于推广和应用开发、汉化等特点。
软件设计是将所要编制的程序表达为一种书面形式。这种形式既可简单
明了地描绘软件系统的全貌，又可以逐步精化，以便于程序编制的高效正确，
同时又是一个程序修改完善、移植和交流的工具。
一、信息描述
G
I S 的数据流程通常是：数据通过输入编辑模块进入系统，经过人机交
互编辑、拓扑关系生成、投影和格式转换，影像处理和信息提取等，形成完
整的系统数据结构进入数据库。数据通过多种方式的查询检索，得到数据子
集，用于模型分析，分析结果或查询检索结果进入输出编辑整饰后输出。
为便于软件设计和建立针对具体区域应用任务的实用系统，可将系统数
据结构划分为两个层次，即外部数据格式（或逻辑数据格式）和内部数据格
式（或物理数据格式）。外部数据格式面向用户，描述地图之间的逻辑联系，
由用户建立应用系统时定义；内部数据格式面向程序设计，描述系统数据的
物理存储结构和数据之间的拓扑关系、联结方式，在程序设计时确定。
进入系统的数据有遥感影像数据、专题地图数据、栅格地图数据、台站
观测数据、社会经济统计数据、文字报告数据、外部系统数据等。
在G
I S 中用数据字典来描述系统数据结构的意义、来源、管理方法与功
能模块的联系、任务、用户权限等。
矢量数据的来源有三个：一是专题地图内手扶跟踪数字化仪得到的标准
矢量格式数据；其二是将遥感影像、系统操作结果得到的栅格图像等经过栅
格向矢量的转换得到的数据；其三是由外部系统通讯进入系统的矢量格式数
据。矢量数据的系统模块主要用于图形输入、图形编辑、拓扑生成、格式转
换、查询检索、指标量算、空间分析、符号编辑和矢量绘图等，其存取方法
采用二进制直接存取方式，更新由矢量编辑和文件覆盖实现。
栅格数据可由遥感影像或其它外部栅格图像得到，也可由矢量向栅格转
换（包括离散点插值拟合）或直接输入的栅格地图得到。涉及到栅格格式的
模块有格式投影转换、遥感影像处理、查询检索、数理统计、覆盖运算、逻
辑分析、模型应用和点阵打印等。
属性数据主要是与专题地图有关的数量、类别、等级和描述性信息。除
通过统计、观测等直接产生的属性数据外，还有些是由地图图例中提取编码
得到的，有些通过信息系统模型操作得到的，有些是遥感影像分类提取后产
生的。属性数据是G
I S 的重要组成部分，在属性支持下，图形不再是仅有几
何意义的像元和图素，而是具有地理意义的地理实体，逻辑运算和地理分析、
地理统计等，都是通过属性与图形的结合实现的。属性数据通过相应图素
（点、像元、弧段、多边形等）编号与图形建立联系。
基于属性的数据库结构将系统数据库中的数据文件，按其在自然、社会
和经济环境系统中的属性关系联系起来，支持一致性检索，多种查询检索和
模型分析，其结构由用户在系统维护模块支持下定义。
关于系统的运行方式，是采用中西文菜单或命令方式驱动，部分查询和
模型提供表界面，工作时，用户首先进入系统回答口令，然后通过数字化仪、
键盘或通信方式录入编辑多种数据，建立应用数据库，通过检索和模型分析，
得到欲输出的信息，经整饰和符号表示后输出。
对于用户的权限，一般说具有最高权限的是系统管理人员，可以进行包
括数据更改和所有数据管理的工作，其它用户可根据其权限大小，查询和处
理某些层次上的数据。权限大小由系统根据口令和文件密级检查断定。
还要注意系统的约定，例如规定矢量文件扩展名为VEC；栅格文件名为
RAS；属性文件扩展名为D
BF；系统运行文件扩展名为EXE 或CO
M
。图形坐标
轴以左上角为坐标原点（0，0），横向右为x，纵向下为y 增大方向，即为
左手旋转坐标系。系统运行中将产生部分中间辅助文件，如扩展名为PO
S 的
矢量格式文件的索引文件和扩展名为ARC的弧段信息文件等。
系统的外部要素主要包括系统用户、输入数据（影像、专题地图、文字
描述等）、用户程序、操作系统和计算机硬件外设。系统内部要素主要由数
据编辑、数据库管理、图像处理、模型分析和整饰输出等模块组成。系统的
接口方式包括矢量格式数据（V）、栅格（或游程长度编码）数据（R）、文
本数据（A）、程序或命令调用（F）等。系统与用户接口以菜单、命令和程
序方式实现；数据采集接口包括遥感影像接口、线划图输入接口（V）、网格
图输入接口（R 或V）、文本数据及属性数据接口（A）等，内部接口模块包
括录入编辑—存储管理（V，R，A）；录入编辑—图像处理（R，A）；图像处
理—存储管理（V，R，A）；模型分析—存储管理（V，R，A）；存储管理—
整饰输出（V，R，A）；模型分析—整饰输出（V，R，A）等。
上述G
I S 信息描述，将成为确立软件设计目标及具体进行软件设计的重
要依据。
二、结构化的软件设计方法
结构化的程序设计方法是软件发展早期形成的，设计工作侧重于软件结
构本身，力图通过以下三种准则，清晰地描述软件系统，并用于程序编制，
其过程形式是：①分清任务的执行顺序；②明确任务执行条件和分支，即“ 如
果⋯⋯则⋯⋯否则” 结构；③重复执行某项任务直到定义的条件满足为止。
结构化程序设计中最重要也是最流行的方法是自顶向下逐步精化的顺序
设计方法，也称H
I PO
（H
i erarchypl usI nput Processi ngO
ut put ）法。它将系
统描述分为若干层次，最高层次描述系统的总功能，其他层次则一层比一层
更加精细、更加具体地描述系统的功能，直到分解为程序设计语言的语句。
结构化方法如图7－5 所示。
H
I PO图可分为三个基本层次：①直观目录。用尽可能扼要的方式，说明
问题的所有功能和主要联系，是解释系统的索引。②概要图。简要地表示主
要功能的输入、输出和分析处理内容，用符号和文字表示每个功能中处理活
动之间的关系。③详细图。详细地用接近编制程序的结构描述每个功能，使
用必要的图表和文字说明，再向下则可进入程序框图。
上述图表中相互之间都可用符号体系对各主要功能进行完整的跟踪。在
地理信息系统软件设计中，为充分利用系统软硬件功能和保持良好的可移植
性，有时也需采用一种自下而上的结构设计，即首先将与软硬件有关的公用
子程序列出，然后列出与软硬件无关的公用子程序，最后组合成软件系统，
可提高软件开发的效率和可移植性。结构化软件设计的特点是软件结构描述
比较清晰，便于掌握系统全貌，也可逐步细化为程序语句，是十分有效的系
统设计方法。
三、面向对象的软件设计方法
面向对象的设计方法是近年来发展起来的一种新的程序设计技术，其基
本思想是将软件系统所面对的问题，按其自然属性进行分割，按人们通常的
思维方式进行描述，建立每个对象的模型和联系，设计尽可能直接、自然地
表现问题求解的软件，整个软件系统只由对象组成，对象间联系通过消息进
行。用类和继承描述对象，并建立求解模型，描述软件系统。对象是事物的
抽象单位，具有内部状态、性质、知识和处理能力，通过消息传递与其它对
象相联系，是构成系统的元素。消息是请求对象执行某一处理或回答某些信
息的指令流，用以统一数据层和控制层，将对象划分为不同层次，这种层次
结构具有继承性，子类继承其父类的全部描述。
面向对象的设计方法，更接近于面向问题而不是对程序的描述，软件设
计带有智能化的性质，这种形式更便于程序设计人员与应用人员的交流，软
件设计更具有普遍意义，尤其是在地理信息系统的智能化和专家系统技术不
断提高的形势下，面向对象的程序设计是更有效的途径。
四、原型化的设计方法
原型化的设计方法是地学人员更愿意采用的一种软件设计方法，它的特
点是不需要一开始即清晰地描述一切，而是在明确任务后，在软件的实现过
程中逐步对系统进行定义和改造，直至系统完成。这种方法尽管带有一定的
盲目性，但对于非专业人员和小规模系统设计来说更为实用，而且有些探索
性的系统，并不可能一开始就取得完整的认识，许多专门化的系统，也不一
定需要十分复杂的设计，而这种设计方法，一开始就针对具体目标开始工作，
一边工作一边完成系统的定义，并通过一定的总结和调整补偿系统设计的不
足，是一种动态的设计技术。我国早期的许多系统，都属于此种设计方法。
这种设计方法的基本步骤是：①识别基本要求，做出基本设想；②开发工作
模型，提出有一定深度的宏观控制模型；③程序编制和模型修正。通过软件
编制，不断发现技术上的扩大点，并通过与用户的交流取得对系统要求和开
发潜力的新的认识，调整系统方案。④原型设计完成。根据一定标准判断用
户需求是否已被体现，从而决定系统是继续改进还是终止。
软件设计的方法很多，各有特点，在具体工作中需灵活地选择或结合各
种方法作出最有效最佳方案的设计。
软件设计完成后，进入程序编制阶段，经过软件设计，程序结构已明了，
这阶段的主要任务是设计具体算法和编程。地理信息系统所采用的算法多来
自计算机图形学、计算机图像处理、计算机辅助地图制图等。需经改造使之
适合于地理信息系统的数据结构。特别是必须具有属性和拓扑的意义，增加
了算法的复杂性，因为不仅要求有图形意义上的运算，还要具有属性和图形
要素之间的逻辑运算。另外，由于地学要素数量众多、极其复杂，地学任务
要求较高，给算法构造带来一定的难度。特别是在微型计算机上研制的系统，
算法设计更为关键。微机系统向更大计算机系统上移植，效率不会受到影响，
反之，如果直接把中小型机上软件移植到微机上，则由于由比较宽松的环境
降到比较紧张的环境中，效率将大大降低，远远比不上专门开发的微机地理
信息系统，有时甚至无法实施运行。
§ 6. 数据库录入与存储设计
数据库是地理信息系统的核心组成部分，其设计的内容包括数据录入设
计、数据存储设计和数据检索设计。
一、数据录入设计
是将系统外各种来源的空间数据以一定的格式输入计算机，它是系统详
细设计中最基本的设计。其设计的主要要求是保证输入数据的拓扑一致性、
图形数据文件和属性数据文件的分别建立，以及冗余数据的清除等。
二、数据存储设计
是指数据存储介质的选择、数据逻辑关系的设计和数据存储结构的设计
等。例如某区域地理信息系统数据库的存储介质为磁盘和磁带。数据的逻辑
关系如图7—6 所示。其中图幅是计算机处理的基本单元，图幅内的数据按多
边形序号组织，多边形序号是图形数据与属性数据匹配的依据。图幅的数据
文件分为两类：图形数据文件和属性数据文件。
1. 图形数据文件的设计：图形数据文件由四个记录组成，其中一个记录
为固定长度，其余三个记录为可变长度，分别取决于图幅内多边形、线段或
节点的数量。各个记录的存储格式如图7—7 所示。
2. 属性数据文件的设计：各种要素的属性数据记录按多边形的组织，每
个多边形包含一个或一个以上的属性数据记录。其存储格式如图7—8。
三、数据检索设计
数据检索设计的目的是从数据库中找出所需要的数据。由于用户需要系
统回答的问题极其广泛，因此采用了动态处理系统的设计方法。其处理流程
如图7—9 所示。图中的“ 请求” 表示用户的问题；为回答“ 请求” 而编制的
程序称为“ 请求系统” 。“ 请求系统” 由一组具有不同检索功能的命令和子
命令组成。检索程序员将有关的命令输入计算机，检索监视器调用系统的库
程序，将这些命令翻译成可以运行的工作流，最后产生满足用户的信息。
§ 7. 用户界面设计
用户界面设计是一项重要而繁琐的工作，有时要占系统研制工作量的一
半以上，用户界面的好坏，既影响到系统的形象和直观水平，又决定了是否
可被用户接受，用户是否能够正确深入地使用系统功能，因此是十分重要的。
主要的用户界面有三类：
一、菜单式界面
菜单式界面将系统功能按层次全部列于屏幕上，由用户用数字、键盘箭
头键、鼠标器、光笔等选择其中某项功能执行。
菜单界面的优点是易于学习掌握，使用简单，层次清晰，不需大量的记
忆，利于探索式学习使用，特别是对于汉字系统，可将菜单内容用汉字列出，
通过菜单选择，不需再键入汉字执行，极为方便。缺点是比较死板，只能层
层深入，且无法作出批处理作业。
二、命令式界面
命令式界面是以某几个有意义或无意义的字符调用功能模块的方式。其
优点是灵活，可直接调用任何功能模块，又可组成复杂的调用。更重要的是
可以组织成批处理文件，进行批处理作业，不需用户在机前等待逐个调用系
统功能。缺点是不易记，且不易全面掌握，特别是命令难以用汉字构成，反
之全用英文又会给不熟悉英文的用户带来更大的困难。
三、表格式界面
表格式界面是将用户的选择和需回答的问题列于屏幕，由用户填表式回
答，可与菜单式界面配合使用。
上述界面各有优缺点，好的系统应提供各种界面，并随时提供丰富的帮
助信息。
§ 8. 地理信息系统评价
所谓系统评价，就是指从技术和经济两个大的方面，对所设计的地理信
息系统进行评定。基本做法是将运行着的系统与预期目标进行比较，考察是
否达到了系统设计时所预定的效果，主要对下列各项进行考查：
一、系统效率
地理信息系统的各种职能指标、技术指标和经济指标是系统效率的反
映。例如系统能否及时地向用户提供有用信息，所提供信息的地理精度和几
何精度如何，系统操作是否方便，系统出错如何，以及资源的使用效率如何
等等。
二、系统可靠性
系统可靠性是指系统在运行时的稳定性，一般很少发生事故，即使发生
事故也能很快修复，可靠性还包括系统有关的数据文件和程序是否要妥善保
存，以及系统是否有后备体系等。
三、可扩展性
任何系统的开发都是从简单到复杂的不断求精和完善的过程，特别是地
理信息系统常常是从清查和汇集空间数据开始，然后逐步演化到从管理到决
策的高级阶段。因此，一个系统建成后，要使在现行系统上不做大改动或不
影响整个系统结构，就可在现行系统上增加功能模块，这就必须在系统设计
时留有接口，否则，当数据量增加或功能增加时，系统就要推倒重来，这就
是一个没有生命力的系统。
四、可移植性
可移植性是评价地理信息系统的一项重要指标。一个有价值的地理信息
系统的软件和数据库，不仅在于它自身结构的合理，而且在于它对环境的适
应能力，即它们不仅能在一台机器上使用，而且能在其它型号设备上使用。
要作到这一点，系统必须按国家规范标准设计，包括数据表示、专业分类、
编码标准、记录格式等，都要按照统一的规定，以保证软件和数据的匹配、
交换和共享。
五、系统的效益
系统的效益包括经济效益和社会效益。G
I S 应用的经济效益主要产生于
促进生产力与产值的提高，减少盲目投资，降低工时耗费，减轻灾害损失等
方面，目前地理信息系统还处于发展阶段，由它产生的经济效益相对来说还
不太显著，可着重从社会效益上进行评价，例如信息共享的效果，数据采集
和处理的自动化水平，地学综合分析能力，系统智能化技术的发展，系统决
策的定量化和科学化，系统应用的模型化，系统解决新课题的能力，以及劳
动强度的减轻，工作时间的缩短，技术智能的提高等等。从总的来看，地理
信息系统的经济效益是在长时间逐渐体现出来的，随着新课题的不断解决，
经济效益也就不断提高。但是，从根本上来说，只有当地理信息系统的建设
走以市场为导向的产业化发展道路，商品经济的发展导致信息活动的激增、
信息广泛而及时的交流，形成信息市场，才能为地理信息系统的发展提供契
机，这时，地理信息系统的经济效益才能进一步体现。评价目标也就自然地
转向经济效益方面。目前，一批以开发地理信息系统为目标的经济实体正在
筹备和组建，地理信息系统的经济、科学和技术三统一的发展趋势，是肯定
无疑的。
第八章  微机地理信息系统及其实施
§ 1. 微机与微机地理信息系统
微型计算机（简称微机）产生于70 年代，它是超大规模集成电路发展的
产物。由于其体积小、功耗低、价格低廉、维护方便、易于扩展等特点，发
展迅速，得到了广泛的应用。从1978 年开始生产可与当时中档小型计算机相
匹配的16 位微处理器，如I nt er 的I nt er8086、
Zi l og 的Z－8000、
M
ot orol o
的M
68000 等，被称为第一代超大规模集成电路的微处理器。如今，微机性能
已得到了很大提高。
微处理器的主频从4. 77M
H
z 提高到33M
H
z，
甚至达466M
H
z
以上，每秒可处理几百万条指令；内存从512K 增大到16M
，外存硬盘也达到
几百甚至上千兆，大大提高了微机的存储能力。微机还可以选配许多部件和
设备，如各种存储板、异步和同步通讯板、图像卡、图形卡、光盘机、磁带
机、图形终端等，从而进一步扩展其功能。
微机地理信息系统是在微机系统支持下建立的地理信息系统。该系统具
有配置灵活、成本低、易移植和扩展、开发周期短、易于掌握和推广等特点，
适合于基层生产管理、科学研究和教学单位完成信息产品生产、信息管理、
信息分析和人才培养等工作。随着微机的普及推广，微机地理信息系统有着
重要的意义。
微机地理信息系统由硬件系统、支撑软件、软件工具、数据库、应用模
型以及系统的开发、维护和使用人员组成（图8－1）。硬件系统是微机地理
信息系统运行的基础，包括输入设备、存储设备、处理设备和输出设备（图
8—2）。支撑软件是微机地理信息系统运行的软件环境和开发微机地理信息
系统的软件工具，它包括操作系统、程序设计语言和数据库管理系统。软件
工具是具有信息输入、信息管理、信息分析、信息产品输出等地理信息系统
基本功能的高效系统化的软件系统，它抽取了各种应用系统的基本规律和方
法，具有很强的功能和适应能力。数据库是地理信息的集合，它存储了地理
实体的空间信息、非空间信息，是和具体任务相关联的。应用模型是开发人
员或用户针对具体任务开发的各种分析、模拟模型。
实用的微机地理信息系统可分为两种类型——微机地理信息系统软件工
具和应用型微机地理信息系统。微机地理信息系统软件工具只是一套软件，
它有其运行的硬件环境和软件环境，有它的数据表示方法和管理分析能力。
这种软件工具有的是专门设计的，有的是抽取优秀的实用地理信息系统的具
体内容后得到的。在微机地理信息系统工具的支持下，开发人员或用户只需
选择系统的硬件配置和软件环境，建立与具体任务相关的地理数据库并开发
或运用已有的应用模型，即可形成实际运行的应用系统。
微机地理信息系统
硬件系统
输入设备
存储设备
处理设备
输出设备
支撑软件
操作系统
数据库管理系统
微机地理信息系统软件工具
数据库
空间信息
非空间信息
应用模型
系统开发、维护和使用人员
图
微机地理信息系统组成






























−
8
1
微机地理信息系统软件工具一般是由专门的设计人员设计的，因此它硬
件适应能力强、操作效率高、功能强大、易于扩充、操作简便、功能不断扩
展。利用系统软件工具可以大大提高建立应用系统的速度，减少开发中的重
复劳动，提高应用系统的质量（如稳定性，可靠性），使不同的应用系统间
可以方便地互相利用对方的数据和功能，并使用户可以专注于他的专业问
题。目前国内外已有许多在各档次微机系统上的地理信息系统工具，国外有
代表性的有美国环境系统研究所（ESRI ）
的ARC/I N
FO
、美国Yal e 大学的M
AP
（M
ap Anal ysi s Package）、美国M
i cro I m
age 公司的M
I P
（The M
ap and I m
age
Processi ng Syst em
）、荷兰国际航天测量与地学学院（I TC）的U
SEM
AP 等；
国内也有一批试验性系统工具，如北京大学SPACEM
AN
、G
eo U
ni on、南京大
学大地海洋科学系的G
I SKEY 和中科院遥感所的G
I M
AS 等。
§ 2. 微机地理信息系统软硬件环境
一、微机地理信息系统硬件系统
1. 数据输入设备
地理信息系统中数据都是数字式的，而系统外部的信息大部分是模拟式
的（例如地图、表格、影像等），因此必须通过模拟形式向数字形式的转换
输入到系统内部。根据各种模拟形式，其输入设备也多种多样，现在使用较
多的有矢量数字化仪、图形扫描仪、键盘等。
（1）矢量数字化仪：矢量数字化仪由游标线圈、工作台面、栅格阵列导
线、电子部件、微处理器以及输出装置组成，其作用是将图形转换为坐标数
据。操作者在工作台面上移动游标到指定位置，按动游标上的按钮，此时由
线圈产生交流信号激励，工作台面下降列导线接收此信号，由电子部件和微
处理器对感应信号进行处理，将其转换成坐标，然后通过输出装置显示、打
印、记录或联机输出到主机。
不同的数字化仪有不同的幅面、精度、工作方式、读点速度、数据格式。
幅面从A0 至A4，工作方式有点方式、流方式、开关流方式，数据格式有二
进制和ASCI I 两种。
目前比较典型的数字化仪有美国Cal com
p 公司的9100 系列、H
P 公司的
TG系列等，其主要性能见表8—1。
表8—1 矢量数字化仪性能
型号
有效幅面
分辨率
按钮键数
接口
91480
91360
TG8036
TG8024
A0 （36 × 48 ″ ）
A1 （24 × 36 ″ ）
A1
A2
0. 001 ″
0. 001 ″
0. 001 ″
0. 001 ″
16
16
16
16
串行口
串行口
串行口
串行口
（2）扫描数字化仪：扫描数字化仪有光电式、摄像式、激光式及CCD
器件式等多种，其原理都是设备从左到右、从上到下逐点扫描图件，通过感
应器件将被扫描点的灰度或彩色值记录下来，再通过接口将数据送入主机。
有的扫描仪还可将数据变换为矢量坐标数据送入主机，这使图形输入自动化
程度大大提高。表8—2 介绍几种扫描仪性能。
表8－2 扫描数字化仪性能
型号
方式
速度
幅面
分辨率
灰度
色彩
矢量化
HP9190A
平面
20. 4s/pi
A4
600dpi
16bi t
无
无
EI KO
N
I X/8
50
平面
5 －60s /pi
不限
4096
×
4096
12bi t
有
无
TEK/ 4911
鼓式
与图件有关
A0
300dpi
1bi t
无
有
（3）其它输入设备：在地理信息系统中除采用以上两种设备输入空间数
据以外，还有其它非空间数据需要输入，这些数据多采用键盘进行输入。对
于已存在的数字式信息可通过网络传输、读磁盘（带）输入到系统内。
在用户交互修改和操作中，鼠标、光笔、操纵杆等是灵活的输入工具。
2. 存储设备：地理信息系统中数据是存储在磁盘或磁带中的，在微型机
中磁盘是主要的存储设备。磁盘可分为硬盘和软盘，它们分别由硬盘驱动器
和软盘驱动器来做读写操作。
软盘按大小分为，
和
寸，五寸盘有单面、双面和高密
5 1
4
3 1
2
度三种格式，其容量分别为180（160）KB、360（320）KB、1. 2M
，三寸盘有
单面和双面两种格式，其容量分别为720KB、1. 44M
。盘驱动器由主轴驱动系
统、磁头定位系统以及读/写/抹除系统组成，主机通过盘控制器控制盘驱动
器。
硬盘是一种高速大容量的存储设备，其容量可从十兆至几百兆。硬盘盘
片一般是固定的，不可更换，其驱动和控制系统与软盘相似。
3. 处理设备：微型计算机是系统的处理设备，其体积小、价格低、维护
方便、性能价格比高，因此适宜于建立规模较小的系统。
微机系统板上有中央处理器、读写存储器、输入输出控制器和输入输出
通道，另外还有各种扩充功能的选件板。中央处理器有80× 86，需要时还可
以添加浮点运算器80× 87，使数学运算速度大大提高。存储器可分为只读
（RO
M
）和读写（RAM
）两种。RO
M中存储基本输入输出子程序（BI O
S），RAM
为系统可以读写的部分，其容量可至16M
。
微机硬件最小配置只需要键盘、显示器和系统板。为了增强其功能，需
作进一步扩充，通过选件板，增加了磁盘驱动器、串行口等。主机通过并行
口、串行口可以与其它计算机通讯，还可以接入外部设备，如数字化仪、绘
图机、打印机、终端等。
目前较流行的机型有I BM
—PC、PC兼容机、I BM
PS/2 系列以及国产长城、
联想等系列微机。表8－3 列出部分产品的规格和性能。
8—3 微机规格和性能
型号
CPU
主频（M
H
z ）内存
硬盘
软盘
PC/ XT
PC/  AT
PS/ 2 — 80
CO
M
PAO
386
ASTP/ 486
G
W
286
G
W
386
8086
80286
80386
80386
80486
80286
80386
4. 77
10
20
20
33
8
16
512K
512K
2M
1 — 16M
4 — 16M
640K
2M
10M
20M
115M
60M
210M
40M
40M
360K
1. 2M
1. 44M
1. 2M，1. 44M
1. 2M，1. 44M
360K ，1. 2M
360K ，1. 2M
4. 输出设备：系统的输出设备用于用户与系统的交互以及系统产品的生
成，输出设备有显示器、绘图机、打印机等。显示器用于快速显示图形、表
格，用户的操作可以立即在显示器上表示出来；绘图机和打印机在纸、薄膜、
胶片等介质上绘制图形，生成图像，打印表格。
（1）显示器：显示器有字符显示器和图形显示器，字符显示器只能输出
文本，而地理信息系统中有大量的空间数据，因此图形显示器是系统有力的
输出设备。
在微机系统中，显示器和图形卡非常丰富，分辨率从320× 200 到1280
× 1024，颜色可达256 种。在选用设备时要考虑系统软件的支持。表8－4
列出常用的图形显示器性能。
（2）绘图机：绘图机分为矢量绘图机和扫描绘图机两大类。矢量绘图机
有平板式和滚筒式，平板式精度高，但速度较低；滚筒式结构简单，速度快，
价格便宜，但精度较低。扫描绘图机速度快、色彩丰富，除输出图形外还可
以输出图像。表8－5 和表8－6 列出矢量绘图机和扫描绘图机的性能。
（3）打印机：地理信息系统除输出图形外，还有许多表格和文字需要输
出，打印机可完成这些功能，打印机有针式打印机、激光打印机、液晶打印
机、喷墨打印机等种类。有些打印机还可以打印图形，有些还有彩色功能。
典型的打印机有EPSO
N系列、Brot her 系列、H
P 系列等。
表8—4 图形显示器性能
型号
CG
A
H
erc
EGA
M
CGA
VG
A
PGA
8514
G
CB
高分辨
率模式
长
640
720
640
640
640
640
1024
1024
宽
200
348
350
480
480
480
768
1024
颜色
1
1
16
2
16
256
256
256
多颜色
模式
长
320
720
640
320
320
640
1024
1024
宽
200
348
350
200
200
480
768
1024
颜色
4
1
16
256
256
256
256
256
表8—5 矢量绘图机性能
型号
幅面
笔数速度（m
m
 s ）分辨率
缓冲存储
结构
厂家
D
M
P62
A0
6
600
0. 0125
1M
滚筒
美国H
I
H
P7570
A1 ，A2
8
400
0. 013
7. 5K
滚筒
美国H
P
Cal com
p1044GT
A0 — A4
8
356
0. 025
2K
滚筒
美国Cal com
p
D
XY2200
594X432m
m 8
450
0. 0125
15K
平板
日本Rol and
表8—6 扫描绘图机性能
型号
幅面
分辨率
彩色
速度
厂家
CE3244
44 ″ 宽
200dpi
256 （自配）
1 英寸/ 秒
美国Versat ee
5845
44 ″ 宽
400dpi
1024
0. 4 英寸/秒
美国Cal com
p
H
P7600
A0A1
400dpi
美国HP
二、微机地理信息系统支撑软件
用户使用不包括软件的机器往往是非常困难而且很不方便的，地理信息
系统不是直接建立在硬件机器上的，而是由程序设计语言设计、运行于操作
系统之上并且有数据库管理系统支持。因此从硬件机器向上有操作系统、程
序设计语言、数据库管理系统等支撑软件。
1. 操作系统：操作系统对系统内各种软硬件资源进行合理管理，为用户
创造了一个方便、有效、安全、可靠地使用计算机的工作环境。微机上较流
行的操作系统有U
ni x、D
O
S、O
S/2 等。
U
ni x 操作系统是一个通用的、多用户、多任务的分时系统。
U
ni x 系统在
结构上分为内核和核外程序两层。内核部分包括进程管理、存储管理、设备
管理、文件系统等部分；核外程序以内核为基础，两者结合为一体，提供良
好的服务功能。U
ni x 向用户提供用户命令和系统调用两种界面，采用树形结
构文件系统，把文件、设备统一管理，便于用户使用。U
ni x 实际上已成为工
作站上的标准操作系统，而且具有开放性结构，便于不同系统连接，因此采
用U
ni x 系统有助于系统的移植和扩展。
D
O
S 是M
i cro Sof t 公司在微机上开发的单用户、单任务操作系统，由文
件系统和输入输出系统组成。D
O
S 采用层次模块结构，三个模块为输入输出
系统BI O
S 、I BM
BI O
S. CO
M
、文件系统I BM
D
O
S. CO
M 和命令处理程序
CO
M
M
AN
D
. CO
M
。D
O
S 是微机使用最广泛的操作系统，有大量的应用程序可运行
在D
O
S 之上。
O
S/2 是I BM公司为PS/2 系列微机开发的单用户、多任务操作系统，也
可运行于80286 以上的微机。O
S/2 适合I BM系统应用体系结构（SAA），用
户可方便地切换运行不同类型I BM硬件上应用程序，而源程序能方便地送到
不同类型I BM系统和通讯设施上去。
为了便于用户的使用，系统还提供了图形用户界面，U
ni x 的用户界面为
O
PEN
LO
O
K/M
ot i f ，O
S/2 用户界面为PM
（Present i on M
anager），D
O
S 用户界
面为W
i ndow
s。
2. 程序设计语言：程序设计语言是编写计算机程序的语言。计算机能使
用的语言为机器语言（即计算机指令系统），由于机器语言是计算机内部形
式，难以编写程序。为了容易编程，针对各种计算机抽象出一种记忆符号，
这就是汇编语言。机器语言和汇编语言都是面向机器的语言，属于低级语言，
其程序紧凑，运行速度快，但不具移植性，而且难于描述解决问题的过程。
高级程序设计语言不关心计算机内部结构，而着眼于描述解决问题的过
程。针对不同目标，高级语言有许多种，如Basi c、Fort ran、Pascal 、C、
Cobol 、Ada、Fort h、Prol og、Li sp 等。
Basi c 语言是一种人机对话语言，简单实用，易于初学者操作，主要用
于数值计算、数据处理、教学和游戏。
Fort ran 语言是一种出现最早的高级语言，它是针对于科学计算而开发
的。在大型机到微型机各层次上都配有Fort ran。
Pascal 是一种结构化程序设计语言。结构化程序设计技术采用自顶向下
的模块化方法，
着眼于程序结构，
使程序易懂、
易改、
易调试、
易维护。
Pascal
语言程序简单、精巧、可读性强。
C 语言也是一种结构化程序设计语言，但它有面向机器的操作能力，既
能编写一般的应用软件，也能编写系统软件（如U
ni x）。C较好地处理了简
洁性和实用性、可移植性和高效率之间的矛盾。
Prol og 语言是一种逻辑程序设计语言，它只描述问题，而不描述解决问
题的过程，由内部的推理机制得出问题的结果。Prol og 适合于人工智能程序
设计。它接近于自然语言，简洁明了，易学易用，并易于通过推理进行正确
性证明。
3. 数据库管理系统软件：数据库是经过组织的、可供多方面使用的数据
集合。数据库管理系统介于数据库和应用程序或用户之间，它是负责数据库
管理和维护的软件系统。数据库有数据结构化、数据独立、数据共享、数据
冗余度小、数据一致、数据安全可靠等特点。数据库模型有层次模型、网络
模型、关系模型。
在微机上的数据库系统多为关系型数据库系统，它结构简单、易于掌握；
表述能力强，能方便处理多种复杂数据结构；有数学理论作为支撑基础；用
户使用方便，用户界面为非过程化语言。市场上有许多商业性数据库管理系
统，可采用它们作为G
I S 的一部分或将G
I S 建筑于它们之上。典型的系统有
D
Base、FoxBase、O
racl e、I nf orm
i x、I ngres、U
ni f y 等。
D
Base 是美国Asht on－Tat e 公司推出的，到目前有D
BaseⅡ、Ⅲ、Ⅳ等，
它具有数据定义、输入与更新、操作、输出和应用程序开发等功能。D
Base
Ⅳ还支持举例查询（Q
BE）、结构化查询（SQ
L）。D
Base 获得了非常广泛的
应用，有着许多建好的数据库和应用程序。
FoxBase 是美国公司开发成功的多用户管理系统，它与D
Base 完全兼容，
有很快的运行速度。
D
Basc 环境下数据和程序很容易移植到FoxBase 环境中，
因此也得到很广泛的应用。
O
racl e 是美国O
racl e 公司从大型机移植到微机上的，O
racl e 有很宽范
围的硬件和操作系统环境；具有一致的用户界面和较好的分布功能。它支持
SQ
L，并提供一批第四代语言（4G
L）、工具，如形式处理、报表生成、电子
表格、菜单管理，用户无需编程即可高效完成应用开发，并具有最终用户易
于使用的界面和多种高级语言程序接口。
§ 3. 微机地理信息系统软件工具
一、微机地理信息系统软件工具结构和功能
地理信息系统软件工具是应用型地理信息系统的基础，它必须满足应用
系统对它的一系列要求，因此地理信息系统软件工具都具有以下特点：
1. 速度：高速的数据存取和处理能力，用户等待时间不能过长；
2. 存储：高效的压缩编码存储方法，以保证在微机存储设备有限容量的
限制下存储大量的地理信息数据；
3. 功能：完备的地理信息系统功能，以满足用户建立应用系统的各种功
能要求；
4. 适用性：较宽松的软硬件运行环境，以支持用户对设备的各种选择；
5. 易用性：良好的系统接口和用户界面，便于开发人员和用户进一步开
发和使用；
6. 开放性：与外部其它系统进行数据交换的能力，通过数据交换使系统
能够使用其它系统的数据和软硬件功能。
软件工具包括信息采集、信息管理和处理、信息分析、信息产品输出、
系统接口、人机界面工具等部分（图8－3）。采集、管理和处理、分析、输
出是系统处理地理信息的功能部分；系统接口使用户能够方便地存取数据库
中的数据，支持高层次工具和应用模型的开发；人机界面工具使用户在建立
应用系统时能充分发挥计算机的交互性。
为了降低软件复杂性，减少用户面对的数据类型，提高数据在系统中的
通畅能力，增强工具的功能组合，系统内部采用规范化的数据类型和组织，
所有的操作结果都以系统内部的数据形式输入输出，使得结果数据可以再一
次被使用。
地理实体的信息有空间和非空间信息两大类。空间信息包括定位信息和
拓扑信息，按实体空间形态可分为点状、线状面状、三种类型，在系统工具
中按要求专门设计；非空间信息包括属性信息和概念信息，通常采用通用数
据库的数据模式，现在采用最多的是关系模型。空间数据和非空间数据通过
内部标识结合为一体。外部数据的输入形式有地图、影像、表格等，输出形
式有地图、图像、统计图表等，输入输出形式还有外部系统数据的转换。系
统工具的结构和数据流程见图8—4。
通过对地理信息系统功能的分析，得到软件工具的各种操作指令，将指
令分析、分解、简化，形成具有合适的粒度（大小）、统一格式、功能相对
单一的系统指令。系统指令设计成工具模块形式，各模块间通过接口参数采
用外部耦合或控制耦合，这样降低了软件复杂性，提高了软件紧固性，使功
能组合变得简单和高效。工具软件可以是命令模块，采用命令方式运行；也
可以是程序库，嵌入用户的主系统中。
一般微机地理信息系统工具各模块应具有以下功能：
1. 系统接口：空间信息和非空间表示方法、基本的数据存储过程。
2. 人机界面：窗口管理系统、各种菜单、提示行、对话框等。
3. 数据输入：地图数字化、图像扫描、表格录入、外部数据转换。
4. 数据管理和处理：
（1）空间数据管理和处理：
a. 管理：图幅结构定义、修改、拷贝、显示，图幅删除、改名、拷贝、
检查。
b. 编辑：空间数据增加、删除、修改，拓扑关系建立。
c. 变换：投影变换和比例尺变换。
d. 图幅操作：图幅内容添加、删除、更新。
e. 综合与加密：弧段综合、光滑，面域合并，裂隙消除。曲面重采样。
f . 提取：按属性、空间范围、拓扑关系提取数据。
g. 类型转换：栅格矢量相互转换，曲面建立、曲面分级。
（2）非空间数据管理和处理：
a. 管理：表格结构定义、修改、拷贝，表格删除、改名、拷贝。
b. 字段操作：字段修改、添加、删除、计算、生成、更新。
c. 记录操作：记录修改、添加、删除、排序。
d. 提取：按逻辑条件提取所需字段形成视图。
e. 集合操作：集合交、并、差运算。
f . 统计：统计、计数、汇总。
5. 空间分析
（1）数字地形模型：坡度、坡向、平均高程、坡长、坡面面积、体积、
粗糙度、相对高程、高程变异。
（2）缓冲带分析：
（3）叠置分析：类型叠置、数字叠置、异同分析。
（4）网络分析：最优路径选取、定位。
（5）泰森多边形分析：
（6）趋势面分析。
6. 数据输出
（1）图形输出：点位符号图、线状符号图、面状符号图、等值线图、立
体图。
（2）图像输出：
（3）统计图表：条形图、扇形图、折线图、散点图、直方图。
（4）外部数据输出。
二、微机地理信息系统软件工具中的数据组织
1. 数据类型：地理实体的信息包括空间信息和非空间信息。根据地理实
体的空间特征，可以用点、线、面、曲面等形式进行表示空间信息。在编码
时，编码方式有矢量和栅格两种。矢量方式中，点、线、面的表示是不同的，
而曲面的矢量表示数据量太大，一般微机系统中不采用矢量方式表示曲面；
而在栅格方式中，点、线、面的表示方法是一样的，而曲面的表示则与点、
线、面的表示不同。因此，微机地理信息系统工具中采用的空间数据类型有
矢量点、矢量线、矢量面、栅格平面、栅格曲面。非空间信息包括属性信息
和概念信息，表示方式有字符、数字、日期、逻辑等。地理实体的空间信息
和非空间信息采用内部标识进行连接，成为一体。空间数据管理一般由系统
自行开发，而非空间数据的管理通常采用通用关系型数据库进行管理，这样
既实现了系统功能，又减小了开发的工作量，还便于和其它系统交换数据和
共享软件。
2. 数据结构：
对矢量数据，采用点、弧段为基本存储单元。
对于点状实体，其结构为I D
、X、Y，I D为实体标识码，X、Y 为实体位
置的坐标。
对于线状实体，其结构为索引结构（图8- 5）。第一层为弧段索引，用
I D
、VP、VN
、SN
、TN
、SN
A、TN
A表示，I D为标识码，VP 为该弧段节点指针，
VN为节点个数，SN
、TN为弧段节点号，SN
A、TN
A 为该弧段在起点、终点处
相连的另一弧段号。第二层为结点坐标和节点坐标，都是用X、Y 表示。
对于面状实体，也同样采用索引结构（图8- 6）。第一层为多边形索引，
用I D
、AP、AN表示，I D为多边形标识码，AP 为弧段指针，AN为弧段个数。
第二层为边界弧段索引，用L、R、SN
、TN
、VP、VN
、LN
A、RN
A表示，L 为左
区区码，R 为右区区码，SN
、TN为起始、终止节点号，VP、VN为节点指针和
个数，LN
A、RN
A为左区和右区与该弧段相连的下一条弧段。第三层为节点坐
标。
对于栅格数据，采用两种不同的表示方式表示平面栅格和曲面栅格。
平面栅格用游程编码方式，采用索引结构（图8- 7）。每行用RP、RN表
示。RP 为一行起始游程指针，RN为游程个数。游程用游程属性标识码I D和
终止列号CO
L 表示。
曲面栅格采用二维矩阵形式，用A
（i ，j ）表示，A
（i ，j ）表示了在行
列处的曲面高度值。
对于实体属性，采用关系表进行表示，每元组用实体标识码I D和数据项
表示。通过I D码与实体空间数据连接。
3. 数据组织：在实际设计中，数据以图幅为单位（图8- 8）。图幅中空
间数据和属性数据放于图幅目录下，各级索引分别存储于各自文件中。空间
数据索引文件可以随机存取，便于在管理和分析中进行各种操作。非空间数
据可以采用B树文件，可以方便地进行随机查找、插入、删除。为了对数据
特性进行说明，每个图幅有图幅控制块，其中包含图名、图幅尺寸、图幅比
例尺、数据精度（分辨率）、图幅中实体形态等数据。非空间数据中的概念
数据存于用户的空间中，不必放于图幅目录中。
三、微机GI S 软件工具的实现
微机的性能虽然不断提高，但其配置对于微机地理信息系统的实现还是
有一定限制，这些限制表现在：
1. 运算速度：微机运算速度取决于中央处理器（CPU
）和数据总线，它对
于需要处理大量空间数据的复杂方法是很严重的限制。系统外部设备的吞吐
率也影响到系统的性能。
2. 空间资源：内存是计算机的工作区，系统运行时程序和工作数据都在
内存中进行处理，它的存取速度比硬盘高几十万倍。微机G
I S 运行时工作数
据很大，内存往往不够，可以通过内外存交换或分块装入来解决，但因此降
低了速度和增加程序的复杂程度。微机的外存对于长期存储的大量信息也是
个限制，通过对数据进行压缩来减小数据量，但增加了压缩和解码的功能和
运行时间。
3. 功能：微机性价比高，价格低廉，但性能相对也较低，如图形、图像
功能不强，外部设备功能不齐全等。
以上限制给微机G
I S 软件工具的实现带来了极大困难。因此在整个实现
过程中都要采用一些方法来尽量减少微机性能给系统性能带来的不利影响。
微机G
I S 软件工具的实现通常经过总体设计、软件设计、程序编制、软
件调试等步骤。
总体设计是G
I S 工具设计最基础最重要的工作。首先明确系统的目的，
确定系统总体结构，选择G
I S 工具的软硬件运行环境，然后确定数据类型、
数据流程以及系统工具的功能，并对功能作软硬件分配。在总体设计中常采
用面向对象的设计方法，分析系统中待表示的对象的类及其继承关系，明确
对象应具备的功能，对象功能触发所必需的消息协议（即参数形式）。规范
化的数据类型、功能的正确分解、功能的参数协议对于整个系统的实施和系
统功能都是至关重要的。软件设计将功能的实现表示成一种书面形式，这种
形式明了地描述了软件全貌，接近于源代码，有助于程序的编制，同时也是
软件维护、移植的工具。软件设计通常采用结构化设计方法。一方面自上而
下描述算法的实现过程，将算法实现描述为一系列不同层次的模块；另一方
面采用自下而上的方法建立一系列不同层次较低级的公用模块（如基本输入
输出和基本算法）。这样既满足了设计思想到程序编制的逐步接近，又提高
了效率，保证了软件质量（操作的完整性、一致性和正确性）。减少了重复
劳动。
在软件设计中，算法是一个关键，好的算法能够大大提高系统的性能。
在微机G
I S 软件工具设计中，要特别注意通过算法减少微机性能对系统性能
的影响。例如在做叠置分析时，利用边界弧段求交点就比用整个多边形边界
求交点大大地提高了效率。对于空间资源的限制，可以通过内外存切换并尽
量减少从外存转入内存的次数来提高处理能力和速度。对于功能的限制，可
以通过软件实现没有的功能，如采用颤抖（di t her）来增加屏幕色彩或灰度
以及用程序实现绘图线型。程序编制将软件设计转化为计算机程序设计语言
文档。首先要选择开发语言，选择开发语言的准则有算法和计算的复杂性、
软件执行环境、软件性能（编码、编译、调试）、数据结构复杂性、程序可
移植性、程序可读性和可维护性、对资源的控制、代码运行速度、开发人员
水平和开发时间等。对于地理信息系统软件工具，其算法复杂、程序量大、
处理的数据结构复杂多样、对资源（外设、内存等）的控制和程序执行速度
有较高的要求，同时它还要满足系统环境并具有可读性、可维护性、可移植
性。现在微机地理信息系统工具开发中多采用C语言和Pascal 语言。有时为
了增强代码功效和输入输出能力与速度，也部分采用汇编语言，所以常常用
混合语言编程。另外，工具中常常采用通用型数据库管理系统作为支持工具，
在选择时除考虑数据模型外还要选择性能好、编程方便的工具。
选择程序设计语言后即进行编码（编程序）。编码时要注意编码风格，
好的风格有利于提高程序设计效率和提高程序质量。代码文件内采用有意义
的标识符、功能注解、结构块缩进；数据说明顺序标准化；语句构造尽可能
简单直观，用一定原则指导控制结构；输入输出基本对用户不可见，能匹配
设备速度，响应时间一致并具有容错能力。
调试是发现错误、纠正错误的过程。调试采用的方法有黑箱法和白箱法。
黑箱法输入数据并测试程序输出的结果，若结果不对则程序有错误；白箱法
根据程序有目的地输入数据测试程序的某一段。调试包括分调（单元调试）
和联调（集成调试）。调试完成后将工具组装成产品形式，并写出开发文档
和使用说明，到此软件工具的开发工作已经完成。
§ 4. 微机GI S 应用系统实施过程
一、系统分析
G
I S 应用系统是一个具备硬件、软件、数据库的运行系统，它是针对某
一研究区域和研究专题建立的。应用系统的实施过程包括系统分析、系统设
计、系统实施、系统运行评价等过程。本节通过一个实际运行系统——镇江
市土地定级信息系统的实施过程来说明实施步骤。
系统分析包括需求分析、可行性分析、业务调查、系统逻辑设计等步骤。
对应用系统进行系统分析，首先应明确谁是用户，通过对用户进行需求
分析，确定系统的目的和范围、系统运行周期、成果形式以及系统应具有的
效率和水平。
可行性分析从社会、经济、技术三方面对需求和约束条件进行分析，确
定项目开展的必要性和可能性。可行性分析要考虑是否有应用部门的支持，
现有硬件功能和寿命能否支持系统运行，系统所需功能和性能在现有条件下
是否可行，系统能否和其它系统兼容，项目费用和产生的效益以及研制所需
时间，所需数据的形式、来源、可靠性和精度是否能满足要求。
通过可行性分析确定项目可以开展，然后进行总体结构方案的制定。在
此工作中要调查业务流程、数据流程，分析数据内容形式和处理方法，找出
需要改进的地方，从而设计出系统的逻辑模型，包括处理过程、信息流程、
数据内容形式、功能组成和性能要求。
最后，系统分析工作应提供系统分析报告，作为系统设计的根据。系统
分析报告内容包括需求分析、可行性分析、业务调查（业务流程、数据流程、
数据内容形式、处理方法）、系统逻辑模型（系统业务流程、数据流程、数
据内容形式、处理功能和性能要求）。
镇江市土地定级信息系统的用户为镇江市土地管理局，用户需要建立与
土地质量相关的因素的数据库并采用先进的信息系统方法对土地级别进行划
定。该工作按国家土地管理总局规定五年全面更新一次，而如果能根据实际
情况不断地对土地级别进行调整，就能够提高土地管理水平，使土地得到合
理利用，对土地有偿使用有着重要的意义。系统的目的就是建立城区土地因
素数据库，建立定级信息系统完成数据输入、处理、定级、成果输出等任务；
成果形式为定级信息系统、数据库以及定级成果（报告、图件、表格）。系
统应高效、易使用。
镇江市土地定级信息系统得到江苏省土地管理局和镇江市土地管理局的
支持，现有的AST386 已满足系统运行条件，系统采用微机地理信息系统工具
G
I SKEY 已能完成其中大部分功能，性能也满足系统要求，其它一部分欠缺的
功能采用现有技术能够解决。项目经费能够满足收集数据、开发系统的要求。
采用该系统后，除收集数据外的定级工作可从十几人工作两个月缩短到二人
工作半个月，增加了信息量，而且还具有很大的间接效益。研制时间为三个
月，其中数据采集需十天左右，软件开发需近两个月，加之系统运行得出结
果，可以在规定时间内完成。
定级数据包括定级因子图件和统计表格（30 个因子）、土地利用图、地
名图和定级模型所需的因素、因子权重表。这些数据在数据收集阶段已通过
有关单位的支持、实地调查、数据整理统计、系列图制备等工作全部具备，
其可靠性和精度满足国家土地定级规程的要求。
通过对常规城镇土地定级业务流程（图8- 9）和数据流程的分析，明确
了定级过程中的数据内容，包括原始图件、作用分值表、分值—距离表、分
值图、定级单元图、权数表、单元分值统计表、级别分值对照表、定级图、
级差收益测算表、面积统计表等。
在调查中发现，作用分值等值线勾绘、单元划分、分值计算、面积量算
等步骤需要大量的人力和精细的计算，花费大量的时间而且容易造成错误。
因此，定级信息系统采用离散型数据替代人工划分定级单元，采用地理信息
系统中扩散分析功能做作用分值等值区、数字地形模型分析地形对土地质量
的影响、栅格化做区域赋分、叠置分析做分值计算，并将其它一系列过程都
采用系统功能来完成。由此，经过设计确定系统业务流程图（图8- 10）。
系统中数据有原始采集数据、净化数据、因子分析数据、因素复合数据、
定级结果数据、面积统计数据和绘图数据。系统中空间数据按因子形态用矢
量点、线、面表示原始数据，分析采用栅格数据（平面、曲面）形式；属性
数据根据所需的数据表格项确定（表8- 7）。
表8- 7 定级系统中的数据
空间数据种类
非空间数据种类
原始采集数据
净化数据
因子分析数据
因素复合数据
定级结果数据
面积统计数据
绘图数据
点、线、面
点、线、面
曲面、栅格
栅格
栅格、面
线
因子属性表、权重表
因子属性表、权重表
分值—距离表、分级参数表、级别—分值表
总分值统计表、分值—级别对照表
面积统计表
二、系统设计
系统分析阶段工作包括系统总体设计、模块设计、实施方案制定等。
系统总体设计即在系统逻辑模型的基础上设计系统的物理模型，包括软
硬件环境、系统功能、数据库。首先根据系统的要求确定支撑系统的软硬件
环境，硬件环境包括输入、处理、输出设备的定型；软件环境包括操作系统、
数据库管理软件、微机地理信息系统软件工具和应用模型（或用户程序）的
设计语言。系统功能的设计根据系统逻辑模型的要求设计系统的功能组成、
系统组织结构、各子系统的功能和性能要求。数据库设计确定系统内信息的
表示方法、数据的组织和数据库的建立过程。
模块设计即将系统进行分解、确定实现方法、进行代码设计。系统分解
即根据系统功能间的聚合度将系统分解为粒度适当的模块，块内聚合度最
大、块间聚合度最小。然后根据系统功能和性能要求确定实现的方法，采用
工具和程序设计语言设计该模块的代码。
通过总体设计和模块设计，将任务分解，根据任务以及资源（人力、物
力）进行任务实施的安排，确定每项任务的实施人员、可利用资源、完成时
间。
根据定级工作对设备的要求，确定镇江市土地定级信息系统的硬件配置
（图8- 11）。操作系统采用D
O
S，采用数据库管理系统D
BASEⅢ和微机地理
信息系统软件工具G
I SKEY 作为开发的支持工具，
采用TU
RBO
PASCAL 作为应用
模型设计的语言。
数字化仪
主机
处理器
协处理器
内
存
硬盘
软驱
图形卡
接口
串
并
绘图机
打印机
图
定级系统硬件配置
Summagraphics A
buttom
AST
MB
MB
M
K
VGA
DMP
A
pen
AR
1 16
386
33
80386
80387
2
40
1 2
360
2
1
60
1 8
3240
8
11
(
/
)
.
+
−






















根据系统业务流程和数据流程设计系统功能组成和系统组织结构（图
8- 12）。
土地定级信息系统
数据输入
空间数据输入
表格输入
数据编辑
空间数据编辑
表格数据编辑
因子分析
空间内插分析
地形坡度分析
平均高程分析
曲面分级
引力模型
空间扩散分析
矢量栅格转换
因素复合
空间数据提取
区域赋分
数字叠置
级别划定
分值频率统计
分值分级
样点级点提取
级差收益测算
面积量算——面积量算
成果输出
栅格矢量转换
图形文件建立
注记文件建立
绘图文件输出
屏幕图形显示
表格打印
图














































































−
8
12
定级系统功能组成和结构
系统中的数据包括各阶段工作的数据，按其形式可分为空间数据和非空
间数据。空间数据采用微机地理信息系统工具G
I SKEY 中的表示方法，非空间
数据采用D
BASEⅢ的表示方法，其内容分别为各表格中的数据项。数据组织
采用目录树型结构，按工作阶段、数据内容、对象特征分为三层（图8- 13）
。
数据库的建立分为底图标描、表格整理、数据库结构定义、表格录入、图形
数字化、表格编辑、图形编辑等过程。
系统数据库
原始及净化数据
因子数据
因素权重表
分级参数表
级别参数表
因子分析数据
分值距离表
因子分析数据
复合数据——因素复合数据
定级结果数据
总分频率统计表
分值级别对照表
样点数据
收益统计表
级差收益测算表
定级数据
面积统计数据
土地级别面积表
要素复合面积表
绘图数据
图形文件
注记文件
图
系统数据组织



















































−
8
13
系统采用微机地理信息系统工具，因此模块分解基本按照工具中的模
块，工具库中设有的应用程序相对简单。如果没有工具支持，则要按照软件
工具设计中的方法进行分解。各模块采用嵌入方式合并到系统中。
在实施方案的制定中将任务分解为数据采集编辑、软件编制、系统组装、
试运行和测试，并根据人力、物力、时间作了任务进度安排（表8- 8）。
表8- 8 实施任务进度安排
任务
时间（天）
10
20
30
40
50
60
数据采集
数据编辑
输入输出软件编制
分析软件编制
系统组装
试运行
三、系统实施
系统实施是指根据系统设计将物理模型转化为实际系统，其工作包括硬
件配置、软件编制、数据准备、人员培训、系统组装、试运行和测试，最后
交付使用。系统实施过程中要进行实施组织，实施管理小组负责整个系统实
施的进度、质量管理。
根据镇江城市土地定级信息系统的设计，在原有主机和打印机的基础上
购置了数字化仪和绘图机，将外部设备通过串并口与主机相联结。在软件编
制中，首先建立输入输出接口模块、然后编制应用模型（如引力模型），最
后将微机地理信息系统软件工具、应用模型采用嵌入方式组织成各功能模
块。在硬件配置完成后即进行数据准备工作，组织人员采集、编辑数据，完
成原始数据入库的工作。在此同时进行用户人员培训，掌握数据输入输出、
分析的工作方法。
在以上工作完成后，将整个系统进行组装，把数据、程序都按系统设计
组织起来。使用采集的定级数据对系统进行试运行和测试，对系统不足之处
进行改进，最后得出定级结果，系统即可交付使用。
第九章  地理信息系统的应用
地理信息系统具有综合的性质，使其在许多方面得到广泛的应用。例如
信息的查询与检索、空间数据的统计分析、区域地理综合研究与评价、环境
动态监测与预报，以及区域的开发、管理、规划与决策。所有这些应用要通
过系统所具有的多目标的数据库、分析软件和应用模型来实现。但是，地理
信息系统在每个领域的应用是与地理信息系统本身的特点有关的。在地理信
息系统工具支持下，研制和建立应用系统通常有三种方式：第一，单纯地应
用地理信息系统工具，进行地理信息输入、管理和输出，并在用户工具系统
支持下完成应用任务；第二，在地理信息系统工具的基础上进行扩充和开发，
通过地理信息系统工具提供的系统模型输入输出函数和功能调用函数，结合
自行设计的专题分析模型开发应用程序，通过程序入口与地理信息系统工具
结合为应用系统；第三，将地理信息系统工具软件作为原功能重新组织，在
充分了解数据结构的基础上，开发由底层到高层的应用系统，设计实用的应
用界面，形成高水平的G
I S 应用系统。第三种方式比较适合应用于生产部门
和管理部门，第一、第二种方式则常为教学和科研部门所采用。分布式微机
地理信息系统的应用，也在逐步完善之中。
为了了解以计算机为中心的地理信息系统技术如何在有关领域加以应
用，下面列举一些具体应用实例，既提供地理信息系统应用的一些数学模型，
也展示一下地理信息系统技术与某些产品类型相结合的应用前景与潜力。在
地理信息系统教学中，可根据教学对象的要求和课时安排，选择部分内容进
行讲授。
§ 1. 城市环境信息系统
由武晓波、周芒、阎守邕研制的城市环境信息系统（U
EI S）是一个空间
型的环境信息系统，它以城市区域生态系统为基础，把人口、资源、经济及
环境等有关数据，按其空间位置或地理坐标输入计算机，进行存贮更新、查
询检索、模型分析、显示、打印及绘图输出。该系统以“ 人口—资源—经济
—环境” 区域综合体为对象，深入研究它们内部和彼此之间的相互关系与变
化规律，为城市区域环境管理提供了一种现代化的技术手段。在人类环境意
识日益增强，要求改善人类的生态环境的呼声日渐高涨的今天，特别是我国
目前正在进行工业化、现代化建设，避免或尽量减少对环境的污染就显得尤
为重要和迫切。城市环境信息系统的宗旨就是推动城市环境规划、管理和决
策水平的不断提高，促进城市区域经济发展，实现社会、经济和环境效益的
高度统一。
一、系统目标
U
EI S 具体设计目标是：
1. 完成日常城市环境规划、管理、决策及科学研究所需数据的存贮更新、
查询检索、统计分析和制图制表等任务，不断提高工作效率，改善服务质量；
2. 利用常规环境监测和调查等数据，完成以排污总量控制为目标的各项
工作。如污染源及环境质量的现状评价、发展预测以及环境模拟与规划等；
3. 利用遥感数据，完成对城市生态变化监测与评价的有关工作，如城市
生态遥感制图、城市用地结构、空间质量及社会环境评价。
二、系统总体结构和界面菜单设计
在系统分析的基础上，结合目前具体开发条件，确定U
EI S 的总体结构如
图9- 1 所示。
图9- 1 清楚直观地表明U
EI S 是一个以数据为基础、
应用模型为主体的空
间信息系统。同时也反映了在软件构成中的一个特点，就是它充分利用已有
的软件工具G
RAM
S 与各种环境数据库系统。这一方面避免了大量的重复性工
作，使系统在较短的时间内就能运行；另一方面提供了使用的方便，使已经
输入在各种环境数据库中的数据，在不作任何改动的情况下即可进入U
EI S
使用。
在U
EI S 中，用户界面设计为灵活的菜单形式，共分4 级。一级菜单是一
个条形菜单，它是系统名称、版本号及研制单位，出现在进入系统后的第一
个画面上；二级菜单是一个位于屏幕顶部的条形菜单，三级菜单是一个相应
二级菜单项下的弹出式菜单。三级菜单不占用屏幕有效空间，在用户作出选
择后，可恢复原来的屏幕内容。二、三级菜单如图9- 2 所示。四级菜单是一
个弹出式窗口，右边与下边加黑色阴影，以增强立体感，见图9- 3。
三、数据组织
原始数据来源不同，常常是结构复杂，自成体系，必须经过分析整理，
进行有效地组织，才能为系统所用。
（一）数据来源
系统的基础数据包括区域背景、环境信息与辅助信息三大类。区域背景
数据包括基础底图、行政区划图、土地利用图以及城市规划图等。它们部分
由遥感影像解译获得，部分由唐山市环境保护所提供。使用的遥感影像有
1986 年唐山幅1∶10 万SPO
T 多波段彩色合成图像与1988 年11 月8 日1∶5
万唐山市区彩色红外航空像片。
环境数据包括环境背景值、污染源、环境监测、污染效应、环境管理、
环境标准、环境统计等，由唐山市环境保护所提供。
辅助信息包括人口、经济、水文与气象等数据。来源于历年《唐山市国
民经济统计资料》、《第三次人口普查手工汇总资料汇编》和《中国地面气
候资料· 华北分册》等。
（二）数据类型及结构
原始数据经过预处理，变成系统基础数据，由关系数据库FO
XBASE 进行
管理，在U
EI S 中，系统基础数据被分门别类组织在数据库文件中，这些数据
主要是字符型和数字型的，还有少量日期型的数据，它们的结构各不相同。
下面是ESI G
. D
BF 文件的数据结构，其中包括字符型、数字型数据。
数据库的结构：D
：\TS\D
BF\ESI G
. D
BF
数据记录数：112
最后更新的日期：11/20/90。
表9- 1ESI G. DBF 文件的数据结构
字段
字段名
类型
宽度
小数
字段
字段名
类型
宽度
小数
1
W
S1
Char act er 20
18
W
S18
N
um
eri c
3
2
W
S2
N
um
eri c
10
19
W
S19
N
um
eri c
8
1
3
W
S3
N
um
eri c
8
2
20
W
S20
Char acter
20
4
W
S4
N
um
eri c
8
2
21
W
S21
N
um
eri c
20
5
W
S5
N
um
eri c
8
2
22
W
S22
N
um
eri c
4
1
6
W
S6
N
um
eri c
8
2
23
W
S23
N
um
eri c
8
1
7
W
S7
Char act er 20
24
W
S24
N
um
eri c
8
1
8
W
S8
N
um
eri c
2
25
W
S25
N
um
eri c
8
1
9
W
S9
Char act er 20
26
W
S26
N
um
eri c
9
1
10
W
S10
N
um
eri c
3
27
W
S27
N
um
eri c
3
11
W
S11
N
um
eri c
8
4
28
W
S28
N
um
eri c
6
3
12
W
S12
N
um
eri c
7
4
29
W
S29
N
um
eri c
7
3
13
W
S13
N
um
eri c
8
30
W
S30
N
um
eri c
6
3
14
W
S14
N
um
eri c
8
4
31
W
S31
N
um
eri c
7
2
15
W
S15
N
um
eri c
3
32
W
S32
N
um
eri c
7
2
16
W
S16
N
um
eri c
2
33
W
S33
N
um
eri c
7
17
W
S17
N
um
eri c
3
1
34
W
S34
N
um
eri c
1
（三）数据文件组织
进入系统的基础数据主要有属性数据、图形数据和图像数据三大类。属
性数据以D
BF 文件的形式存放，
由关系数据库FO
XBASE 管理。
图形数据以VEC
的形式存放，由系统管理。
四、应用模型
应用模型是系统的中心所在，其它一切都是应用模型的辅助。TSEM
I S 中
共有大气现状评价、大气质量预测与大气环境规划三个应用模型。
（一）大气环境质量评价模型
大气环境的质量评价过程，可分为五个步骤，即建立扩散计算模型、评
价区域网格划分、扩散计算、与国家标准对比和结果输出（图9- 4）。
1. 扩散计算模型：大气污染源按其排放口高度可分为高架点源和面源两
类。排放高度在40 米以上的划分为高架点源，否则为面源。
（1）连续点源模型：大气污染扩散与风速有极大关系，按风速，连续点
源扩散模式又分为有风、小风和静风模型三种。
（a）有风扩散模型：在风向较为一致，风速大于1m
/s 的情况下，风向
风速可近似看作不变，污染物随气流方向向下风扩散，每个污染源造成的大
气污染浓度分布采用连续点源的高斯公式计算。取x 轴为平均风向，y 轴为
横截风向，污染源作为坐标原点，见图9- 5。
某一污染源下风方坐标（x，y）点的浓度值可表示为：
C x y
Q
y
H
i
i
y
z
i
y
z
( , , )
exp[ (
)]
0
2
2
2
2
2
2
=
−
+
πσ σ µ
σ
σ
（
）
9 -1
考虑到污染物在传输过程中的衰减，增加了衰减项，（9- 1）式变为
C x y
Q
y
H
i
i
y
z
i
y
z
( , , )
exp(
)exp[ (
)]
(
)
0
1
2
2
9
2
2
2
2
2
=
−
−
+
−
πσ σ µ
τ
σ
σ
式中，
Q
i 为某排放源源强
（m
g/s）
；
μ i 为排放源烟囱口高度处平均风速
（m
/s）
；
σ y、
σ z 分别为横截风向和垂直方向的大气扩散参数；
H为烟囱有效高度
（m
）
；
τ 为污染物在扩散过程中的转化系数。
若地面有N个连续点源，则坐标（x，y）点的浓度值为：
C x y
Q
r
R
r
H
H
r
R
r
H
( , , )
( )
exp[
]
0
2
8
1
2
1
1
2
2
2
2
2
2
2
2
2
2
2
2
=
+
−−
+
π
π
σ
µ
σ
·
·
·
·
（
）
9 - 4
（b）小风扩散模型：当风速大于0. 4m
/s，小于1m
/s 时，坐标（x，y）
点的污染物浓度值按下式计算：
（c）无风扩散模型：当风速小于0. 4m
/s 时，坐标（x，y）点的污染物
浓度值按烟囱扩散模型计算：
C R
Q
r
r R
a H
R
a
H
r
T
( )
(
)
exp[
]
/
=
+
−
+
2
2
2
2 3
2
2
2
2
2
2
2
2
2
π
·
·
（
）
9 -5
）
（9- 4）、
（9- 5）式中C
（x，
y，0）、C
（R）为污染物近地面浓度（m
g/m
3）
；
（x，y）为计算点坐标（以污染源中心为原点）；Q 为点源源强；μ 为排气
筒出口处风速（m
/s）；H为排气筒有效高度（m
）；a 为水平方向静风扩散系
统；γ 为垂直方向静风扩散系数；T 为烟羽运行时间（s）；R 为污染源到计
算点的水平距离。
（2）面源扩散模型：面源模型有许多模式，计算较为简便且应用广泛的
是G
i f f ordt  H
anna 提出的大气湍流与实验模式（简称ATD
L 模式），本系统
采用有面源高度的ATD
L 模式，这个模型采用高斯模型的积分形式，把城市污
染源分布划分成许多箱排列的面源，并假设源强在每处箱体中分布均匀，则
计算点的浓度公式可为
C x y
Q
y
H
dxdy
i
y
z
y
( , , )
[ (
)]
0
2
2
2
2
2
2
2
0
=
−
+
−∞
∞
∞∫
∫
πµσ σ
σ
σ
（
）
9 - 6
假设污染烟云遵循窄烟云分布，可去掉公式中对变量y 的依赖关系，则（9-
6）式可表示为：
C x
u
Q
dx
H
a x
Q
ax
H
a x
dx
D
ax
H
a x
dx
D
ax
H
b
b
j
b
b
j
L
j
L
i
N
L
b
b
H
j
b
Z
( , )
( )
{
exp[
]
exp[
]}
(
)
( )
exp[
]
( )
exp[
/
(
)
(
)
/
/
/
0
2
1
1
2
1
2
9
7
2
1
2
2
1
2
1 2
0
2
2
2
2
2
2
1
2
1
2
1
0
2
0
1 2
2
2
2
0
1 2
2
=
−
+
−
−
=
−
=
−
−
+
=
∫
∑
∫
∫
π
π
π
令
a x
dx
b
j
L
j
L
2
2
1
2
1
2
]
(
)
(
)
−
+
∫
式中C（x，0）为计算点地面浓度值（m
g/m
3）；Q
0为计算点所在网格的
源强值（
）；
为计算点上风向第个网格的源强值（
）；
mg / m
Q
j
mg / m
2
j
2
µ
为实测平均风速值（m
/s）；a、b 为扩散参数σ z 的待定系数；L 为网格的边
长（m
）。小风和无风时，风向不固定，污染物以湍流方式扩散，向四面八方
均匀展开，仍采用（9- 8）式计算（x，y）点浓度，风速取0. 4m
/s，浓度取
所得结果的1/16。
2. 长期平均浓度计算模型：
（1）
长期点源排放扩散模型：
假设污染物的扩散在污染源的下风方22. 5
° 范围内均匀分布，则长期平均浓度计算公式为：
C
f Q
x
h
ik
zj
j
jk
zj
k
=
−
−
=
= ∑
∑
2
8
1
2
9
9
1
4
2
1
7
π
µσ
π
σ
· [
(
) ]
(
)
式中为某方位距离源处的年、季长期平均浓度值（
）；为
C
x
mg / m
Q
3
平均源强（m
g/s）；j 为大气稳定度类别；k 为风速大小类别；f j k 为出现j
类稳定度、k 类风速的频率；H
j k 为j 类稳定度、k 类风速时烟囱的有效高度
（m
）；σ zj 为j 类稳定度的垂直扩散参数；μ k 为k 类平均风速值（m
/s）。
（2）长期平均面源排放扩散地面浓度公式：仍采用前面介绍的面源公式
的格式，其假设条件不变，用长期平均风向、风速和大气稳定度频率乘以某
频率下的污染物浓度，然后累加即获得长期年、季平均浓度值，计算公式：
C
f
D Q
D Q
ijk
ik
k
m
m
m
m
j
i
=
+
−
=
=
=
=
∑
∑
∑
∑
µ
1
7
0
0
1
1
4
1
17
9
10
[
]
(
)
式中i k 为风向类别为i ，风速类别为k 的平均风速（m
/s）；D
0，D
m为面源污
染物扩散系数，与（9－8）中的D
0，D
j 相同；Q
0，Q
m为某风向网格平均源强
（m
g/s· m
2），与（9－8）式中Q
0，Q
j 意义相同。
大气扩散的具体计算过程见图9－6。
（二）大气环境预测及规划模型
U
EI S 中大气环境预测及规划过程遵循图9－7 所示过程。
1. 大气环境预测模型：
U
EI S 中主要进行大气污染物排放的预测，
从图9- 7
可以看出，它是进行大气环境规划所必需的一个步骤。污染物排放量的预测
方法如下：
第一步，人口与生活能源消耗预测。根据人口规划预测，唐山市中心区
到2000 年将达60 万人左右，居民燃煤量将达到61. 2× 104t 。
第二步，产值与工业能源消耗预测。
产值按下式计算：
U
n＝U
b× （1＋m
）n    （9- 11）
式中U
n 为规划年产值；U
b 为基准年产值；m为工业产值递增率；n 为规划年
数。
工业能源消耗按下式计算：
W
n＝W
b× （1- E）n    （9- 12）
式中W
n 为规划年能源消耗量；W
b 为基准年能源消耗量；E 为能耗下降量；n
为规划年数。
第三步，污染物排放量预测。某格网中污染物的排放量按下式计算：
Q
K K G
n =
−
1
2
3
30
24
10
9
13
×
×
(
)
式中Q
n 为某网格中某污染物的排放量（kg/h）；K1 为某污染物的排放系数；
K2为日不均匀系数；G为某网格中月耗煤量平均值（吨/月）。
2. 大气环境规划模型：大气环境规划主要有三个步骤，即污染物削减量
计算、运用规划模型进行规划计算以及规划合理评价。其中污染物削减量计
算是最重要的一环，它的准确与否直接影响到规划结果。下面重点讨论污染
物削减量的计算。
（1）点源允许排放量计算：根据国家颁布的
《制定地方大气污染物排放
标准的技术原则和方法》，点源允许排放量按下式计算：
q 允=P× 10－6× H
e    （9－14）
式中q 允为污染物允许排放量；P 为排放标准（或称排放当量）；H
e为排气筒
有效高度。
排放指标P 按下式计算：
P=P0P1P2P3P4    （9- 15）
式中
P0=15. 37*C*U
    （9- 16）
式中C为规划大气环境质量标准：U为烟囱高度处的风速。
P1为横向稀释系数，因城市远郊区及农村按省区不同而取6. 5 或7. 5，
城区为5. 5。
P2为风方位系数，农村和城区为1，城市远郊区按下式计算：
P
f
u
u f
i
i
i
2
10
10 10
1
16
0 75
9
17
=
+
−
−
(
.
)
(
)
µ
式中i 为方位标号；f i 为风向落在i 方位内的频率；f 0为静风频率；ui 为风
向在i 方位的平均风速；u10为10 米高的平均风速。
P3为烟囱密集系数：
P
P
x
3
1
1
2
2
1
1
9
18
=
+
−
−
ϕ
ϕ
[
(
) ]
(
)
Δ
ϕ1=（1- Ps1）Ps2    （9- 19）
式中Ps1为面源污染分担率，按表9- 2 取值；Ps2为区域污染分担率，按表9
－取值；△
为排气筒平均间距，为排气筒数目，为城区中某一
2
x =
s
m
m
s
区域面积（m
2）；ϕ2暂按60m取值。
表9- 2    Ps 1、Ps 2 取值表
区域
性质
工厂主要分布
在城市远郊区
的城区
区域界限不
明显，间有工
厂的城区
区域界限较明显
的城区
与工业区不直接
相邻的其它区
城区中的
工业区
与工业区直接
相邻的其它区
0. 55
0. 95
0. 45
0. 95
0. 65
0. 80
0. 65
0. 85
Ps1
Ps2
0. 70
0. 90
P4为技术经济调节系数，根据唐山具体情况和研究结果，P4按表9- 3 取值。
表9- 3    P4 取值表
类型
新建、扩建、改建、引进大型企业
大中型企业
小型企业
P4
0. 9
1
1. 2
（2）面源允许排放量的计算：面源允许排放量按下式计算：
q = P
10
s
9 - 20
3
6
×
×
（
）
－
式中q 为面源总允许排放量；P3为面源总允许排放指标：
P3=Ps0· Ps1· Ps2· Ps3    （9- 21）
Ps0=9U
10· c    （9- 22）
U
10为距地面10· m高度处风速（m
/s）；c 为规划大气环境质量标准；Ps1为
面源污染分担率，按表取值；Ps2 为区域污染分担率，按表取值；Ps3 为区内
排放源之间的调节系数。
（3）削减量计算：
（a）点源削减量：
△q＝q 实- q 允    （9－23）
式中q 实为实际排放量，这里为预测排放量；q 允为允许排放量。
（b）面源削减量：
式中q 实为面源总实际排放量，这里为预测值；q 允为面源总允许排放量。
式中qi 为第i 类排放源实际排放当量（t /h· m
2）；qi 为第i 类源实际排放
量（t /h）；B
i 为第i 类源的高度参数，可根据该类排放源的平均高度和城区
特征X 查表9- 4 求得：
X
9- 27
＝
（
）
s1 2
/
π
S 为区域面积。
B
i ＝aH
- b    （9- 28）
表9- 4 排放高度参数B 的系数及指数取值表
4 — 20
21 — 40
X （m）
2000
2500
3500
4500
5000
6000
7500
10000
a
323. 59
323. 59
309. 03
316. 23
331. 13
331. 13
363. 08
371. 54
b
0. 57
0. 54
0. 46
0. 44
0. 44
0. 44
0. 42
0. 40
a
1096. 50
831. 76
741. 31
707. 95
660. 69
660. 69
616. 60
562. 34
b
0. 980
0. 854
0. 750
0. 710
0. 670
0. 670
0. 600
0. 540
（c）总污染物削减量：总污染物削减量为点源削减量与面源削减量之
和：
（4）规划方法：根据污染物削减量，运用适当的数学规划方法，即可得
出一个污染治理投资方案。在本系统中采用的是较成熟的线性规划方法——
单纯形法。得出的投资方案与投资数量比较，如无缺口，则是一个可行的治
理方案。否则为不可行的治理方案。改变规划条件重新进行规划，直至得到
可行的治理方案。
（三）城市生态评价模型
U
EI S 中包括城市用地结构、空间质量及社会环境三个评价模型。
用地合理性评价模型，从宏观上评价城市用地规模及土地利用水平。它
采用统计分析方法进行评价，结果用表格和相应的图件表示。具体评价过程
见图9- 8。
城市空间质量评价用空间质量综合指数法进行，选取了路网密度、人均
绿地面积、人均居住面积、废弃物堆放面积、道路面积率、绿化覆盖率、居
住密度及废弃物占地率八个因子。它有助于从综合的观点研究城市空间，为
城市发展规划的改进提供依据。
城市社会环境评价是从居民的角度评定社会环境。它采用模糊数学方法
进行，选择了绿化程度、基础设施、社会服务、环境污染及人口状况五个方
面的15 个评价因子。这些因子包括人均绿地面积、居住区绿化比、人均住宅
面积、路网密度、距火车站距离、商业面积率、中小学面积率、幼托面积率、
医院面积率、文娱面积率、万元产值工业废水排放量、万元产值工业废气排
放量、区域环境噪声平均值、渣堆面积率和人口密度。评价结果可用图表给
出，它反映了城市建设发展和社会需求之间的关系，是城市建设或改造规划
方案制定的重要依据。
五、系统功能与技术特点
U
EI S 充分利用了地理信息系统软件工具G
RAM
S和现有的多种环境数据软
件，使它具备了完善的环境管理功能，如图9- 9 所示。
（一）环境数据库
U
EI S 的环境数据库功能除包括现有的环境监测、环境统计、污染源调查
数据库的所有功能外，还提供一个通用的数据库查询工具。在使用这个工具
时，用户除了在数据库中字段名或主体名称为缩写、代码等不易直接理解其
含义，需要建立一个与其中文全称相对应的对照表外，所要做的仅仅是移动
选择光标，系统就可以灵便地实现任意字段或记录、任意字段和或记录组合
以及同时不超过三个数字型字段的数值范围的查询检索，并提供检出结果具
有移屏和换屏特点的列表显示。
（二）环境分析
1. 环境评价：
U
EI S 的环境评价功能包括工业污染源评价与大气环境质量
评价。大气环境质量评价分功能区进行，以实际监测数据用环境质量综合指
数法计算，给出一张全市环境质量等级分布图与相应结果的数据、表格。
工业污染源评价使用等标污染负荷法进行计算，得出全市的主要污染
源、主要污染物及主要污染行业等，并将结果以图表形式给出。
2. 环境预测：环境预测功能主要包括大气与尘的扩散计算功能。在计算
中U
EI S 提供了任意划分网格、全区域选择计算功能，给用户提供了较大的方
便。在扩散计算中又分瞬时浓度值与长期平均浓度计算两种。计算结果可以
用等值线形式和三维图形方式给出。
3. 环境规划：是在计算出污染物的总削减量与削减率之后，用线性规划
方法进行优化计算，给出规划图及优化结果表。
（三）生态遥感
生态遥感中的图像处理及目视人机交互判读功能可参看G
RAM
S 的技术手
册。生态环境评价采用了统计与模糊数学的方法，最后可给出评价图和表格。
环境制图可参考G
RAM
S 技术手册的输入编辑与整饰输出部分的内容。
（四）技术特点
城市环境信息系统具有以下技术特点：
1. U
EI S 在G
RAM
S 支持下，结构合理，功能齐全，性能良好，能满足城市
环境管理与城市生态评价等方面的要求，是一个以城市生态为主要对象的多
功能多目标的G
I S 应用系统。
2. U
EI S 充分注意了和各城市已建环境统计、环境监测及污染源调查数据
库系统的衔接，同时还向用户提供了一个十分方便和灵活的通用查询检索工
具，使已有数据库的数据文件得以有效利用。
3. U
EI S 在二维空间或以地图为基础的情况下，实现了城市环境评价、预
测和规划模型的计算，结果显示与制图具有形象直观的特点。与此同时，这
些模型计算在数据库的支持下，其自动化程度和动态性有明显的提高。
4. U
EI S 通过G
RAM
S 的有关模块，把遥感数据及遥感系列制图列入城市环
境与城市生态领域，为固体废弃物的调查、城市生态系列制图与评价，以及
它们动态变化的监测等任务，提供了一种高效、准确的先进技术手段。
5. U
EI S 有一个对用户十分友好的界面。系统采用弹出式的中文菜单，并
有详细、直观的中文和图形提示信息，增加了系统的透明度。在它们的引导
下，用户仅需移动选择光标，回答必要的问题，就可以完成相应的运行任务
或操作，取得需要的结果。这些对非计算机出身的或对计算机不熟悉的用户
来说，显得十分方便。
从系统的功能看，U
EI S 在以下方面还需要不断发展和完善：①图形图像
的扫描输入；②图形与属性的相互查询及空间查询；③水、固体废弃物、噪
声等环境模型；④三维图形显示、绘制、促进系统向三维及多维转化；⑤环
境数据库功能的完善。
§ 2. 上海市人口地理信息系统
由张超、祝俊明研制的上海市人口地理信息系统（SPG
I S），是以上海市
人口普查资料、人口时间序列资料、产业分布基础资料、住房资料以及遥感
土地利用资料等作为基本信息源，以最小行政统计单元街道和乡镇为基础，
利用国际上先进的G
I S 软件PCARC/I N
FO
，并结合其它一些分析软件和模型，
使系统具有较强的数据存贮更新、查询检索、统计分析、制图制表等功能，
为城市人口地理学研究和城市规划决策提供了科学依据。
一、设计目标
（一）提供城市人口分布、人口增长、人口与产业发展、人口与住房、
人口与土地利用以及与人口有关的社会经济指标的基础资料与图件；
（二）对城市人口分布变化、居住区变动、城市化的空间过程、人口与
产业发展、人口与土地利用的相互关系进行系统研究；
（三）预测、预报和规划未来人口的发展，为制定人口发展政策和城市
规划提供决策信息。
二、建立过程
根据需要与可能，在调查有关上海市人口、社会经济、土地利用有关资
料进行系统分析的基础上，以PCARC/I N
FO软件为主体，结合数据库管理系统
软件FO
XBASE 和其它有关模型软件，建立起功能全面，使用简单并可进一步
开发的上海市人口地理信息系统。系统的建立过程如图9- 10 所示。
（一）硬件、软件资源分析
1. 硬件资源分析：本项研究中所应用的硬件主要包括：
（1）主机：香港金山公司386 微机一台，内存4 兆，硬盘容量120 兆，
时钟频率33 兆H
z，5 英寸、3 英寸高密度软盘驱动器各一个，并配有TVG
A
卡。
在工作过程中还使用过AST386 微机一台、
Com
pap386 微机一台、
东海386
微机一台，这些微机功能大致与金山386 相当。
（2）图形数字化仪：H
I PAD
PLU
STM数字化仪一台，A4 幅面，数字化游标
为4 键。KU
RTA数字化仪一台，A3 幅面，数字化游标亦为4 键。Cal Com
p9000
数字化仪一台，A0 幅面，数字化游标为16 键。
（3）打印机：O
KI 8360 打印机一台，O
KI 391 打印机一台，EPSO
N
FX、RX
系列打印机2 台。
（4）绘图仪：Rol andXY980 八笔绘图仪一台，A3 幅面。
2. 软件组成：本系统以PCARC/I N
FO为主体，主要用于对空间数据进行维
护与操作（包括数字化、编辑、建立拓扑结构、空间操作和地图输出等）。
属性数据的输入与管理主要采用FO
XBASE；分析软件主要包括M
i ni t ab、SX
统计分析软件及自行编译的BASI C 和FO
RTRAN
77 编制的模型分析程序：
Lot us- 1- 2- 3、Q
PRO
、FO
XG
RAPH 等软件主要用来进行坐标图和统计图的绘制
和报表文件输出。
由于PCARC/I N
FO可与ATLASG
RAPH
I CS 统计地图软件进行数
据转换，所以数据化过程可采用M
APED
I T 和AU
TO
CAD软件，然后和ARC/I N
FO
进行转换，一些地图的绘制也可采用ATLASG
RAPH
I CS。系统的软件构成如图
9- 11 所示。
（二）信息源与数据预处理
由于本系统需对上海市内人口分布、城市化和产业发展、城市住房和土
地利用的结构进行研究，城市化过程包括中心城区的扩展、城市工业的扩散
以及郊县城镇的发展（表现为农村人口向城镇的集聚），所以本系统的研究
范围为上海市整个大城市区，即包括市区和郊区。
1. 信息源选取：为了研究人口空间变化的过程，从上海市公安局户政处
和上海市计划生育委员会收集到上海市1970—1990 年各街道、
各乡镇户籍统
计资料，包括总人口数、出生数和死亡数，由于行政区划不断变动，人口按
行政区统计，所以必须搜集行政区划变动资料。特别是几次大的变动，如上
海市1971 年1∶100000 政区图，1979 年1∶75000 地图、市区1982、1984、
1989 年行政区划图以及相应的郊县行政区划图，比例尺分别为1∶155000 和
1∶425000。为了准确量算市区各街道面积的变动，又收集到1984 年市区行
政区划图，比例尺为1∶20000。
由于户籍登记统计资料只统计上海市在户人口，而对无户口登记的人没
有统计。所以除了户籍资料外，又收集到上海市第三次和第四次人口普查的
资料，作为户籍资料的补充。这些资料包括人口的自然、社会经济构成如性
别、年龄、职业、行业、文化程度、婚姻状况、家庭构成、不在业状况等。
共377 个街道和乡镇。为了研究人口增长与产业发展的关系，还收集了上海
市工业分布1987 和1990 年的资料。
为了研究人口分布与住房、土地利用的关系，搜集到了华东师范大学根
据上海市1988 年11 月对上海市区的航空像片解译的上海市中心城土地利用
现状图，比例尺为1∶10000，共14 幅图，土地类型共计42 种。此外还有82
年上海市第三次住房调查资料，包括市区各类住房及各类居住面积的户数、
人口数和面积，共120 个街道。
2. 数据预处理：数据预处理主要包括地图数据和属性数据的规范化和标
准化。
（1）属性数据的标准化：由于人口户籍统计资料共有21 年，在这些年
中，行政区划、街道和乡镇名称和排列顺序发生了很大变化。再者为了便于
人口各方面分析的一致，便于进行对比、连接和图形显示。因此各类数据在
输入以前，应按照行政单元统一编号，同时修改手抄资料的错误，查缺补漏。
（2）图片的标准化：是为图形数字化作准备的，因为高质量的地图能减
少数字化后的工作，省时省工。首先将所需图片转绘到不易变形的聚脂薄膜
上，这一过程既纠正原图上的错误，又要确保所绘特征符合各种制图标准，
点、线与原图一致，并且位置准确，连接点清晰、确切。
（三）地图数字化和图形拼接
地图数字化选择了三张行政区划图，即1984 年上海市行政区划图（1∶
10000）、1984 年上海郊县行政区划图（1∶425000）、1989 年上海市市区行
政区划图
（1∶155000）
。
对于其它年份行政区划的变动可以这三张图为基础，
进行修改。
数字化过程首先把地图上已知坐标的明确地物作为控制点，每幅图选4
—9 个控制点，
随后将点、
线、
面各要素分别输入计算机，
得到一个Coverage，
然后建立拓扑结构，修改数字化错误，重建拓扑结构，直到没有错误为止。
图形拼接的过程如下：首先将相邻图幅的对应控制点进行配准，以其中
一幅图为基准，转换另一幅图。为此专门建立了一个BASI C文件进行控制点
转换，随后进行相邻图幅对应属性要素配准，最后将相邻图幅拼接起来，建
立拓扑结构，形成一张完整的图片。
（四）要素属性追加与数据库管理
在ARCED
I T 中追加各Coverage 所需的要素属性，
如在上海市行政区划图
中弧段属性文件中加入行政边界类型，共分三种，即省界、区县边界和街道、
乡镇边界。在多边形属性文件中加入各街道、乡名称或代码、人口数、工业
状况等数据项。
在土地利用图中加各种土地类型。
这种操作是在输完一个Coverage 后就
进行的，然后再拼接成一张完整的土地利用图。
对于属性数据的加入，是通过FO
XBASE 数据库系统进行的。因为属性数
据，包括1970—1990 年户籍统计资料，人口普查资料和住房资料，工业分布
资料以及手工得到的土地利用资料，
都是以行政单元进行统计的。
在FO
XBASE
状态下，按照行政单元代码建立数据库，便于操作和编辑，可以很方便地实
现数据库的连接，最后按照标准格式与ARC/I N
FO系统进行转换，实现图形属
性数据的追加。
在FO
XBASE 状态下，建立了上海市1970—1990 年户籍统计数据库，上海
市1982 年人口普查数据库，上海市1987、1990 工业状况数据库和上海市中
心城土地利用数据库。这些库的数据容量达十万之多。
（五）空间操作、统计和模型分析
空间分析主要包括Coverage 的更新、特征提取和合并、图形叠加、空间
连接和建立缓冲区等。这里主要利用了图形叠加分析来估计行政区划变动前
后的人口变化，用行政区划图和土地利用图叠加，得到各街道土地利用的状
况。还可根据需要选取住房、商业和工业用地等进行特征提取与显示，把一
些相近土地类型进行合并。利用缓冲区分析，把城市从市中心开始分成一个
一个同心环，在此基础上分析比较环内人口、产业和土地利用的特征与变化。
另外，
还可利用PCARC/I N
FO分别提取各类属性要素，
如人口密度、
工业密度、
人口增长指数、各类住房用地分布等进行各类图形的显示与绘制。
模型和统计主要是根据Coverage 的属性数据来进行的，
如根据各种统计
方法对人口社会经济数据进行统计。
这一过程主要是通过把PCARC/I N
FO中的
属性数据文件，转换到一些软件如M
i ni t ab、
SX 和自行用FO
R- TRAN
77、
BASI C
编制的程序来进行分析的，分析内容主要包括人口分布及动态变化，人口增
长与产业扩散、人口分布与土地利用空间结构分析、人口在空间的迁移等。
（六）成果输出
这一过程主要是把上述空间分析和模型分析的结果，从屏幕、打印机和
绘图仪上输出，包括各类地图，如行政图、人口密度图、人口增长指数图、
工业密度图、工业职工密度图、工业产值密度图、工业利润密度图、工业增
长指数图、人口各类构成图（主要是人口普查的各项社会经济指标）、住房
分布图、工业分布图、商业分布图、人口居住空间结构主成分图、人口土地
利用空间结构分析图等以及根据各种分析和统计方法的包括人口、经济、住
房、土地利用的各种分析表格和统计图的绘制，如人口密度随距离的变化图、
历年城郊人口增长曲线等。
为了实现上述成果输出功能，
本系统除了利用PCARC/I N
FO系统的有关成
果输出的功能外，还利用了其它一些软件的优点。即首先把图形的属性文件
和分析结果以标准格式转换到一些制图软件中，然后利用这些软件进行图形
绘制。这些软件包括Q
PRO
、FO
XG
RAPH
、LO
TU
S- 1、2、3 和ATLASG
RAPH
I CS 等。
三、总体结构与功能模块
（一）系统总体结构
上海市人口地理信息系统采用模块式结构，菜单式选样方式。系统采用
PCARC/I N
FO宏语言写成，由一个主菜单以及多级子菜单组成，供用户按需要
逐级调用。
整个系统由七大功能模块组成，即数据输入子系统、数据处理子系统、
数据管理子系统、数据转换子系统、数据分析与处理子系统、数据输出子系
统和应用子系统。前面六大功能模块实现了完整的图形数据和属性数据的输
入、输出、编辑、检索、转换、分析等一系列功能。而最后一个功能模块则
是上海市人口地理系统分析中的一些应用实例。
SPG
I S 的建立，充分利用了PCARC/I N
FO的所有功能，并在此基础上结合
FO
XBASE 关系数据库系统、
ATLASG
RAPH
I CS 绘图系统、多种分析和绘图软件如
M
i ni t ab、
SX、
Q
PRO
、
LO
TU
S- 1- 2- 3、
FO
XG
RAPH以及自己编制的分析模型软件，
功能全面，同时系统又采用模块化结构，菜单选择方式，使操作灵活方便。
（二）系统的功能模块组成
1. 系统主控功能模块：其主菜单显示为：
（1）数据输入子系统
（2）数据项预处理子系统
（3）数据管理子系统
（4）数据转换子系统
（5）数据分析子系统
（6）数据输出子系统
（7）应用子系统
（9）退出
本系统主控模块是在执行M
enu、Sm
l 文件后设置功能键，显示菜单选择
项，用户可根据需要键入F1- F10 之间的任一键。如果选择了这以外的任何
键，系统都会显示出错信息，提示用户重新键入。
2. 数据输入子系统：其一级子菜单显示为：
（1）空间数据输入
图形数字化
图形错误显示
拓扑结构
（2）属性数据输入
增加数据项
删除数据项
合并数据项
追加数据
（9）返回
数据输入包括空间数据和属性数据的输入。在一级子菜单下面还可能有
二级、三级⋯⋯多级子菜单，用户可根据需要选用。
空间数据输入采用两种方式：一种是用数字化仪输入，在ARC状态下，
启动AD
S 命令进行输入；另一种是在键盘上输入图形上各点的（x，y）坐标
值，使用G
EN
ERATE 命令。考虑到空间数据的输入是一项繁琐易错的过程，需
反复查错修改，而且完成这一过程的重要任务是建立拓扑结构，因此本子系
统中包括建立和重建拓扑结构，用CLEAN和BU
I LD 命令，和显示Coverage
错误（用ED
I TPLD
T 命令）的功能。
对于属性数据的输入来说，主要是针对由CLEAN 和BU
I LD 命令产生的
Coverage 属性表PAT、AAT、TI C、BN
D文件进行操作的，它包括在ARC 状态
下增加数据库数据项、删除数据项、合并数据项、产生新的数据文件，以及
追加数据。其中Coverage 要素属性数据的追加用以下三种方式：一种是直接
在TABLES 模块中用G
ET 命令、U
PD
ATE 命令、AD
D命令，以及建立LO
O
KU
P 查
找表追加数据；另一种是在ARCED
I T 模块中，在显示Cov- erage 要素同时进
行操作，
用CALCU
LATE 命令或M
O
VEI TEM命令。
这一操作充分发挥了ARC/I N
FO
人机对话的功能，是本系统的一大特点。第三种是在关系数据库FO
XBASE 状
态下，对由ARC/I N
FO中转换出的数据文件进行数据项和数据的追加，然后再
转换到ARC/I N
FO的Coverage 的要素属性文件中去。
3. 数据预处理子系统：其一级子菜单显示为：
（1）空间数据预处理
投影变换
坐标比例尺转换
错误检查与编辑
图形拼接
边缘匹配
（2）属性数据预处理
数据库编辑
数据库更新与维护
数据库连接
（9）返回
空间数据预处理主要包括数字化错误检查与编辑、投影变换、坐标和比
例尺转换、图形拼接和边缘匹配。
数字化错误检查与修改在ARC状态下，进入AD
S 或ARCED
I T 状态，配之
以CLEAN
、
BU
I LD和ED
I T- PLO
T 命令进行，主要目的是为了清除图形数字化的
错误。
投影变换，是为不同信息源的图形资料统一、配准服务的。目的是为图
形空间操作、统计分析作准备。在ARC状态下用PRO
J ECT 命令即可。
坐标和比例尺变换是图形空间操作，如拼图、图形叠加所必须的。用
TRAN
SFO
R 命令。
有时由于数字化仪的限制，一幅图分成多幅进行数字化，也可能本来底
图就是分幅的，为了得到完整的一幅图，就必须进行拼图。拼图在ARC状态
下用M
APJ O
I N命令，拼图过程中有可能出现相接的两幅图边缘不匹配，这就
需要进行边缘匹配，
以保证拼图的质量。
边缘匹配在ARC状态下用ED
G
EM
ATCH
命令。
属性数据预处理和输入过程一样，同样可以在三种状态下进行数据编
辑、数据库文件更新和维护以及数据库连接。但是最方便的是在关系数据库
状态下，充分发挥FO
XBASE 系统的优点。
4. 数据管理子系统：其第一级子菜单显示为：
（1）空间数据管理
（2）属性数据管理
数据检索
数据更新
数据库连接
计算、统计
（9）返回
本子系统也分为空间数据管理和属性数据管理两部分。前一部分在
ARCED
I T 中进行，后一部分则以FO
XBASE 关系数据库为主，以从ARC/I N
FO转
换出来的数据文件为对象，进行数据检索、更新和汇总。FO
XBASE 系统扩充
了ARC/I N
FO系统有限的数据管理能力，并可在ARC状态下直接调用。
5. 数据转换子系统：其一级子系统菜单显示为：
（1）图形数据文件格式转换
（2）属性数据文件格式转换
（9）返回
该子系统包括图形数据文件和属性数据文件转换。图形数据文件格式的
转换包括点、弧格式文件与栅格文件的互换。点弧格式文件与D
I M
E 文件、
AU
TO
CAD文件、
M
APED
I T 文件以及ATLASG
RAPH
I CS 的文件之间相互转换。属性
数据文件的转换，包括PCARC/I N
FO的内部文件数据库系统FO
XBASE 文件、统
计软件M
i ni t ab 和SX、绘图软件FO
XG
RAPH
、Q
PRO和LO
TU
S- 1- 2- 3 以及与其
它高级语言的文本文件的相互转换。
由PCARC/I N
FO转出的数据文件可以有三
种格式，即D
i l i m
i t ed、Fi xed 和Long。
6. 数据分析子系统：其一级菜单显示为：
（1）空间分析与操作
（2）模型和统计分析
（9）返回
数据分析包括空间数据的操作与分析和属性数据的统计分析和模型等。
空间分析主要包括Coverage 的更新、特征提取、特征合并、图形拼接、空间
连接、
叠加分析和缓冲区分析等功能。
以及用高级语言如FO
RTRAN
77 和BASI C
编制的模型分析软件，使系统具有较强的分析功能。如描述统计、相关分析、
回归分析、聚类分析、主成分分析、因子分析、对应分析、调和分析、时空
人口增长模型、人口密度函数模型、人口迁移模型等。该子系统是SPG
I S 的
核心，利用这些分析功能进行人口地理系统研究。
7. 数据输出子系统：其一级子菜单显示为：
（1）地图输出
（2）统计报表输出
（3）统计图件输出
（9）返回
本子系统由三部分组成。第一部分是图形数据的输出，主要是利用
PCARC/I N
FO的ARCPLO
T 模块和ATLASG
RAPI I I CS 绘图系统来实现的；第二部
分是统计报表的输出，有关操作全在关系数据库FO
XBASE 下进行；第三部分
是统计图（包括坐标图）的输出，主要是根据分析结果用一些集成软件如
Q
PRO
、FO
XG
RAPH和LO
TU
S- 1、2、3 来进行绘制。
8. 应用子系统：其一级子菜单显示为：
（1）查询、检索举例
（2）专题制图举例
（3）模型分析及结果举例
（9）返回
该子系统作为应用实例来说明上海市人口地理信息系统各大功能模块的
应用。
四、功能与特色
上海市人口地理信息系统的主要功能反映在以下几个方面：
（一）人口及相关指标统计检索功能
由于系统具备很强的数据管理和统计分析能力，因而可以很方便地进行
多条件、多范围、以各种统计方式的统计和检索，然后对检索的结果用文件、
图形或图像的形式提供给用户。
（二）人口地理自动制图的功能
本系统对各种查询、检索和分析的结果，均可通过屏幕显示和自动用绘
图仪绘出，反映各种人口要素的空间分布状况。可用该系统进行人口地理辅
助制图，且选择灵活方便，并可大大缩短成图周期，省时省工。本系统主要
提供以下的图形：
1. 单要素或多要素的专题地图。如人口密度图、人口分布点状图、人口
增长指数图、各种住宅分布图、土地利用图等。
2. 经过系统分析后，具有为规划和决策提供建议的综合图，如人口与土
地利用相互关系图等，可为合理布局人口与产业，进行城市更新与改造提供
参考。
（三）模型分析的功能
利用本系统的模型和统计分析软件，可对城市人口、住房、交通、产业
发展和土地利用进行综合分析，以探讨城市人口空间分布与空间过程的规律
性，从而可对未来城市发展进行预测和规划。
（四）系统维护与更新的功能
由于本系统的实现是在ARC/I N
FO状态下，
组合数据库系统和一些实用软
件而成，数据的管理均是在数据库管理系统之下，便于维护与更新。
系统以航空遥感资料、人口普查资料以及每年人口和工业统计资料为信
息源，可以不断地对原有资料加以更新，从而自动地跟踪和监测城市人口、
社会经济的发展。
本系统的特色是软件设备要求低，价格低廉，便于推广，系统功能齐全，
将数据管理、制图和模型分析溶于一体，操作灵活方便，可在此基础上进一
步开发。
五、SPGI S 的应用
（一）上海市人口分布及其动态分析
采用人口密度、人口重心、人口分布罗伦兹曲线和人口密度函数方法对
人口分布及其动态变化特征进行分析。结果表明，上海市人口分布的格局是
在近代形成的，人口高度集中在城市中心，解放后直到70 年代末，人口分布
的总体趋势变化不大。80 年代以后，城市中心人口密度才开始出现大幅度下
降，大批人口从市中心区向边缘扩散，郊县也出现了一定程度的人口集聚，
表现为市区各边缘行政区的人口重心逐渐向外移动，市区人口分布的罗伦兹
曲线的集中化指数逐渐下降，城市人口密度梯度也逐渐下降。而郊县的人口
集中程度从80 年代开始逐渐提高，反映了郊区城镇化的速度在加快。人口密
度函数对规划城市人口分布及动态特征是非常有效的，经SPG
I S 的分析，上
海市人口密度随距城市中心的距离呈负指数正态分布形式，并有逐步向正态
分布形式转换的趋势。从上海市人口分布的变动过程来看，政治和历史因素
的影响是最为深刻的；自然条件在一定程度上也限制了人口分布的状况；经
济因素的影响则主要是以工业带动人口的集聚和扩散；此外，区位和地价因
素、交通和住房，以及人们的社会心理都对人口分布产生影响。
为了直观地说明上海市人口分布和动态变化，由SPG
I S 绘制输出上海市
人口增长、人口增长率的变动、人口出生、死亡状况、人口出生率、死亡率
的变动、人口迁移状况、迁移率的变化、城市人口密度图、人口增长分布图、
中心城区人口净密度图、人口密度等值线图、人口分布图、人口重心转移、
人口密度函数的变化、人口空间增长过程等63 幅图。如图9- 12 表示上海市
人口自然增长状况；图9- 13 为中心城区人口密度等值线图。
（二）人口增长与产业发展
分析上海市人口增长与产业发展及其相互关系，采用中心市区—边缘区
—郊区三分法、距离段法、距离扩展方法和克里金（Kri gi ng）方法等四种模
型，对上海市人口和产业空间增长的非中心化过程进行分析。结果表明，随
着经济的发展，上海市人口和产业空间增长的非中心化越来越显著。人口和
产业就业人口的非中心化序列如下：扩展范围最广的为第二产业（尤其是工
业），其次为第三产业和第四产业（事业部门），最后为人口。即工作岗位
带动人口，这和国外城市空间扩散的过程恰恰相反。这一特征还可以通过比
较人口和产业密度梯度的变化得到反映。第二产业向郊区扩散的结果，促进
了乡村工业化的出现，劳动力人口迅速地从农业向第二和第三产业转移。但
人口的高速聚集还未出现。上述四种方法在展现人口与产业空间增长的特征
时是循序渐进、逐步深入
的。通过揭示城市非中心化的一般趋势、速度、强度和方向变化来反映城市
多部门非中心化的时空过程。城市内部的压力是促使工业向外扩散的主要原
因，工业扩散又是城市非中心化的直接动力，政策因素包括严格控制大城市
政策、农村人口离土不离乡政策、住房建设和分配制度、城乡分离的行政管
理体制等都从一定程度上限制或促进了城市非中心化的进程，形成了具有中
国特色的城市化过程。此外，社会心理因素在城市化的初期阶段对城市人口
的扩散也产生很大的影响。
为了直观地说明上海市人口和产业增长，SPG
I S 绘制输出了三分法区域
人口增长、不同距离人口增长指数、人口与各产业部门就业的空间增长、不
同产业空间增长曲面及等值线图等26 幅。例如：图9- 14 表示上海市人口与
各产业部门就业人口的空间增长。图9- 15。表示上海市第二产业就业人口的
空间增长曲面。
图9- 14 上海市人口与各产业部门就业人口空间增长曲线
（三）城市人口社会空间结构分析
根据1988 年11 月上海市航空遥感土地利用资料和住房普查资料以及人
口普查资料，应用主成分分析和聚类分析方法，对中心城市人口的社会空间
结构进行分析，结果表明，形成上海城市人口社会空间地域分异的要素，集
中反映在文化构成、密集程度、性别和职业构成、外来人口、居住条件和婚
姻状况六个主成分上，前三个主成分影响较大，分别能解释原113 个变量信
息的26. 08％、17. 11％和11. 03％。在主成分分析的基础上进行聚类，可把
上海城市人口的社会空间分成五种类型。即商业居住高密度区、中密度文化
居住区、工业居住混杂区、新村住宅区和科技文教区。整个城市人口的社会
空间结构成同心圆模式，但在旧市区还留有扇形分布的痕迹。上海城市人口
社会空间结构的形成主要受历史因素、城市规划和住房分配制度三个因素的
影响。城市发展的历史过程形成了上海城市人口社会空间的基本格局；城市
规划对不同历史时期的城市发展起导向作用；住房分配制度则制约了居民迁
居的空间过程。三个因素交互影响，共同作用，形成了今日上海城市人口的
社会空间结构。
为了直观地说明上海城市人口社会空间结构，SPG
I S 绘制输出了第一、
二、三、四、五、六主成分得分图，分别表示文化程度、人口密集程度、性
别构成、户籍构成、居住条件、婚姻状况等。另外还绘制了聚类分析谱系图、
上海城市人口的社会空间类型分布图、空间结构模式图等12 幅。例如图9-
16 为第二主成分得分图，图9- 17 为上海城市人口的社会空间类型分布图。
（四）城市改造和建设
由SPG
I S 对上海城市人口分布、人口和社会空间结构分析可知，上海城
市中心为高密度商业居住混杂区，人口密度平均在每平方千米7. 9 万人以
上，这一地区住房仍以旧式里弄为主，基础设施落后，居住十分拥挤，人
老化十分严重，人们的生活质量很差。人口的高密度也影响了商业职能的发
挥
。
从60 年代起这一地区就是人口迁出的地区，今后随着城市的发展应加速
人口疏散，对住房和商业设施进行全面改造。第二类是环境质量很差的区域
为工业居住混杂区，分布在市中心外圈，这一地区工业密度很高，住房以简
屋和棚户居多，是上海城市中生活质量最差的地区。居民中文化层次最低。
因此，这一地区也应该是城市集中改造的地区，对所有棚户简屋全部予以拆
除，把混杂在工厂区内的居民先迁出来，把混杂在居住区的工厂迁出去。这
一地区的改造应从长远观点出发，把一些污染严重、经济效益差、劳动密集
型的工业企业逐步扩散到郊区和外地区，发展一批技术密集型的企业。其它
三类区域，包括中密度文化居住区、工人新村住宅区和科技文教区，生活质
量相对较好，特别是中密度文化居住区。但在外围的工人新村居住区和科技
文教区内，文化娱乐服务设施还没跟上，这也是造成中心城市高度拥挤的一
个主要原因。今后，随着城市的进一步扩展，人口和产业向外扩散，城市单
中心的模式越来越不合适，因为中心商业区的服务范围是有限的，城市的扩
展又会大大增加通勤量，所以在这两类地区中如五角场、徐家汇等发展一批
和中心商业功能相匹配的商业中心，同时建设多中心开放式交通系统，这样
便能从根本上解决城市膨胀病。
浦东地区人口和产业增长的速度大大低于浦西，而且人口的文化素质也
低于浦西地区，这和开放开发浦东地区，并建设成为金融贸易、科技文教和
商业服务的中心，使上海成为吸收国外先进技术、向内地传播和扩散产业和
技术的纽带，从而带动整个长江流域乃至全国经济发展这一宏伟目标是极不
相称的。应取优惠政策积极引进人才技术，在浦东兴办高科技产业，建设成
为世界一流城市。
通过SPG
I S 的研究结果，对城市发展政策、离土不离乡政策、住房建设
和分配政策等进行科学分析，提出一些可操作性的建议。同时对城市人口空
间结构和空间过程进行了微观的研究，丰富了我国人口地理学研究的理论和
方法。
§ 3. 北京市水土流失信息系统
北京市山区面积10417. 5km
2，占全市总面积的62％，其中水土流失面积
6474km
2。山区现存土壤面积为7362. 9km
2，仅占山区面积的73％，其中土层
厚度小于30cm的薄土层及粗骨土，占山地土壤面积的47. 3％。严重的水土
流失导致土地资源的破坏，严重地影响了山区的经济发展和人民生活水平。
1986 年至1988 年，北京大学任伏虎作为软件负责人，与北京市水利局、
北京市水土保持试验站合作，在北京市水土流失详查的基础上，研制了在微
型计算机支持下的北京市水土流失信息系统，对43 个乡171 条小流域的72
项基础数据和综合因子地块图进行系统管理、统计分析和水土流失综合评
价，为开展小流域横向对比，规划治理方案提供了丰富的决策信息和科学依
据。生产部门使用后认为该系统具有以下优点：
（1）节省人力物力，与常规方法相比，数据处理效率可提高120 倍，改
变了过去数据汇总周期长、速度慢、差错多的状况；
（2）本系统结构简单，使用方便，可为不同层次、不同部门的人员使用，
还可为县（区）和流域管理系统移植数据；
（3）对水土流失数据进行统计、成因分析和综合评价，可为小流域治理
规划提供依据。
一、系统总体结构与工作流程
北京市水土流失详查采用1∶1. 8 万航片和1∶2. 5 万地形图，结合专题
地图、定位观测数据和社会经济统计数据，以5 至30km
2 的闭合小流域为流
域单位，将影响水土流失的地质、地貌、地形、土壤、植被、土地利用现状、
水土流失程度及强度等要素相同或相似的区域，划分为0. 1—0. 2km
2 的地
块，绘制小流域水土流失综合因子地块图、小流域沟系图和包括与地块图编
号一致的水土流失概况调查等四种表。
以上述基础图件和水土流失因子数据为基本数据源，建立因子数据库系
统和图形管理系统。因子数据库包括四个子库：
BST1——水土流失概况数据库；
BST2——水利水保工程数据库；
BST3——水土保持林牧业措施数据库；
BST4——土地利用现状数据库。
以上四个数据库共录入89 项因子数据，包括了行政区、地理区、环境状
况、水土流失状况和治理措施等信息。各子库通过地块编号作为关键码建立
联系进行统一管理。
图形管理系统采用矢量格式录入编辑数据，采用游程长度编码的栅格格
式进行管理、操作和显示输出。逻辑图象操作通过地块编号实现因子和图形
数据的联结。
系统流程见图9- 18。
二、系统应用
1. 水土流失单因子分析：由系统提取特定数据对沟错河流域水土流失因
子相关性，进行了空间统计分析，取得了多种定量的水土流失因子相关关系
和相关程度指标。
在坡度25° —35° 的林业用地上，植被覆盖率（R）、土壤侵蚀程度
（S）
的回归方程式为：
S=0. 9R+0. 23 相关系数0. 89
式中
R=1，    表示覆盖率≥80％；
R=2，    表示覆盖率50％—80％；
R=3，    表示覆盖率＜50％；
在沟道两侧或坡脚土层厚度＞50cm的农业用地上，坡度（M
）与水土流
失强度T 的回归关系式为：
T=0. 77M
- 0. 59 相关系数0. 86
式中
M
=1，    表示坡度为0° —3° ；
M
=2，    表示坡度为3° —7° ；
M
=3，    表示坡度为7° —15° 。
植被覆盖率是自然因素中对防止水土流失起积极作用的因素，具有涵养
水分、调节地面径流、固结土壤等功能，对防止林地上鳞片状面蚀的作用十
分显著；地面坡度是决定径流冲刷能力的基本因素之一，坡度越大，径流速
度越大，水土流失量越大。相关分析表明，坡度在0° —3° 的农业用地流失
强度趋于恢复，大于3° 则趋于发展。
2. 流域水土资源调查和对比分析：北京市水土流失信息系统可以迅速地
可靠地提供各种统计表，为水土资源调查和综合治理规划提供科学依据。
表9- 5 为沟错河和妫水河二流域坡度为7° —15° ，土层厚度＞50cm的
土地利用现状对比表。由于土地利用结构不同，沟错河流域土地单位产值高
于妫水河流域。由表可见，在同样的坡度和土层厚度条件下，沟错河流域农
林果比例为0∶45∶19，土地利用指数为0. 644，而妫水河流域农林果比例结
构为46∶19∶15，土地利用指数为0. 832。在坡度20° —35° ，土层≥50cm
的条件下，沟错河流域以果园用地为主的土地面积为616hm
2，占总面积的58
％，而妫水河流同样条件下，农地占10％，果园用地占0. 37％。上面列举了
两个不同坡度级的土地利用状况，可以认为，妫水河的土地利用结构有待于
进一步调整，其治理方向是在满足当地口粮的前提下，退耕还林，种植果树
和经济林；沟错河流域则应以管护为主，在加强管理，提高经济效益的基础
上，防止水土流失。
表9- 5 两流域土地利用现状对比表
3. 小流域水土流失评价：采用地貌类型、土地利用现状、地形坡度、平
均高程、土层厚度和植被覆盖率等六个因子，用专家打分模型进行苇甸沟小
流域水土流失综合评价，各因子的权重及专家打分值如表9- 6 所示，结果评
价图反映了受环境因子影响的水土流失严重程度的分布情况。
表9- 6 苇甸沟流域水土流失评价表
地貌类型
权重- 3
利用现状
权重- 2
坡度
权重- 10
平均高程
权重- 1
土层厚度
权重- 5
植被覆盖率
权重- 10
分级
评分
分级
评分
分级
评分
分级
评分
分级
评分
分级
评分
指标
指标
指标
指标
指标
指标
滩地
3
散生
果树
2
0
°
—
3 °
1
＜200
2
＞50
2
≥
1
或果
m
cm
80 ％
粮间
作
阶地
5
水
浇
地
3
3
°
—
7 °
3
200 —
400m
2. 5
30
—
50cm
3
55
％—
80 ％
3
山坡
7
旱
地
灌
木
林
或
人
工
用
材
林
5
7
°
—
25 °
6
400 —
600m
3. 5
0
—
30cm
3
＜55
％
5
旱地
6
＞25
°
9
600 —
800m
4
5
％—
30 ％
7
草灌
坡
8
＞
800m
4. 5
＜5
％
9
根据地理信息系统逻辑原理和数理逻辑，可以按照地学意义构造各种分
区分级模型。例如：
Ⅰ：土层厚度≥50cm
. AN
D
. 坡度＜7° . AN
D
. 植被覆盖率≥50％；
Ⅱ：土层厚度=10—50cm
. AN
D
. 坡度7° —25° . AN
D
. 植被覆盖率=25％—
50％；
Ⅲ：土层厚度=10—30cm
. AN
D
. 坡度≥25° . AN
D
. 植被覆盖率＜25％。
更为复杂的逻辑分区模型可表示为：
Ⅰ：（土层厚度≥50cm
. O
R. 覆盖率≥55％）. O
R. （坡度＜7° . AN
D
. （植
被覆盖率＞25％. O
R. 土层厚度＞30cm
））；
Ⅱ：
（土层厚度=0. O
R. 覆盖率=0）. O
R.（土层厚度＜30cm
. AN
D
. 覆盖率＜
25％）. O
R. （坡度＞25° . AN
D
. （土层厚度＜50cm
. O
R. 覆盖率＜55％））；
§ 4. 县域规划信息系统
区域规划包括经济规划和空间规划，是对区域的人文生态系统变化施加
控制的手段，在地理信息技术的支持下建立区域规划信息系统，可以为县级
规划部门提供高效的信息管理分析手段和对各种规划方案进行试验，从而为
科学的规划决策服务。
一、开化县县域规划（经济规划）信息系统
1985 年，张超、沈建法等和浙江省开化县县政府有关部门合作，建立了
县域规划信息系统CRPI S （Count y Regi onal  Pl anni ng I nf orm
at i on
Syst em
），为县域经济发展规划服务。
CRPI S 是在CCD
O
S、
CD
ABASE、
BASI CA等支撑软件的基础上，
在I BM
- PC/XT
微机上开发的。包括引导模块、系统管理员模块、用户模块、BASI C 入口模
块等四个一级模块；六个二级模块和25 个程序组成。
CRPI S 是一个面向决策的综合性信息系统，包括资源与环境数据库、国
民经济数据库和人才数据库；开化县概况检索系统、人才管理系统、人口预
测系统三个应用子系统和一个通用信息检索系统；一个用于预测的区域宏观
经济模型，
利用这一模块编制了计算机预测程序对该县至2000 年经济发展作
了多方案预测。
（一）用户环境与用户需求分析
在开化县县域规划信息系统（KH
－CRPI S）设计、实施之前，在开化县人
民政府的配合下，多次召开了有县委办公室、科委、计委、组织部、劳动人
事局、统计局、计划生育办公室、林业科学研究所、气象站等单位参加的用
户信息需求与服务现状调查、座谈会。县府有关部门一致认为，要迅速建立
CRPI S 来提高管理工作的效率，增强决策能力，并提出近期实现的任务：
1. 开化县专门人才管理，建立中专以上学历的专门人才数据库；
2. 开化县基本的环境、资源、社会经济状况的检索，供规划、决策使用；
3. 建立开化县宏观经济模型，进行未来经济发展的预测；
4. 开化县未来的人口预测；
5. 县府人民来信的处理。这一项涉及大量的汉字输入输出，来信编码、
分类、处理的规范化、标准化和来信内容的保密性问题等。
上述任务中，对于区域经济发展预测、人口预测、农业发展预测及经济
发展规划决策等，要尽快实施。
（二）系统结构和功能
从广义来看，CRPI S 由县府决策部门、信息采集机构、系统管理员、分
析员、程序设计员、操作员、计算机主机、输入输出设备、支撑软件、系统
软件、应用程序、区域模型、区域数据库等部分组成。如图9- 19。
根据县级区域规划、管理决策对信息系统的要求和信息系统研制的一般
原则，CRPI S 具有以下几个基本功能：
1. 用户管理
2. 应用系统管理
3. 模型与应用程序管理
4. 数据库管理
5. 数据检索
6. 数据库重组织
7. 建立数据库后援
8. 与高级语言数据通讯
9. 安全与保密措施
10. 系统扩展
11. 系统使用统计。
上述许多功能是相互联系的，而且很多功能又是由一系列子功能组成
的，这些功能在支撑软件的支持下由软件和系统词典实现的。
（三）数据源与数据模式
数据是CRPI S 的重要组成部分，在CRPI S 中区域综合数据库应包括反映
区域历史与现状的自然、环境、资源、人口、社会、经济、管理等方面的基
本数据，它们可以是普查数据、抽样调查数据、典型调查数据、统计制度数
据、政府卷宗等。地图和遥感信息也是重要的数据源，但是需要专用的处理
设备如数字化仪、数字图像处理系统等。
数据模式是组织文件，建立数据库的基础，是对客观事物之间联系的一
种抽象描述。本系统采用关系数据模式，用该模式组织成数据库的文件，文
件再用一种多对多关系组成数据库，减少数据冗余，方便用户使用。
（四）保密与安全措施
CRPI S 一旦投入运行，就为县政府规划、管理决策机构的重要组成部分，
不可避免地涉及许多机密数据，需要加以保密。本系统主要采用以下几条措
施：
1. 对用户规定了口令、使用级别和使用权限，对数据文件、应用系统、
应用程序也就规定了使用级别。只有系统认可的合法用户才能使用CRPI S 中
规定的功能与数据；
2. 系统规定一般用户只能检索数据，无权修改、更新、增补任何数据，
保证系统中数据的权威性、正确性、一致性、完整性，保证数据库中数据的
安全。
3. 信息系统建立在硬盘上的数据文件可以转贮至软盘上建立后援。在硬
盘上数据丢失时可以用软盘上的数据进行恢复。在一定程度上保证系统的可
靠性和安全性。
（五）系统的使用
CRPI S 的设计过程中广泛采用菜单技术，向用户提供极强的人机对话功
能。用户只要根据CRPI S 提供的菜单选择、输入代号即可实现特定的功能。
CRPI S 向用户提供充分的提示信息，使用户输入减少到最低限度。
CRPI S 的各
个菜单之间保持着一定的联系，用户可以灵活地实现菜单之间的转换。因此，
系统的使用是极其方便的。
CRPI S 启动后立即在屏幕上显示签到信息，并要求用户输入当天的日
期。用户按日、月、年顺序输入后，系统即显示用户号选择菜单。这一菜单
可逐屏显示已经登录在系统中的用户顺序号和用户名，用户只要键入自己的
顺序号即可，比如用户是从县府办公室来的只要键入4 即可。用户号输入完
毕，CRPI S 即要求用户输入口令。为达到口令的保密目的，用户输入的口令
不在屏幕上显示出来，根据用户输入的口令，系统将确定用户是合法用户还
是非法用户，若是合法用户就进入模块或系统管理员模块，若是非法用户就
通知使用者无权使用本系统，
并强行终止CRPI S 的运行。
上述过程可用图9- 20
表示。
用户菜单如下：
请选择用户号
1 系统管理员
2 操作演示
3 县委办公室
4 县府办公室
5 组织部
6 科委
7 劳动人事局
0 继续显示
请选择___
一般用户通过CRPI S 的口令检查后，即进入用户模块，这时显示应用系
统选择菜单如下：
请选择系统号
1 通用信息检索系统
2 分析决策系统
3 概况检索系统
4 人才管理系统
0 继续显示
请选择___
用户键入“ 1” 即可进行数据检索。这时显示数据库选择菜单，文件选择
菜单，检索条件输入表，最后输出检索结果。
数据库选择菜单如下：
请选择数据库号：
1 资源与环境数据库
2 国民经济数据库
3 演示数据库
0 继续显示
请选择___
文件选择菜单如下：
请选择文件号：
1 演示文件
2 土地资源（全县1959 年土地，1973 年林业普查）
3 气候（全县1984 年）
4 社会经济状况（1984 年）
0 继续显示
请选择___
在应用系统菜单下，用户键入“ 2” 即可分析决策模块，这时显示的菜单
如下：
请选择下列功能：
0 退出本系统
1 建立正文文件
2 显示应用程序目录
3 把BASI CA应用程序调入内存
4 运行BASI CA应用程序
请选择___
用户可根据用户系统菜单，进入各种分析应用系统，以达到自己的分析
目的。
如果用户是系统管理员，则可运用系统用户菜单进入系统管理员菜单，
以对用户进行管理，对数据库进行维护和更新。
二、平谷县县域规划（空间规划）信息系统
1988 年，任伏虎、谢昆青、邬伦、程承旗与北京大学和北京市城市规划
信息所的专家们合作，在SPACEM
AN支持下研制的规划信息系统通用软件，已
应用于北京市平谷县县域规划和城市居住小区规划。
平谷县县域规划信息系统输入规划信息包括以下内容（除标注者外，其
余图件比例尺均为1∶50000）：
1. 岩性图：
（1）地层（界、系、组）
（2）成因
（3）名称
2. 岩性构造线：
（1）断裂
（2）不整合界线
3. 河流，水库，坑塘：
4. 行政图（乡级）：
5. 行政图（村级）：
6. 交通：
（1）公路（市级，县级，乡级，田间路）
（2）铁路（包括正在建设中的）
7. 水系（河流，水渠和沟）：
8. 不良地质，气象（面状）：
（1）古河道
（2）滑坡，泥石流
（3）水土流失严重区
（4）易涝区
（5）已发生地质灾害区
9. 不良地质，气象（线状）：
（1）雹线
（2）地震带
10. 工程地质图：
11. 工程地质不稳定分布：
12. 工程地质断裂、滑坡带：
13. 环境现状（各种工厂）：
14. 水系流域：
15. 地下水资源（可采水模数）：
16. 洪涝灾害分布：
17. 可用水分区：
（1）平年
（2）枯年
18. 水利现状（灌溉方式）：
19. 全氮含量：
20. 速效磷含量：
21. 速效钾含量：
22. 有机质含量：
23. 土壤类型：
24. 土地利用（从航片上解释，1∶25000）：
25. 地形图（1∶25000）：
（1）高程
（2）坡度
（3）坡向
26. 植物郁闭度（1∶25000）。
在上述规划信息和县域规划信息系统支持下，进行了平谷县县域规划的
多种应用研究。
（一）规划信息提取
利用地理信息系统空间数据管理的功能，建立多种规划要素之间的空间
联系，提取多种单项或综合的规划信息，为规划决策服务。一种查询为平谷
县峪口乡在40m至240m之间，
土壤类型为石灰岩褐土或淋溶褐土区域内的植
被分布；另一种查询为平谷县内符合条件：全氮含量＞0. 1％，速效磷含量＞
50m
ol /L，速效钾含量＞100m
ol /L，有机质含量＞1. 00％，坡向朝南的区域，
符合条件的区域面积约为9km
2，占全县面积约1％。
系统还采用三维立体模型将地形数据与专题数据复合，显示平谷县的自
然条件和社会经济信息。
（二）土地类型研究
首先由地形数据派生坡度、坡向图，然后采用叠加分类模型，将坡度图、
坡向图、植被图、土壤图复合生成土地类型图，共划分为162 类土地类型，
部分列于表9- 7。
表9- 7 平谷县部分土地类型
代号
土壤
植被
坡度
坡向
土地类型名称
1
11
23
24
28
32
34
35
38
40
41
44
48
49
2
1
5
1
3
3
2
1
4
1
4
1
5
4
4
4
4
5
5
4
5
4
4
2
4
4
5
1
4
4
4
4
3
3
3
3
4
4
4
3
2
4
2
1
2
1
1
2
1
1
1
1
2
2
1
1
钙质岩褐土灌草向阳陡坡地
硅质岩褐土灌草丛向阳陡坡地
洪冲积质褐土灌草丛背阴陡坡地
硅质岩褐土果林向阳陡坡地
石灰性褐土果林向阳缓坡地
石灰性褐土灌草丛背阴缓坡地
钙质岩褐土果林向阳缓坡地
硅质岩褐土灌草丛向阳缓坡地
页岩褐土灌草丛向阳陡坡地
硅质岩褐土针叶林向阴陡坡地
页岩褐土灌草丛背阴陡坡地
硅质岩褐土灌草丛背阴缓坡地
洪积岩质褐土果林向阳平坡地
页岩褐土阔叶林向阳陡坡地
（三）蔬菜种植条件评价
1. 影响要素的选择与处理：根据蔬菜的生长、培养和销售等因素分析，
选取以下五类影响要素进行平谷县蔬菜种植条件评价：
（1）土壤类型：平谷县境内的土壤主要为潮褐土、褐土、山地褐土、淋
溶褐土和石灰性褐土等五类，对蔬菜种植有不同的影响。
（2）肥力条件：肥力由四个方面的指标决定，即全氮含量、速效磷含量、
速效钾含量和有机质含量。采用主成分分析法对这四项指标进行分析，根据
第一主成分量将肥力分为11 级，代表肥力综合指标参加蔬菜种植条件评价。
（3）灌溉条件：主要灌溉水源为井、泉和灌渠，采用SPACEM
AN扩展模
型计算各空间点距水源的最小距离，代表灌溉条件的好坏，以百米为单位，
与基础图件栅格分辨率相同。
（4）交通条件：蔬菜种植季节性强，一旦成熟需迅速运出销售，否则会
造成经济损失，靠近道路可以节省并缩短运输时间，因此交通条件是蔬菜种
植的重要条件之一。采用SPACEM
AN 扩展模型计算各空间点距市级公路的距
离，作为交通条件评价指标。
（5）培育条件
（劳动力条件）：蔬菜生长周期短，培育劳动力多而频繁，
因此菜地应尽量靠近居住地。
根据村镇分布采用SPACEM
AN扩展模型计算各空
间点距村镇的最近距离，作为培育条件指标。
2. 目标相关量化：确定了影响要素之后，一个重要的任务是要素的量化，
即根据要素对目标的影响情况确定要素对目标的隶属度指标，这是比较艰巨
的任务，需掌握研究区大量的实际资料、具有丰富的工作经验和进行深入的
调查研究，隶属度作为整个评价的基础将决定评价结果的科学性。
平谷县经过长期的生产发展，总体上蔬菜种植地的分布应在一定程度上
反映自然和社会规律，可以由现状数据出发，通过适当的数理统计方法，总
结出客观规律，用于蔬菜种植条件的评价和规划，在研究区内找出蔬菜种植
条件相对较好、居中和较差的地区，用于指导生产。由于各要素间无明显的
一致性（如相关性较大，可认为二者共同反映了同一种影响要素），因此在
各要素各等级类别内，其余要素各等级类别出现的机率基本均等，故而从单
个要素的统计结果看总体上蔬莱分布倾向于选择要素条件最优的类别，即条
件越好的等级类别，从现状看蔬菜分布所占比例越大，尽管局部分布受其它
因素制约而呈多样化，但总体上分布规律是明显的，是符合理论分析结果的，
如菜地倾向于分布于距村镇600m范围内，这是与平谷县的劳动力状况、交通
工具的使用，以及蔬菜生产的需求密切相关的。在专家打分方法中，这些指
标往往要由专家确定，事实上专家也是根据大量观察得到的某种统计经验，
经过思维整理而判定的分数，但往往很难给定十分精确的分数，因而时常引
起争议。采用统计结果，找出精确的规律性，并采用适当的模型进行综合，
取得总体评价结果，据以进行规划和调整。覆盖率计算结果列于表9－8—表
9－12 中。
表9- 8 蔬菜种植对土壤类型选择度
级别
土壤类型指标
选择度
归一化选择度
1
2
潮褐土
褐土
0. 048369
0. 032393
0. 582696
0. 390235
3
山地、淋溶、石灰性褐土
0. 002247
0. 027069
表9－9 蔬菜种植对肥力指标选择度
级别
肥力等级指标
选择度
归一化选择度
1
2
10 — 11
6 — 9
0. 030898
0. 042964
0. 386612
0. 537588
3
1 — 5
0. 006058
0. 075801
表9－10 蔬菜种植对灌溉条件选择度
级别
水源距离指标
选择度
归一化选择度
1
＜200m
0. 039498
0. 401745
2
200 — 300m
0. 030415
0. 309300
3
300- 400m
0. 017101
0. 194282
4
400 — 500m
0. 008174
0. 083140
5
＞500m
0. 001228
0. 011473
表9－11 蔬菜种植对交通条件选择度
级别
道路距离指标
选择度
归一化选择度
1
＜400m
0. 039191
0. 570665
2
400 — 700m
0. 022682
0. 330275
3
700 — 1100m
0. 006689
0. 097399
4
＞1100m
0. 000114
0. 001660
表9－12 蔬菜种植对培育条件选择度
级别
村镇距离指标
选择度
归一化选择度
1
＜600m
0. 042290
0. 826315
2
600- 900m
0. 007578
0. 148069
3
＞900m
0. 001311
0. 025616
3. 综合评价：采用综合分析模型计算各要素隶属度最高、最低、平均、
差分结果分布图，具有不同的意义。如果把选择度作为各类别种植蔬菜的入
选概率，则逐点将各要素的隶属度相加得到总和或平均分值图，反映了概率
意义上的综合，可以作为各空间位置蔬菜种植总体条件优劣的指标；采用纵
向求极值函数得到五个影响要素的最高和最低隶属度分布图，反映了蔬菜种
植区的上、下界，最高隶属度低者为不宜种植区，最低隶属度较高者为最佳
种植区；最高与最低隶属度之差得到隶属度差分分布图，反映各空间位置蔬
菜种植条件的一致性好坏，差分较大的区域表明需改善某些方面的条件。
最适宜种植蔬菜的地区应位于平均分、最高和最低分均较高，差分较小
的部位。根据选择度的统计结果，选择各要素的阈值提取出来的平谷县蔬菜
种植适宜区。
在得到综合平均得分后，任意给定所需规划的蔬菜种植面积，都可以提
取相应面积的得分最高即最为适宜的区域，结合其它隶属度分布图件供规划
者选择合适的规划方案。
小区规划是城镇规划的重要内容，为了合理安排小区内各类地物布局，
充分利用空间和日照条件，需要了解在不同季节和一天不同时间内的建筑物
的遮挡和采光情况。在规划平面图上设计显然是困难的，而制作实物立体模
型又需花费许多的精力和代价。将规划信息系统作为现实世界的一个数据模
型和规划试验场，将各种规划方案的结果快速形象地进行表示和统计，为规
划师高效科学地进行规划提供了有力的工具。
§ 5. 区域旅游信息系统
为了更好地吸引国内外广大游客，开辟新的客源，推出新的旅游线路和
项目，普遍地提高旅游服务质量，使我国旅游业进一步兴旺发达，中国科学
院遥感应用研究所阎守扈、肖春生、张英在以往工作的基础上，以海南为例，
研制了一个面向游客的区域旅游信息系统（Touri st ori ent ed Regi nal
Touri sm
 I nf orm
at i on syst em
，简称TO
R－TI S）。这个系统实质上是供旅行
社、大饭店或有关部门使用的一个主要为游客服务的旅游信息系统软件工
具。用户利用这个软件工具，可以很容易地把游客或他们自己所关心的某个
地区（如省或国家）的有关旅游的各种实际资料（如地图、照片及文字记载
等）装入计算机，形成一个实用的旅游信息系统，形象直观和生动活泼地开
展他们自己的业务工作，优质高效地为游客服务。
这种技术与传统旅游业结合起来的产物将会给用户带来明显的社会经济
效益，并对我国旅游的发展和软件环境的改善产生深远的影响。具体来说，
它可以起以下作用：
（1）生动、形象地介绍区域旅游资源、服务设施和气候特征等方面的情
况，吸引更多游客，推销旅游及土特名产，增加旅游收入。系统可以起电子
宣传广告的作用。
（2）
灵活、
机动地帮助游客选择旅游线路、
安排活动时间及购物内容等，
使游客在付出最小而收获最大的情况下，尽兴而来，满意而归。系统可以起
到一本活的电子导游指南的作用。
（3）具体、有效地培训区内各类旅游服务人员，使他们在较短的时间内
熟悉情况，提高服务水平，做好本职工作。因此可把系统看成是一种新的电
子教科书。
（4）准确、及时地存储区域内有关旅游的文字、数字、地图和照片等资
料，不断为区域旅游业发展规划、管理决策以及科学研究，提供系统、全面
和最新的资料，起电子资料馆的作用。
TO
RTI S 是一个涉及面很广的系统，下面仅能就几个重要的问题，如系统
结构、数据内容、查询检索以及选择等加以论述。此外还将对现有系统的改
进问题作一简要的讨论，使之今后能更加完善和实用化。
一、系统结构
1. 硬件环境：TO
RTI S 是在微机环境下实现的，成本低，性能好，易于普
及和推广应用。
硬软件基本配置如下：
⊙主机Com
paq386/20eI BM
PC/AT 或兼容机
⊙硬盘40M
B
⊙中小型数字化仪（Col ocom
 TG系列）
⊙高分辨率图形卡（VG
A或EG
A）
⊙真彩色图像卡CA540 及512× 512 图像监视器
⊙打印机
⊙操作系统D
O
S3. 3、U
CD
O
S2. 0
⊙数据库FO
XBASE 或D
BASEⅢ
⊙系统设计语言M
i crosof t 5. 0
⊙辅助软件工具地学与遥感应用管理系统G
RAM
S
2. 概念模型：根据对游客到一个地区进行旅游和全过程内容、要求的深
入分析研究，在图9－21 中给出了区域旅游信息系统的概念模型。它是整个
系统设计的出发点和依据。
在这个以游客为核心的多层次同心圆环的模型中，游客是系统的主要服
务对象，旅游资源是游客旅游的起因和目的物，服务设施是开展旅游活动的
保证条件，气候特点则是游客确定旅游时机，从事旅游准备的重要依据之一。
由于游客进行旅游活动的全过程包括：了解情况、下决心、准备启程，进行
旅游及返回家园等阶段；在旅游时包括游览、观赏、休息、娱乐、品尝和购
物等内容。游客对旅游的要求虽然五花八门，但其共同的要求在于“ 付出代
价最小，收获最大。” 因此，旅游信息系统应在游客从事旅游活动的各个阶
段都起作用，特别是要帮助游客选好旅游线路，安排好活动时间与内容，合
理计划开支和购物，妥善解决食宿和交通等问题，不仅使游客尽兴而来、满
意而归，而且也要使东道主获得尽可能的经济效益，把旅游业办得更好、更
活。
3. 软件结构：图9－22 给出了TO
RTI S 的系统软件结构图。图中各功能模
块详述如下。
（1）数据输入模块。这个模块利用的是G
RAM
S 系统的输入编辑模块，根
据需要可以纳入TO
RTI S 系统，也可以不纳入系统。该模块由三部分组成：
图形数据输入子模块：与旅游相关的地图数据是重要的数据来源。本模
块完成行政区划图、水系图、交通图、景点及服务设施分布图等的数字化、
增删、空间拓扑关系生成以及有关交通线的长度、区域面积等基本参数的量
算与入库工作。
图像数据输入子模块：该模块通过彩色扫描仪把各种旅游资源及服务设
施的照片以及一个城市或景点详细的旅游图输入系统供游客调用。这时，照
片与地图均以图像方式在低档的图像卡支持下显示，或采用更为廉价的VG
A
卡仿真显示。
属性数据输入子模块：有关旅游资源的名称、内容、级别、可达性和特
色服务设施的水平与现状，交通网节点名称，航班时刻表以及气候等数据的
输入，用C 语言编写了一个数据库管理系统。该系统可与D
BASEⅢ兼容，支
持用户对属性数据的定义、输入、修改、编辑及逻辑查询等，对于图形和属
性的同步操作分析以及交互查询检索的实现十分方便。
（2）查询检索模块。查询检索模块可根据游客的要求，从多种途径如属
性或图形、图像入手、对区域旅游资源、服务设施和气候状况进行灵活的查
询检索。查询检索的结果可以用文字、图形和图像的方式显示，具有生动、
形象和直观的效果。
（3）路线选择模块。本模块给游客提供了计算机自动选线、人机交互选
线及固定路线选择三种可能。游客选择的路线不仅可以在交通图上动态地显
示出来，而且还可显示或打印出沿路线各点旅游资源及服务设施等方面的资
料。
（4）显示输出模块可以在监视器屏幕上或通过打印机以文字说明、地图
标注及彩色图像的方式使查询检索或路线选择的结果得以显示和输出。特别
是旅行社团可以利用TO
RTI S 和游客或旅游团交换意见，具体安排好旅游路
线、日程表、活动内容与经费等事宜，通过显示输出模块给游客提供一套完
整的图文并茂的资料。
（5）系统界面模块。这个模块是用户或游客与系统打交道的通道。它的
好坏或是否灵活方便，是否对用户友好，直接影响到系统的使用效果和效益。
TO
RTI S 给用户提供了一个菜单方式的界面，具有简单易学、便利操作的特
点，同时还给用户提供了从文字、地图、图像到路线选择等多种查找资料的
能力，以及用户自己利用数据输入模块建立某个具体地区旅游信息系统的能
力。
上述5 个模块之间的关系，可由图9－22 中各模块之间的连线与箭头给
出。
二、数据内容
作为一个实用的或令游客满意的区域旅游信息系统，其数据的完备性、
详细、准确和新鲜是最主要的条件之一。因此，在建立一个区域旅游信息系
统时，对与旅游有关的各种数据的收集和整理必须给予足够的重视。
1. 分类编码：表9－13 给出了TO
RTI S 的数据分类体系、内容及特征。
表9－13TO
RTI S 数据分类、内容及特征
分类体系
一级
二级
内容
特征
旅
游
资
源
山水风光
生物景观
自然奇观
文物史迹
社会风情
味特产
名城特区
现代趣处
名山奇峰、奇石异洞、江河溪流、湖泊珍泉、
海岸海岛等
典型景观、自然保护区、珍禽异木等
气象奇观及自然奇观等
历史遗迹、
古陵墓、
古建筑、
古工程、
古园林、
古艺术等
民族民俗、文艺体育
传统菜点、工艺美术、土特名产等
帝王古都、历史名城、开放城市、经济特区
建设新貌、博物史馆、游乐场所、名小吃馆、
购物中心等
文字描述及照、
地图
服务设
施
行政机关
旅行社团
宾馆饭店
交通
邮电
银行
医疗
涉外政府机构
车站、机场、售票处、时刻表等
急救站、医院、疗养院等
文字描述照片
气
候
特
点
光照
气温
降水
风力
日照时间及日照百分率
平均极高与极低气温
降水量、最大积雪深度
风速、风向
多年平均值、
数
字
基础底图
行政图、
水系图、
道路图及景点与服务设施分
布图、旅游图
地图，比例尺
１∶60 万分类
体系
为了使系统中存储的各种旅游资源和服务设施数据具有唯一性，我们对
它们进行了统一的编码，其编码结构如下图所示。其中左起前4 位为旅游资
源和服务设施实体的分类码；接下来的2 位是该实体所在的行政区代码，简
称区位码；后2 位是该实体所在行政区内相应类别中的顺序排列代码，简称
顺序码。
× × ×   × ×     ×   ×
分类码  区位码  顺序码
在分类码中的码位分配左起第一位是表9－13 中一级分类的编码，第二
位是二级分类的编码，第三、四位则是第三级分类的编码。这一级分类在表
9－13 中未给出，可参考中国科学院遥感应用研究所提出的分类编码体系确
定。
2. 数据结构：在TO
RTI S 中数据结构主要有矢量数据、栅格数据、属性数
据三种基本形式。
（1）矢量数据：主要用于表示行政界线、交通网、水系及景点分布等，
由G
RAM
S 输入编辑模块数字比相应图件产生。每个矢量文件
（. VEC）包括314
个字节的文件头，其具体内容及弧段，点记录结构与G
RAM
S 的相同。系统中
还建立了辅助文件（. PO
S），记录弧段在. VEC 中的位置。在知道弧段号时，
可以很快找到弧段的矢量坐标信息。
（2）栅格数据：主要用于表达扫描仪产生的照片和旅游图的图像数据。
系统中仅存贮了由三个原始波段扫描数据、经过影像增强和彩色合成后的图
像数据，供系统调用和显示。这种图像数据的记录结构与G
RAM
S 中的相同，
在此不予赘述。
（3）属性数据：主要有旅游资源、服务设施、气候数据、航班表、公路
交叉点及路段等的数据，采用D
BF 的文件格式，可由G
RAM
S 属性管理系统或
D
BASEⅢ等管理。其中，路段、道路交叉点及旅游资源等的数据结构，分别在
表9－14，表9－15 和表9－16 中给出。各字段的设立取决于应用的需要。
一般说来，除满足查询检索的要求外，还要满足各种应用模型，如旅游线路
选择模型等的需要。
由于在旅游资源和服务设施方面的描述采用了统一的数据结构，因此，
虽然给建库带来了较大的方便，但却未能充分考虑各种旅游资源及服务设施
之间的差异，反而给查询检索的灵活性及有效性造成了很大的困难。
表9－14RO
AD. DBF 文件结构
字段名
数据类型
宽度
小数位数
编号
N
6
起点号
N
5
终点号
N
5
长度
N
18
5
类型号
N
6
坡度
N
10
4
三、查询检索
1. 查询检索界面：系统与用户的界面主要有五个区：①菜单区；②图形
显示区；③文字信息输出与辅助菜单区；④提示说明区；⑤图像显示区。这
是一个双屏显示系统，具体布局如图9－23 所示。
表9－15N
O
DE. DBF 文件结构
字段名
数据类型
宽度
小数位数
编号
N
6
Y 坐标
N
4
X 坐标
N
4
经度
N
6
1
纬度
N
6
1
名称
C
12
表9－16J I N
G. DBF 文件结构
字段名
数据类型
宽度
小数位数
编号
N
6
分类码
N
8
名称
C
30
V 坐标值
N
4
X 坐标值
N
4
经度
N
6
1
纬度
N
6
1
级别
N
2
文字说明
C
200
图像号
N
3
用户和游客在使用系统进行查询检索时，主要通过菜单区或辅助菜单区
与系统打交道。他们只要移动光标在菜单上的位置，就可以获得所需的相应
数据，操作简单方便，宜于学习掌握，对用户和游客十分友好。
TO
RTI S 提供了多种途径的检索功能，给用户或游客以很大的方便。
（1）文字查询：
旅游资源查询：用户可以按表9－13 中的8 个二级类，查询地区的旅游
资源，查询结果依次在图上给出点位及相应的文字和图像说明。
服务设施查询：用户可根据表9－13 中的7 个二级类，查询地区服务设
施的信息。在查询航班表时，在辅助菜单区即可很方便地给出由当地机场飞
往某地的时刻表，也可以很方便地给出由某地飞往当地机场的航班表，包括
航班号、起落时间、机型、机上服务以及星期几有班机等信息。
（2）地图查询：
点位查询：在显示区域全部景点的地图上，通过移动光标选择一个景点，
可以查询该点的旅游资源信息，包括文字说明和照片、地图等。
市县查询：移动光标指定一个县或市，可以查出该县市的有关旅游资源
或服务设施的数据，包括文字和图像。
等距查询：移动光标选择一个中心点，在辅助菜单区依提示要求输入该
点的距离（即公里数），可以查出在此距离内的全部景点，并依次给出各点
的文字说明与图像。
等时查询：移动光标选择一个中心点并给出向外移动的小时数，系统即
可查出在经过某段时间后所达范围内的全部景点，且依次显示出各点的文字
说明与图像。
路线查询：在选定旅游线路后，可以查出沿线的各旅游景点及服务设施，
并给出各点的文字和图像信息。
（3）图像查询：
在菜单区内可以给出系统存贮的图像清单，用户或游客可以移动光标由
清单上选择一幅或多幅想看的图像，系统可以很快查询检出这些图像，并在
显示屏幕上显示出来，与此相应的文字说明及该图像在地图上的位置，亦可
分别在图形显示区和信息输出和辅助菜单内显示。
2. 查询功能实现：为了说明上述各种查询检索功能是如何具体实现的，
下面举两个例子加以论述。
（1）点位查询：点位查询完成对景点的随意查询。用户通过键盘控制光
标移动，可以随意选出感兴趣的景点，查询该景点的内容与图像。其实现过
程如图9－24 所示。
（2）等距查询：游客可移动光标任选一交通网节点为中心，然后给出某
个距离值，系统便可计算出与该值相应的范围，并逐个查询和显示其中景点
的详细信息。其实现过程如图9－25 所示。为缩短上述过程的时间，可先将
交通网节点间的距离算好，存在名为short . D
I S 文件中，供随时调用。
四、线路选择
游客到一个地区旅游，如何按照“ 付出代价最小收获最大” 的原则选择
一条合适或满意的旅游线路，是一个最重要的问题。由于旅游线路的选择，
不仅仅是一个从这里到那里、在地图上画一条线的问题，它要涉及游览内容、
食宿购物安排、日程表确定及整个路线的经费开销等一系列游客关心的重大
问题。因此，要帮助游客选择旅游线路应该是TO
RTI S 系统的一个十分重要的
任务或功能。对此，我们作了一些初步的尝试。
在TO
RTI S 系统中游客提供了三种不同的选择：①游客选择起终两点，计
算机自动选出一条“ 最佳” 的旅游线路；②游客通过与TO
RTI S 的人机对话，
选出起、终点以及一些必游的景点，计算机帮助连成一条完整的路线；③游
客可以从旅行社或有关部门给出的一些定型旅游线路中，选取一条他们乐意
使用的路线，以完成他们在该地区的旅游活动。下面就其中的一些关键性的
问题加以讨论。
1. 选线原则：旅游线路选择的原理，一般来说可以概括为使游客“ 付出
代价最小，而收获最大” 。在这里游客付出的代价主要包括：时间、金钱和
兴趣，而收获主要包括身心上的满足。为此，在具体选线时，应尽可能减少
重复路线，缩短旅途时间，降低旅游费用，或在不延长旅游时间的条件下，
增加旅游内容，提高旅游活动质量，使游客各方面的需要得以最大限度的满
足，尽兴而归。
此外，对于不同类型的游客而言，有不同选线的标准和出发点。例如金
钱优先、时间优先或兴趣优先的游客，在选线的原则上有很大的差别。对于
他们在具体贯彻“ 付出代价最小，而收获最大” 的原则时，要作不同的安排
和修正。只有充分照顾到不同类型游客在线路上的要求，才能使他们对某一
地区的旅游活动感到满意。
2. 选线方法：在TO
RTI S 中，计算机旅游路线选择的方法是：对区域旅游
网络分析中的狄克斯特累求解最短路径的算法完成。对于一个区域旅游网络
而言，其构成的三大要素是：旅游地（或旅游资源）是旅游网络主要内容或
目标物；旅游交通是旅游地相互联系的纽带，是构成旅游网络的保障和骨架；
游客是旅游网络中的活动体或主体。在具体选线时必须具体地综合考虑这三
方面的因素和影响。
狄克斯特累（D
i j kst ra’ s al gori t hm
）是一种标号算法。它从源
（节点）
开始，每次对一个节点标号，并在网络中逐步扩散开去。该算法给每一个节
点j 一个永久性标号，它等于从节点i 到节点j 的最短路径的长度，而对尚
无永久性标号的每一个节点则给一个试探性标号。它在后面可用来计算该节
点的永久性标号。节点j 的试探性标号实际上是从节点i 到节点j 的最短路
径长度的一个估计值。设P（j ）表示节点j 的永久性标号，Τ （k）表示k
的试探性标号。数组PRI O
R 记录从源节点到最终节点所经地的最短路径各节
点的代号，
bi j 是节点距离矩阵中节点i 到节点j 的距离，如不直接相联则为
∞, i =j 时为0。具体实现步骤如下：
（1）给源节点i 一个水久性标号0，而给其它各节点以试探性标号∞。
（2）对于每一个具有试探性标号的节点（i ，j ）计算
T（j ）＝m
i n[ T（j ），P（i ）＋bi j ]
如果节点j 取得新的试探性标号，则令PRI O
R（j ）＝1。
（3）取出试探性标号最小的节点（已有永久标号的所有节点则不予考
虑），将它的标号作为它的永久性标号。假定节点k 就是试探性标号最小的
节点，我们就令P（k）＝Τ （k）。
（4）对于每个具有试探性标号的节点j ，计算：
T（j ）=m
i n[ T（j ），P（k）＋bkj ]
即用节点k 来比较这两个数据而求出新的试探性标号。对于每个试探性标号
发生改变的节点j ，令PRI O
R
（j ）=K，然后返回步骤（3），直到终点获得了
永久性标号为止。
在进行最佳路线选择之前，必须首先建立矩阵bi j 。bi j 矩阵的原始数据
主要来自RO
AD
. D
BF 数据库。将RO
AD
. D
BF 中的起始点i 与终止点j 的距离L
读入二维数据b[ i ] [ j ] =L，由于游览的路线一般来讲可以往返，如
b[ i ] [ j ] =L，则b[ j ] [ i ] =L。如节点i 和节点j 之间在不通过其它节点时不相
连，则b[ i ] [ j ] =∞。bi j 矩阵就是在进行最佳路线选择时的基本矩阵。
由于矩阵bi j 的大小及bi j 的值对网络计算的速度和最终运算结果的含义
有重要影响，所以在旅游交通网络中节点较多（即bi j 较大）的情况，使相
应的最佳路线选择计算的时间往往长到用户无法忍受的程度。为了改变这种
状况，尽快回答用户选线的要求，可以预先将最佳路线的基本分析结果存贮
起来。这样在使用时可直接读取结果文件，而无须从头开始计算。为此要事
先准备两个基本结果文件：short .  D
I S 存贮任一两节点间最短路线的距离；
short .  N
O
D存贮任一两节点间最短路线所走路径的第一步。这样，在进行最
佳旅游路线选择时，就可使整个工作的速度大大加快。如何把求得的最短路
线显示在屏幕上，需要用到交通图的图形数据库。如最短路线要通过一条路
径，其中一段FRO
M和TO的编号已经由short .  D
O
N文件中获得，则可以根据
FRO
M和TO的值与RO
AD
. D
BF 文件中的起始点字段、终点字段的值进行比较，
判断是否相等。若相等，再找到这段路线的. VEC文件中的矢量数据，就可以
把这段线路输出显示在屏幕上。
由上述不难看出，
TO
RTI S 在选线时目前仅考虑了两点间的平面直线距离
的问题，而未考虑地形形状、路面状况及不同类型游客的特殊需要等一系列
因素的影响问题。因此，在计算机选线时，可取得的结果尚难满足游客的实
际需要。今后应根据实际情况和要求，对bi j 矩阵值的调整方法作进一步深
入细致的分析研究，以期取得较好的实用效果。
应该说，在TO
RTI S 中，游客自选路线以及定型路线选择可以给游客和系
统的用户提供很大的方便，具有较好的实用价值。
五、技术特点
面向游客的区域旅游信息系统作为一种专用软件工具，目前在技术上有
一系列鲜明的特点，但也存在一些有待改进的地方。为了使这个系统的实用
化程度不断提高，成为商品进入国内外市场，推动我国的旅游业的兴旺发达，
需要对TO
RTI S 的现状作全面深入的分析总结。
1. 技术特点：TO
RTI S 是一个受到国内外用产和专家欢迎、把传统旅游业
和现代高新技术结合起来的、且具有很好推广应用前景的计算机应用系统。
它在技术上有以下鲜明特点：
（1）除常规文字查询外，系统具有灵活、多样的地图或空间查询能力。
它可以在地图上移动光标，分别以点位、范围、等距、等时及沿线等方式，
迅速查询检索游客所需的数据。
（2）系统可以同时显示文字、符号、地图和图像等多种形式的数据，屏
幕色彩协调，空间利用充分，具有图文并茂的显著特色。
（3）系统引入以网络分析为基础的最佳游览线路选择模型，给出旅游线
路图及相关参考信息，使系统的服务水平达到一个新的高度。
（4）系统采用多种形式的光标驱动菜单界面，并附有较多、较详细的提
示信息，使用户能灵活、方便、友好和安全地操作整个系统，迅速获得所需
数据与信息。
（5）系统具有较好的实用性、可扩充性和移植性，它虽然是以海南岛为
例研制的，但要推广到其它地区，除选线模型要结合当地实际情况作必要的
调整以及更换系统的数据外，整个系统的软件无须很大的改动就可以运行。
2. 改进方向：为了更好地适应用户和游客的需要，并在实用化和商品化
方面迅速向前迈进，TO
RTI S 需要从以下方面作较大的改进。
（1）系统的用户界面要作较大的调整。也就是说，系统的菜单内容要调
整得更为实用，如改文字查询、地图查询等为区域概况、旅游资源、服务设
施、气候特征及路线安排等查询，同时还要减少菜单的层次，在第三级时进
入实质性操作。此外，还要充分利用功能键，使用户能很方便地完成中文、
英文版的切换以及各种查询过程（如文字查询、地图查询）的切换。
（2）根据各种旅游资源、服务设施和气候特征的具体情况，分别设计其
数据结构，增加可供查询检索的特征字段与路径，使整个查询检索更为方便、
灵活、多样。
（3）要进一步加强TO
RTI S 作为建立面向游客的区域旅游信息系统软件
工具的功能和特色，使用户能方便地构造他们自己的系统，表述他们自己的
特色，如宜于和游客对话，设计新的旅游线路等。此外，系统还增加伴音功
能，使系统能在一种轻松愉快的环境中为用户或游客服务。
§ 6. 地貌信息系统
高度定量化是当今科学进展的趋向和潮流，地貌学理论发展和生产实践
也同样迫切地需要加强计量地貌研究。然而，由于地貌现象的复杂性、地貌
数据的庞大以及研究思路、手段、方法的陈旧等多方面的原因，目前地貌研
究定量化程度总体来说还是相当低的。
G
I S 的强大数据管理、分析计算功能为地貌定量研究提供了有力的支
持，建立地貌信息系统是定量地貌研究的一个重要而有效的发展途径，其必
要性和必然性表现在：
（1）地理信息系统是信息科学、系统科学的产物，又是以“ 三论” 为指
导的分析方法和手段。与G
I S 结合的定量地貌研究是“ 三论” 引入地貌学的
落实和交叉学科发展的生长点，这种结合不仅是对地貌学的发展的促进，也
是对G
I S 的完善。
（2）由于地貌空间数据数量的庞大、要素复杂众多，许多地貌形态量算
工作往往难以实施，传统分析工作只能十分粗略地近似求解，甚至无法进行。
引入地理信息系统的空间指标量算功能通过建立模型和模型运算使上述问题
能较灵活、方便地得以解决，并可在此基础上分析模拟地貌过程，深入研究
地貌作用规律和综合评价其影响效应。
（3）采用计算机辅助制图技术，改革传统地貌制图工艺，可补充和充实
地貌图件的种类与内容，增强其表现能力，同时提高生产时效，降低成本。
这不仅能推动地貌制图方法本身的发展，还能促进地貌图的实用化发展。
具体实现步骤和内容归纳为：
①研究地貌信息内涵和地貌系统的特点。
②根据地貌信息及其分析方法的特点，
结合G
I STool s 建立地貌信息专题
分析系统。
③在地貌信息系统的支持下，建立综合的定量地貌分析模型，利用尽可
能多的信息源，分析地貌信息流及其相关物质流、能量流规律，研究地貌形
态、物质组成、成因机制、分布特征、发生发展规律及其对人类生产、生活
环境的影响作用。
④开发机制地貌制图系统作为地貌信息系统的输出系统，将以上的分析
结果高效而又生动客观地编制成各种平面或立体的地貌分析图件，实现现代
地貌制图计算机的自动化，将在资源开发、环境整治、生产建设的实际目标
中发挥更大的作用。
1988 年至1992 年，北京大学邬伦、任伏虎、王乃樑、韩慕康等在国家
自然科学基金资助下进行该方面的探索，达到一定水平。
一、地貌信息的内涵、地貌系统的特点与分析方法
地貌是地壳表层内外营力共同作用到某一发展阶段所形成的三维地表形
态，是内、外营力，介质性质和时间的函数，可表述如下：
M
=F（x，y，z，Fi ，Fe，m
，t ）（9－30）
其中M表示地貌形态；F 表示内外营力对地表的作用；x，y，z 为空间坐标；
Fi 表示内营力；Fe 表示外营力；m表示构成地貌的介质性质，包括岩性与构
造两个方面；t 表示作用时间。
内外营力的类型、强度、作用方式、介质性质与作用时间的不同组合，
直接影响着地表形态特征。也就是说，在地貌信息中蕴含着归属不同内外营
力和不同发展阶段的特征地貌信息，以此为信息源，提取所需各种特征参数
进行复合分析，可以得到不同专题的综合评价结果。
地貌系统是一个开放性的动态系统，是由各种地貌形态类型和要素构成
的复杂综合体。它不仅在内部各子系统之间进行着物质、能量和信息流的迁
移和转化，而且在系统与外部环境之间也进行着物质、能量和信息流的交换，
从而形成一个复杂的物质、能量和信息的传递网络。地貌系统总处于输入—
转换—输出的动态过程中，即经常有能量自源区经系统流向耗散区，使系统
出现导致有序化的熵减过程，从而具有一定的结构性和相应的熵位，存贮容
量和自调节能力。地貌的发展、发生和演化，实质上就是在地貌系统外部环
境能量流内、外营力作用下，构成地貌要素的地表物质经历的变形变位（抬
升、断错等）分离组合（侵蚀、搬运、堆积等）的复杂物质流传输过程。由
于地貌物质传输过程与热力学传导有相似性，许多地貌演化模型，如斜坡演
化模型（Schei degger，1961；H
i rano，1968）都是热传导方程的形式：
∂
∂
α ∂
∂
β ∂
∂
H
t
H
x
H
y
=
+
2
2
2
2
（
）
9 - 31
其中H
＝H
（x，y，t ）地表高程
但是，实际区域地貌系统的过于复杂与庞大，计量研究中往往不能取得
数学意义上的精确解释。如以上的演化模型往往是针对某一外力过程，限于
极为简单、理想的初始条件并且不考虑介质空间差异的情形；而实际区域内
外营力多样化，介质不均一，甚至连初始高程H
0（x，y）都无法表达成确定
的函数式。因此只能采用适当的方式离散化，化无限为有限，求得尽量逼近
实况的近似解。
具体的说，就是引入有限元素法与有限差分法的思想，将整个区域地貌
体分解成许多“ 微小” 的单元（姑且称之为地貌体元，其顶部地表面称之为
地貌面元）如图9－26（a）所示。在“ 微小” 的区域空间内以平代曲，化繁
为简，由单个到总体，最终建立整个区域上的种种普适性更强的分析模型以
求算各种空间地貌参数和研究复杂地貌过程等问题，可以说离散化是区域地
貌信息系统定量分析的前提与特色。
结合质量守恒原理，可由此进一步推导地貌系统的演化方程（图9－
26）。设区域上物质流密度为q（x，y），可分解为x 方向的qx。和y 方向
的qy，对于任一地貌体元△t 时间间隔内：
通过AB边沿x 方向和通过AD边沿y 方向流入的物质量为：
（qx）xΔ yΔ t ＋（qy）yΔ xΔ t
通过CD边沿x 方向和通过BC边沿y 方向流出的物质量为：
（qx）x－Δ xΔ yΔ t ＋（qy）y＋Δ yΔ xΔ t
故Δ t 时间内地貌体元的物质增量：
Δ M
=（qx）xΔ yΔ t ＋（qy）yΔ xΔ t －（qx）x＋Δ xΔ yΔ t －（qy）y＋Δ y
Δ xΔ t
根据物质守恒原理，这部分增量即为该体元堆积或被侵蚀体积部分的物
质：
Δ M
＝ρ Δ v＝pΔ xΔ H
∴Δ
Δ
Δ
Δ
Δ
Δ
ρ
∂
∂
∂
∂
S
H
q
x
S
t
q
y
S
t
x
y
= −
−
其中Δ s=Δ xΔ y，ρ （x，y）为相应空间物质介质密度，故可推出基本方程：
∂
∂
ρ
H
t
q
= −
∇
−
1
9
32
·
(
)
考虑构造升降，则为
∂
∂
ρ
H
t
q
v
= −
∇
+
−
1
9
33
·
(
)
ν 为新构造垂直运动速率。
q 空间分布是受外力作用特性决定的，可以根据实测和理论推导取得经
验公式。而新构造运动活动状况可根据野外观测（阶地地形变化、阶地形变
测量等）和有限元力学计算地表位移等方法获取。
该基本方程的地貌含义可理解为：任一地表单元高度的变化等于该单元
外力侵蚀或堆积速率与内力抬升或沉降速率的代数和。所有单元的集合反映
区域地貌过程与演化规律。地貌系统的演化阶段可以用地貌信息熵H
2 描述，
对侵蚀流域系统：
H
x
p
x
p =
p
dx
9 - 34
-
+
（）
（）
（
）
ln
∞
∞
∫
若高程积分值S 已知，则
H
p=S- 1－1nS
其中，S 为高程积分：
S
f x dx
= ∫( )
0
1
p(x)
f
x
＝（）/
( )
f x dx
0
1
∫
y=f ( x)
为St rahl er 面积高程曲线。
x＝Si /A    y＝hi /H
式中H为河流至河口高差；hi 为某一等高线与河口高差；A为流域面积，
Si 为hi 等高线以上的面积。
地貌信息熵与地貌起伏度呈负相关，当侵蚀流域处于封闭状态下（构造
长期稳定），由幼年期向老年期演化时其信息熵值逐渐增大（表9－17），
反映随侵蚀搬运过程，流域中地貌起伏变小、系统无序度增加的过程。
由于地貌系统实际上总是处于内外营力的同时作用中，是开放系统。其
演化阶段不一定“ 幼年” 、“ 壮年” 和“ 老年” 顺序演化，而是随内外营力
对抗作用的强度变化而变化。对于侵蚀流域系统，当构造抬升速率小于侵蚀
速率时，地貌向起伏度不断降低的方向演变，当抬升速率大于侵蚀速率，地
貌起伏增加，出现地貌“ 回春” 。反之，对现存地貌形态，可以由St rahl er
曲线与地貌信息熵研究其内外力作用的相对强弱。
表9－17 侵蚀流域地貌系统演化阶段特征
演化阶段
St rahl er 曲线形状
Strahl er 积分值
地貌信息熵
幼年期
上凸
S ＞0. 60
H
p＜0. 111
壮年期
接近直线
0. 35 ＜S ＜0. 60
0. 111 ＜H
p＜0. 4
老年期
下凹
S ＜0. 35
H
p＞0. 400
“ 地貌是构造、过程和时间的函数” ，现存地貌形态的定量指标及其物
质组成等特点集中反映了地貌系统以往内外营力共同作用的总和。地貌信息
系统分析方法就是提取地貌系统各不同侧面的特征参数，采用系统综合分析
方法取得对区域地貌发展规律的总体认识。计算机软硬件技术，特别是地理
信息系统方法的发展，使得建立地貌信息系统，对庞大复杂的地貌空间数据
进行定量分析处理和信息复合与综合评价成为可能。
二、地貌信息系统的基本内容与方法
以实现区域地貌系统定量分析为目的，根据地貌信息及其分析方法的特
点而设计的分析型地貌信息系统是地理信息系统工具、地貌分析软件包和地
貌知识工程相结合的产物，它不仅具有一般地理信息系统的基本功能，还在
一定程度上具有地貌专家的分析处理能力，通过信息复合和综合分析，产生
对地貌空间格局、发展规律以及地貌效应的较为复杂的分析结果。
地理信息系统工具支持下的地貌信息分析系统主要由四个部分组成（图
9－27）。
（1）输入系统：通过数字化、编码和通讯等方式采集录入包括地形图、
专题地图、实测数据和遥感数据等与地貌分析有关的信息。其中地形图是最
重要的基础数据，蕴含丰富的地貌形态信息，是各种地貌作用的综合反映；
专题地图，特别是地质和气候图件，反映了地貌的物质组成和内外营力作用
方式；实测的地球物理、钻探、应力应变数据则可提供许多深层的和内在的
信息；遥感遥测数据可以提供实时形象的多方面的地貌信息。
（2）地貌数据库管理系统：地貌数据库管理系统具有空间数据的定义和
管理能力，用来管理数字、非几何属性及遥感影像数据。
（3）地貌分析软件包：地貌分析软件包由五个相互关联、不同层次的分
析模块组成，每个模型包括系列分析模型。其中，地貌形态分析模块用来提
取由地表形态反映出来的各个侧面的直观或抽象的地貌特征参数；地貌信息
复合模块将各个侧面的地貌信息及外部环境专题信息进行各种不同意义上的
复合分析；区划与评价模块在专题的意义上根据地貌特征进行区划和评价，
为不同目的服务；成因分析模块用来对地貌格局和地貌形态的内外力成因机
制作出分析、解释和模拟；在成因分析的基础上，地貌预测模块根据理论和
统计模型对地貌发展趋势作出科学预测。
（4）输出系统/机助地貌制图系统：将分析结果加以整饰并添加注记，
以文字、表格和图件方式输出。
地貌系统分析流程包括信息获取、存贮管理、分析评价和输出四大步骤，
详见图9－28。
应用地貌信息系统进行地貌分析的一般步骤如下：
①明确研究目的；
③数据项选择，数据采集与校验；
③通过理论分析，确定分析方法与模型并选取一些参考要素，构成检验
函数；
④调用系统操作提取特征地貌参数和其它密切相关的专题信息；
⑤采用适当的模型进行综合分析；
⑥分析结果的地貌意义，反馈到步骤③，适当调整分析模型直到与检验
指标相近为止；
⑦结果数据图件注记、整饰、输出。
理论探讨与实际应用的初步结果表明：地貌信息系统分析与机助制图方
法与常规地貌学方法相比，具有速度快、效率高、精确定量、形象直观、系
列成图、实用性强等特点。不仅可更深入分析区域地貌特征与规律，还能更
好地满足地貌预测、环境管理、国土整治、经济规划、工程选址、灾害防治
等应用需要，这些都是常规地貌工作较难进行与取得的。
三、定量地貌分析模型
地貌模型是用来描述地貌系统实际状态及其客观规律的一定表达形式
（可为语言的或数学的或其它形式），反映地貌状态、过程及其发展趋势。
地貌分析模型化方法主要有以下四种形式：①逻辑模型，由地貌名词和逻辑
运算等组成的逻辑运算符表示，例如向阳坡地（北半球）可以表示为所有坡
度大于5° ，坡向为90° ～270° 区域的集合；②数学模型，由常数、变量和
函数关系等组成的数学表达式表示，如物质顺坡运移速率q 与坡度ψ 的关系
可表达为：q=－kψ ；③物理模型，由物理模型过程表达，如用风洞实验模拟
沙丘移动演化；④图像模型，由某种图像运算的集合表达，如各种专题地貌
图。
地貌形态在地球表层空间的连续分布性为定量分析提供了丰富的信息，
在地貌信息系统中，综合各种模型化方法建立的系列计量地貌分析模型包括
五个方面：①地貌形态量计；②地貌信息复合；③地貌区划与评价；④地貌
成因机制分析模型；⑤地貌发展预测。其主导思想是：对于复杂的地貌现象
首先力求客观、准确、全面地分析提取不同侧面的地貌形态特征，然后，通
过形态信息及其它专题信息（第四纪沉积，新构造运动等）的复合，研究其
物质流、能量流规律，通过区划与评价，综合研究现时地貌空间分布与组合
规律，并进一步进行内、外动力地貌成因、机制理论分析，预测地貌发展趋
势，并为生产建设、经济规划等实现应用提供基本依据。
系列地貌分析模型是地貌分析的核心精髓，也是计量地貌的基本内容。
（一）地貌形态分析
地貌形态分析的内容与目的：全面、系统地定量研究三维地表形态，提
取各种有用的地形基本要素与地貌特征形态参数，这些数据一方面可直接为
一些实际部门提供参考依据，更重要的是为更高层次的地貌综合分析准备基
本资料。
1. 数字高程模型：数字高程模型
（D
EM
）是某一地表单元空间位置和高程
的有序集合，最常用的表达式为高程矩阵，即：
Z
Z
Z
Z
Z
Z
Z
Z
Z
n
n
m
m
mn
m
n
11
12
1
21
22
21
1
2
Λ
Λ
Μ
Λ














×
数字高程模型通过等高线插值产生，是地貌形态分析的基础，采用特殊
算法可提取各种地貌特征参数。
2. 地形要素模型：
（1）坡度：
tanG = [( Z /
) + (
) ]
2
2 1/ 2
∂
∂
∂
∂
∂
∂
∂
∂
x
Z
y
Z
x
Z
Z
Z
Z
Z
x
Z
y
Z
Z
Z
Z
ij
i
j
i
j
i
j
i
j
i
j
ij
i
j
i j
i
j
i
/
(
)
[
/
]
[(
)
(
)] /
[
/
]
[(
)
(
,
,
,
,
,
,
,
,
,
9
35
2
2
8
2
1
1
1
1
1
1
1
1
1
1
1
1
1
1
1
−
=
+
−
+
+
=
+
+
−
+
+
+
−
−
+
−
−
−
+
−
+
−
+
+
Δ
j
i j
j i
Z
x
−
−
−
+
1
1
2
8
,
,
)] / Δ
（2）坡向：
tan
/
/
(
)
(
)
A
Z
y
Z
x
A
= −
−
−
∂
∂
∂
∂
π
π
＜＜
9
36
（3）地貌线长度：
L
x
y
Z
Z
i
i
i
n
=
+
+
−
−
−
=
∑[
(
) ]
(
)
/
Δ
Δ
2
2
1
2 1 2
1
9
37
其中n 为地貌线上连续高程点个数。
（4）地貌面面积:
A
x
y
i
m
=
=−
∑(
)
Δ
· Δ
1
m为地貌面中高程点的个数。
（5）地貌体体积：
V
x
y
Zi
i
m
=
−
=
∑(
)
(
)
Δ
· Δ
·
9
39
1
3. 形态参数模型：
（1）切割密度（沟谷密度）：切割密度由单位地表面积上的沟谷线总长
度决定：
D
=Σ L/A
( 9- 40)
在地表介质和降雨情况相近的条件下，切割程度可以反映构造运动幅度，主
要是抬升幅度。
（2）起伏度
（粗糙度）：表示某一个单位地表单元地势起伏的复杂程度，
可由地表实际面积与投影面积之比表示，即
R
A
A
G
A
A
i
i
i
i
m
i
m
=
=
−
=
=
∑
∑
实
投
·
/
(sec
) /
(
)
9
41
1
1
也可由相对高差的变化表示。起伏度在一定程度上可反映构造运动的幅
度，对于水土流失、洪涝灾害、农业灌溉和军事机械化作战有重要意义。
（3）河网密度：单位面积内河流总长度，即
E=Σ L/A
（9－42）
（4）河床弯曲系数：河床弯曲长度与河床直线长度之比，即
M
=Σ l /Σ L
（9－43）
（5）河床辫状系数：心滩总长度与河床长度之比，即
B＝Σ l 心/Σ L
（9－44）
上述E、M
、B等参数均与降雨、输沙量、河床介质和地壳下降速率有关。
（6）
河流分叉比：
为主流与支流个数之比，
正常情况下接近固定的比率，
偏离正常比率时可反映介质或构造异常。
（7）河谷宽深比：
R＝W
/d
在一定程度上反映构造抬升速率。
（8）河流走向频率：与地质构造的走向有关。
（9）河床纵比降：河床纵比降系数为河床内两点高差与直线距离之比：
i =h/L
（9－46）
河床纵比降异常系数为某段河床纵比降系数与下游河床纵比降系数之
比：
k＝i 0/i 1
（9－47）
河床纵比降异常系数反映了构造部位或岩性差异的影响。
（10）湖泊岸线发育系数与补给系数：湖泊岸线发育系数为湖泊长度与
湖泊面积相同的圆周之比：
K
R
F
m
B
B
=
=
−
1
2
0 28
1
9
48
1 2
1 2
π
π
(
/ )
.
((
)
)
(
)
/
/
其中1 为湖岸线长度，FB为湖泊面积。
湖泊补给系数为流域面积与湖泊面积之比：
KB=S/FB
（9- 49）
上述两个参数反映了某些区域地貌特征。
（二）地貌信息复合
1. 地貌参数复合模型：由于各地貌参数均反映某一个方面的地貌特征，
将这些参数进行复合，可以发现各参数之间的规律性，得到综合分析结果。
2. 地貌信息与专题信息复合模型：地貌格局和形态的形成除与地壳构造
运动有关外，还受地表物质组成和外动力地质作用影响，将地貌信息与地质、
水文、气象等专题信息复合，可以找出它们之间的内在联系，排除外部影响，
探索地貌现象的地壳内部成因机制。
（三）地貌区划与评价
1. 地貌环境评价模型：根据对单个和多方面地貌特征的分析，评价地貌
环境对农业、建筑、工程、旅游、居住条件的影响。
2. 地貌灾害评价模型：评价地貌条件对于各种自然灾害的发生、发展以
及灾害防治的影响。
（四）成因机制分析
1. 内动力成因分析模型：内动力是地壳内部能量产生的营力，决定地貌
的格局和骨架，可以从几何效应与力学机制两个方面进行分析，有限元分析
法是研究地貌的内动力成因机制的有效方法。
2. 外动力成因分析模型：外动力是地球表面受太阳能和重力以及生物活
动的营力，主要包括重力作用、风力作用、水力作用、温差作用和生物作用
等，影响地貌的形态。
（五）地貌发展预测
1. 理论地貌预测模型：以成因分析为基础，采用数理模型进行宏观和微
观的模拟，预测地貌的发展结果。
2. 统计地貌预测模型：在地貌发展历史数据的基础上，采用“ 黑箱” 和
“ 灰箱” 的方法进行数理统计分析，预测地貌过程的趋势。
  
